if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("ZenonMediaStatsSource",[],(function(a,b,c,d,e,f){"use strict";a=["averageRtcpInterval","firCount","frameBitDepth","frameHeight","frameWidth","nackCount","packetsLost","pliCount","qpSum","remoteId","sliCount","trackId","timestamp"];b=["bytesSent","encoderImplementation","framesEncoded","headerBytesSent","hugeFramesSent","keyFramesEncoded","lastPacketSentTimestamp","mediaSourceId","packetsSent","perDscpPacketsSent","qualityLimitationDurations","qualityLimitationReason","qualityLimitationResolutionChanges","retransmittedBytesSent","retransmittedPacketsSent","rid","senderId","targetBitrate","totalEncodedBytesTarget","totalEncodeTime","totalPacketSendDelay"];c=["audioLevel","burstDiscardCount","burstDiscardRate","burstLossCount","burstPacketsDiscarded","burstPacketsLost","bytesReceived","concealedSamples","concealmentEvents","decoderImplementation","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","fractionLost","framesDecoded","framesDropped","framesReceived","gapDiscardRate","gapLossRate","headerBytesReceived","insertedSamplesForDeceleration","jitter","jitterBufferDelay","jitterBufferEmittedCount","keyFramesDecoded","lastPacketReceivedTimestamp","packetsDiscarded","packetsDuplicated","packetsFailedDecryption","packetsReceived","packetsRepaired","perDscpPacketsReceived","receiverId","removedSamplesForAcceleration","roundTripTime","silentConcealedSamples","totalAudioEnergy","totalDecodeTime","totalInterFrameDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay"];d=["delayedPacketOutageSamples","framesSent","interruptionCount","jitterBufferTargetDelay","relativePacketArrivalDelay","sumOfSquaredFramesDuration","timestamp","totalFramesDuration","totalInterruptionDuration"];e=["availableOutgoingBitrate","consentRequestsSent","requestsReceived","requestsSent","responsesReceived","responsesSent"];var g=["audioLevel","framesPerSecond","height","timestamp","totalAudioEnergy","totalSamplesDuration","width"],h=["googAccelerateRate","googCurrentDelayMs","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googPreferredJitterBufferMs","googSecondaryDiscardedRate","googSpeechExpandRate","packetsLost"],i=["googActualEncBitrate"],j=["googRtt"];f.RTP_STATS=a;f.OUTBOUND_RTP_STATS=b;f.INBOUND_RTP_STATS=c;f.TRACK_STATS=d;f.CANDIDATE_PAIR_STATS=e;f.MEDIA_SOURCE_STATS=g;f.SSRC_STATS=h;f.VIDEO_BWE_STATS=i;f.GOOG_CANDIDATE_PAIR_STATS=j}),66);
__d("ZenonMediaStatsSourcePreM86",[],(function(a,b,c,d,e,f){"use strict";a=["firCount","nackCount","packetsLost","pliCount","qpSum","sliCount","timestamp"];b=["audioLevel","concealedSamples","concealmentEvents","delayedPacketOutageSamples","frameHeight","framesDropped","framesReceived","framesSent","frameWidth","insertedSamplesForDeceleration","interruptionCount","jitterBufferDelay","jitterBufferEmittedCount","jitterBufferTargetDelay","relativePacketArrivalDelay","removedSamplesForAcceleration","sumOfSquaredFramesDuration","timestamp","totalAudioEnergy","totalFramesDuration","totalInterruptionDuration","totalSamplesDuration","totalSamplesReceived"];c=["burstDiscardCount","burstDiscardRate","burstLossCount","burstPacketsDiscarded","burstPacketsLost","bytesReceived","decoderImplementation","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","framesDecoded","gapDiscardRate","gapLossRate","headerBytesReceived","jitter","keyFramesDecoded","lastPacketReceivedTimestamp","packetsDiscarded","packetsReceived","packetsRepaired","roundTripTime","totalDecodeTime","totalInterFrameDelay","totalSquaredInterFrameDelay"];d=["bytesSent","framesEncoded","headerBytesSent","hugeFramesSent","keyFramesEncoded","packetsSent","qualityLimitationResolutionChanges","retransmittedBytesSent","retransmittedPacketsSent","targetBitrate","totalEncodedBytesTarget","totalEncodeTime","totalPacketSendDelay"];f.RTP_STATS=a;f.TRACK_STATS=b;f.INBOUND_RTP_STATS=c;f.OUTBOUND_RTP_STATS=d}),66);
__d("ZenonRenderedView",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THUMBNAIL:1,GRID:2,PINNED:3});c=a;f["default"]=c}),66);
__d("ZenonMediaStatsConfig",["UserAgent","ZenonMediaStatsSource","ZenonMediaStatsSourcePreM86","ZenonRenderedView"],(function(a,b,c,d,e,f,g){"use strict";var h={contentType:"audio",remote:!1,trackId:"globalStatsTrackId"},i=h.trackId,j=h.contentType,k={contentType:"audio",remote:!1,trackId:"pinnedAudioStatsTrackId"},l={contentType:"video",remote:!1,trackId:"pinnedVideoStatsTrackId"},m={contentType:"audio",remote:!1,trackId:"outboundAudioStatsTrackId"},n=m.trackId,o={contentType:"screen_audio",remote:!1,trackId:"outboundScreenAudioStatsTrackId"},p=o.trackId,q={contentType:"screen",remote:!1,trackId:"outboundScreenStatsTrackId"},r=q.trackId,s={contentType:"video",remote:!1,trackId:"outboundVideoStatsTrackId"},t=s.trackId,u=0,v=6e4,w={AUDIO_DEV_IS_STALLED:"audioDevIsStalled",AUDIO_DEV_REC_STALLS:"audioDevRecStalls",AUDIO_DEV_STALL_DURATION:"audioDevStallDuration",AUDIO_DEV_TOTAL_STALLS:"audioDevTotalStalls",AUDIO_LOG_LEVEL:"audioLogLevel",AUDIO_LOG_LEVEL_COUNT:"audioLogLevelCount",AUDIO_LOUDNESS_LEVEL:"audioLoudnessLevel",AV_SYNC:"avSync",AV_SYNC_ABS:"avSyncAbs",AV_SYNC_COUNT:"avSyncCount",AV_SYNC_OOB:"avSyncOob",E2E_LATENCY:"e2eLatency",FRAME_RATE_MEAN:"framerateMean",PACKETS_LOST_CORRECTED:"packetsLostCorrected",RENDERED_VIEW:"renderedView",SIMULCAST_LAYER_CHANGES:"simulcast_layer_changes",VIDEO_CAPTURE_FRAME_COUNT:"captureFrameCount",VIDEO_CAPTURE_IS_STALLED:"videoCaptureIsStalled",VIDEO_CAPTURE_STALL_DURATION:"videoCaptureStallDuration",VIDEO_CAPTURE_TOTAL_STALLS:"videoCaptureTotalStalls",VIDEO_CONVERTED_QP_SUM:"videoConvertedQpSum",VIDEO_DECODE_TIME:"videoDecodeTime",VIDEO_DECODED_BYTES:"videoDecodedBytes",VIDEO_ENCODE_IS_STALLED:"videoEncodeIsStalled",VIDEO_ENCODE_STALL_DURATION:"videoEncodeStallDuration",VIDEO_ENCODE_TOTAL_STALLS:"videoEncodeTotalStalls",VIDEO_FREEZE_COUNT:"videoFreezeCount",VIDEO_FREEZE_DURATION:"videoFreezeDuration",VIDEO_FREEZE_DURATION_500MS:"videoFreezeDuration500ms",VIDEO_PAUSE_COUNT:"videoPauseCount",VIDEO_PAUSE_DURATION:"videoPauseDuration",VIDEO_QP:"qp",VIDEO_RECEIVER_QUALITY_SCORE:"videoReceiverQualityScore",VIDEO_SENT_IS_STALLED:"videoSentIsStalled",VIDEO_SENT_STALL_DURATION:"videoSentStallDuration",VIDEO_SENT_TOTAL_STALLS:"videoSentTotalStalls",VIDEO_SUM_CAPTURE_PIXEL:"videoSumCapturePixel",VIDEO_SUM_PIXEL:"videoSumPixel"},x={AUDIO_NETEQ_WAIT_TIME:"audioNeteqWaitTime",AUDIO_PACKET_LOSS_RATE:"audioPacketLossRate",AUDIO_PLC_CNG_RATE:"audioPlcCngRate",AUDIO_PLC_RATE:"audioPlcRate",GLOBAL_AUDIO_BITRATE:"globalAudioBitrate",GLOBAL_BATTERY_USAGE:"globalBatteryUsage",GLOBAL_CPU_USAGE:"globalCpuUsage",GLOBAL_VIDEO_BITRATE:"globalVideoBitrate",ROUND_TRIP_TIME:"roundTripTime",VIDEO_AV_SYNC_ABS:"videoAvSyncAbs",VIDEO_AV_SYNC_OOB:"videoAvSyncOob",VIDEO_CROPPING_RATIO:"videoCroppingRatio",VIDEO_ENCODED_FRAME_RATE:"encodedFrameRate",VIDEO_FRAME_RATE:"videoFrameRate",VIDEO_FREEZE_COUNT_PER_MIN:"videoFreezeCountPerMin",VIDEO_FREEZE_DURATION_PER_MIN:"videoFreezeDurationPerMin",VIDEO_NETEQ_WAIT_TIME:"videoNeteqWaitTime",VIDEO_PACKET_LOSS_RATE:"videoPacketLossRate",VIDEO_QP:"videoQP",VIDEO_QUALITY:"videoQuality",VIDEO_RENDER_SCALE_RATIO:"videoRenderScaleRatio"},y=["bytesReceived","bytesSent","consentRequestsSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","framesDecoded","framesEncoded","framesReceived","framesSent","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","insertedSamplesForDeceleration","jitterBufferDelay","jitterBufferEmittedCount","keyFramesDecoded","keyFramesEncoded","nackCount","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","requestsReceived","requestsSent","removedSamplesForAcceleration","responsesReceived","responsesSent","totalAudioEnergy","totalDecodeTime","totalEncodeTime","totalInterFrameDelay","totalPacketSendDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay",w.AUDIO_LOG_LEVEL,w.AUDIO_LOG_LEVEL_COUNT,w.AUDIO_LOUDNESS_LEVEL,w.AUDIO_DEV_REC_STALLS,w.AUDIO_DEV_STALL_DURATION,w.AUDIO_DEV_TOTAL_STALLS,w.AV_SYNC_COUNT,w.AV_SYNC_OOB,w.PACKETS_LOST_CORRECTED,w.SIMULCAST_LAYER_CHANGES,w.VIDEO_CAPTURE_FRAME_COUNT,w.VIDEO_FREEZE_COUNT,w.VIDEO_FREEZE_DURATION,w.VIDEO_FREEZE_DURATION_500MS,w.VIDEO_PAUSE_COUNT,w.VIDEO_PAUSE_DURATION,w.VIDEO_SUM_CAPTURE_PIXEL,w.VIDEO_SUM_PIXEL,w.VIDEO_CONVERTED_QP_SUM,w.VIDEO_DECODED_BYTES,w.VIDEO_DECODE_TIME,w.VIDEO_CAPTURE_STALL_DURATION,w.VIDEO_CAPTURE_TOTAL_STALLS,w.VIDEO_ENCODE_STALL_DURATION,w.VIDEO_ENCODE_TOTAL_STALLS,w.VIDEO_SENT_STALL_DURATION,w.VIDEO_SENT_TOTAL_STALLS],z=["audioLevel","availableOutgoingBitrate","frameHeight","frameWidth","framesPerSecond","googAccelerateRate","googActualEncBitrate","googCurrentDelayMs","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googPreferredJitterBufferMs","googRtt","googSecondaryDiscardedRate","googSpeechExpandRate","height","jitter","roundTripTime","width",w.AUDIO_DEV_IS_STALLED,w.RENDERED_VIEW,w.FRAME_RATE_MEAN,w.E2E_LATENCY,w.AV_SYNC,w.AV_SYNC_ABS,w.VIDEO_QP,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_SENT_IS_STALLED,w.VIDEO_RECEIVER_QUALITY_SCORE],A=["availableOutgoingBitrate","bytesReceived","bytesSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","frameHeight","framesDecoded","framesEncoded","framesPerSecond","framesReceived","framesSent","frameWidth","googAccelerateRate","googActualEncBitrate","googCurrentDelayMs","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googRtt","googSecondaryDiscardedRate","googSpeechExpandRate","height","insertedSamplesForDeceleration","jitter","jitterBufferDelay","jitterBufferEmittedCount","nackCount","keyFramesDecoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","removedSamplesForAcceleration","roundTripTime","totalAudioEnergy","totalDecodeTime","totalEncodeTime","totalInterFrameDelay","totalPacketSendDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay","width",w.AUDIO_DEV_REC_STALLS,w.AUDIO_DEV_STALL_DURATION,w.AUDIO_DEV_TOTAL_STALLS,w.VIDEO_CAPTURE_STALL_DURATION,w.VIDEO_CAPTURE_TOTAL_STALLS,w.VIDEO_ENCODE_STALL_DURATION,w.VIDEO_ENCODE_TOTAL_STALLS,w.VIDEO_SENT_STALL_DURATION,w.VIDEO_SENT_TOTAL_STALLS,w.PACKETS_LOST_CORRECTED,w.VIDEO_CAPTURE_FRAME_COUNT,w.VIDEO_FREEZE_COUNT,w.VIDEO_FREEZE_DURATION,w.VIDEO_FREEZE_DURATION_500MS,w.VIDEO_PAUSE_COUNT,w.VIDEO_PAUSE_DURATION,w.VIDEO_SUM_CAPTURE_PIXEL,w.VIDEO_SUM_PIXEL,w.VIDEO_CONVERTED_QP_SUM,w.VIDEO_DECODED_BYTES,w.VIDEO_DECODE_TIME,w.SIMULCAST_LAYER_CHANGES,w.AUDIO_DEV_IS_STALLED,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_SENT_IS_STALLED,w.FRAME_RATE_MEAN,w.E2E_LATENCY,w.AV_SYNC,w.AV_SYNC_ABS],B=["audioLevel","availableOutgoingBitrate","bytesReceived","bytesSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","frameHeight","framerateMean","framesDecoded","framesEncoded","framesPerSecond","framesReceived","framesSent","frameWidth","googAccelerateRate","googCurrentDelayMs","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googPreferredJitterBufferMs","googRtt","height","jitter","jitterBufferDelay","jitterBufferEmittedCount","keyFramesEncoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","roundTripTime","totalAudioEnergy","totalDecodeTime","totalEncodeTime","width",w.E2E_LATENCY,w.VIDEO_QP,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_SENT_IS_STALLED],C=["consentRequestsSent","estimatedPlayoutTimestamp","estimatedPlayoutTimestamp_delta","fecPacketsDiscarded","fecPacketsReceived","firCount","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","jitterBufferDelay_delta","jitterBufferDelay","jitterBufferEmittedCount","keyFramesEncoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum_delta","requestsReceived","requestsSent","responsesReceived","responsesSent","totalAudioEnergy"],D={audioLevel:1e4,jitter:1e3,totalAudioEnergy:1e4,totalDecodeTime:1e3,totalEncodeTime:1e3,totalSamplesDuration:1e3},E=["availableOutgoingBitrate","consentRequestsSent","requestsReceived","requestsSent","responsesReceived","responsesSent"],F=["audioLevel","packetsLost","totalAudioEnergy","totalSamplesDuration"],G=[5,50,95],H=["bandwidth","rtt"];function a(){return c("UserAgent").isBrowser("Chrome < 86")||c("UserAgent").isBrowser("Edge (Chromium Based) < 86")||c("UserAgent").isBrowser("Opera < 72")}function b(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").TRACK_STATS:d("ZenonMediaStatsSource").TRACK_STATS}function e(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").INBOUND_RTP_STATS:d("ZenonMediaStatsSource").INBOUND_RTP_STATS}function I(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").OUTBOUND_RTP_STATS:d("ZenonMediaStatsSource").OUTBOUND_RTP_STATS}function J(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").RTP_STATS:d("ZenonMediaStatsSource").RTP_STATS}function K(){return d("ZenonMediaStatsSource").CANDIDATE_PAIR_STATS}function L(){return d("ZenonMediaStatsSource").MEDIA_SOURCE_STATS}function M(){return d("ZenonMediaStatsSource").SSRC_STATS}function N(){return d("ZenonMediaStatsSource").VIDEO_BWE_STATS}function O(){return d("ZenonMediaStatsSource").GOOG_CANDIDATE_PAIR_STATS}g.GLOBAL_STATS_TRACK_INFO=h;g.GLOBAL_STATS_TRACKID=i;g.GLOBAL_STATS_CONTENT_TYPE=j;g.GLOBAL_STATS_RENDERED_VIEW=c("ZenonRenderedView").GRID;g.PINNED_AUDIO_STATS_TRACK_INFO=k;g.PINNED_VIDEO_STATS_TRACK_INFO=l;g.OUTBOUND_AUDIO_STATS_TRACK_INFO=m;g.OUTBOUND_AUDIO_STATS_TRACKID=n;g.OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO=o;g.OUTBOUND_SCREEN_AUDIO_STATS_TRACKID=p;g.OUTBOUND_SCREEN_STATS_TRACK_INFO=q;g.OUTBOUND_SCREEN_STATS_TRACKID=r;g.OUTBOUND_VIDEO_STATS_TRACK_INFO=s;g.OUTBOUND_VIDEO_STATS_TRACKID=t;g.VOICE_ENERGY_THRESHOLD=u;g.AV_SYNC_CUTOFF=v;g.DERIVED_METRICS=w;g.PER_STREAM_AGG_METRICS=x;g.CUMULATIVE_STATS=y;g.DELTA_STATS=z;g.STATS_REQUESTED=A;g.TSLOG_STATS_REQUESTED=B;g.TSLOG_STATS_TO_SUPPRESS=C;g.TSLOG_METRIC_SCALE=D;g.TSLOG_STATS_REQUESTED_FROM_CANDIDATE_PAIR=E;g.RULE_VIOLATION_ALLOWLIST=F;g.PERCENTILES_REQUESTED=G;g.NETWORK_HEALTH_STATS=H;g.isPreChromium86=a;g.getTrackStats=b;g.getInboundRtpStats=e;g.getOutboundRtpStats=I;g.getRtpStats=J;g.getCandidatePairStats=K;g.getMediaSourceStats=L;g.getSsrcStats=M;g.getVideoBweStats=N;g.getGoogCandidatePairStats=O}),98);
__d("ZenonNetworkQualityMonitor",["$InternalEnum","UserAgent","ZenonInfraActionsLogger","ZenonMediaStatsConfig","ZenonNetworkQualityIndicatorConfigSitevarConfig","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i="googActualEncBitrate";a=function(){function a(){var a;this.$3=0;this.$4=0;this.$5=0;this.$6=0;this.$7=[];this.$8=j.Good;this.$9=c("immutable").Map();this.$1=this.$15();this.$2=this.$16();this.$10=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_poor_packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$11=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_fair_packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$12=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_jitter_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$13=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_avsync_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$14=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_use_disconnected_check||!1;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonNetworkQualityMonitor constructed: rtt "+this.$1+", packetLoss "+this.$2})}var b=a.prototype;b.$16=function(){var a;return(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY};b.$15=function(){var a;return(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").rtt_threshold)!=null?a:Number.POSITIVE_INFINITY};b.$17=function(a,b){if(a!=null){a=a.deltaStat[b];if(a!=null){a=(b=a.getLastAddedValue())!=null?b:0;a>this.$5&&(this.$5=a);return a>this.$1}}return!1};b.$18=function(a,b,c){a=a<0?0:a/(a+b);a>this.$6&&(this.$6=a);return a>=c};b.$19=function(a){if(a!=null){a=a.deltaStat[i];if(a!=null){this.$4=(a=a.getLastAddedValue())!=null?a:0}}};b.$20=function(a,b,c,d){if(a!=null&&c!=="packetsSent"){b=a.cumulativeStat[b];a=a.cumulativeStat[c];if(b!=null&&a!=null)return this.$18(b.getDeltaFromLastUpdate(),a.getDeltaFromLastUpdate(),d)}return!1};b.$21=function(a,b){var c=this,d=b.packetLostKey,e=b.packetsKey,f=b.rttKey;b=Array.from(a.values()).some(function(a){var b=c.$20(a,d,e,c.$2);c.$19(a);return b||c.$17(a,f)});return b};b.getMetricKeys=function(a){return{packetLostKey:d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED,packetsKey:a?"packetsSent":"packetsReceived",rttKey:c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")?"googRtt":"roundTripTime"}};b.getCount=function(){return this.$3};b.getCurrentBitrate=function(){return this.$4};b.getAvgBitrateDuringBadNetwork=function(){var a=this.$7.reduce(function(a,b){return a+b},0),b=this.$7.length;return b===0?0:a/b};b.$22=function(a,b){if(b){this.$8=j.Poor;this.$7.push(this.$4);return this.$8}if(a!=null){b=this.$3;var d=this.$21(a,this.getMetricKeys(!0));a=this.$21(a,this.getMetricKeys(!1));d||a?this.$3<h&&this.$3++:this.$3>0&&this.$3--;this.$3>=h?(this.$8=j.Poor,this.$7.push(this.$4)):this.$3<=0?(b!==this.$3&&this.$3===0&&this.$8!==j.Good&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[Network] Bad network window with avg bitrate: "+this.getAvgBitrateDuringBadNetwork()+", max rtt: "+this.$5+", max packet loss: "+this.$6}),this.$7=[],this.$8=j.Good):this.$3>=1&&this.$8===j.Poor&&this.$7.push(this.$4)}return this.$8};b.$23=function(a,b){var d=this;if(a==null){this.$9=c("immutable").Map();return this.$9}var e=this.$9;this.$9=c("immutable").Map().withMutations(function(c){a.forEach(function(a,f){if(a.remote===!1)return;var g=e.get(f)==null;a=[d.$24(a),d.$25(b),d.$26(a),d.$27(a,g),d.$28(a,g)];var h=j.Excellent,i=[];a.forEach(function(a){a.quality<h&&(h=a.quality);a=a.reason;a!=null&&i.push(a)});c.set(f,{quality:h,reasons:i})})});return this.$9};b.$28=function(a,b){if(!this.$14||a.contentType!=="video"||a.isMuted===!0||b)return{quality:j.Excellent};a=(b=a.cumulativeStat.packetsReceived)==null?void 0:b.getDeltaFromLastUpdate();return a===0?{quality:j.Disconnected,reason:k.ZERO_PACKETS_RECEIVED}:{quality:j.Excellent}};b.$25=function(a){return a?{quality:j.Disconnected,reason:k.ICE_DISCONNECTED}:{quality:j.Excellent}};b.$26=function(a){var b;b=(b=a.cumulativeStat.jitter)==null?void 0:b.getDeltaFromLastUpdate();return a.contentType==="audio"&&b!=null&&b>this.$12?{quality:j.Fair,reason:k.JITTER}:{quality:j.Excellent}};b.$27=function(a,b){if(b)return{quality:j.Excellent};b=(b=a.cumulativeStat.packetsReceived)==null?void 0:b.getDeltaFromLastUpdate();a=(a=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED])==null?void 0:a.getDeltaFromLastUpdate();if(b==null||a==null)return{quality:j.Excellent};if(this.$18(a,b,this.$10))return{quality:j.Poor,reason:k.PACKET_LOSS};else if(this.$18(a,b,this.$11))return{quality:j.Fair,reason:k.PACKET_LOSS};return{quality:j.Excellent}};b.$24=function(a){a=(a=a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC])==null?void 0:a.getLastAddedValue();return a!=null&&a>this.$13?{quality:j.Fair,reason:k.AV_SYNC}:{quality:j.Excellent}};b.determineNetworkStatus=function(a,b){var d=this.$22(a,b);d===j.Poor&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[Network] Showing poor network indicator with current bitrate: "+this.getCurrentBitrate()});return{local:d,remote:this.$23(a,b)}};return a}();var j=b("$InternalEnum")({Excellent:4,Good:3,Fair:2,Poor:1,Disconnected:0}),k=b("$InternalEnum").Mirrored(["PACKET_LOSS","ZERO_PACKETS_RECEIVED","END_TO_END_LANTENCY","AV_SYNC","JITTER","ICE_DISCONNECTED"]);g.ZenonNetworkQualityMonitor=a;g.ZenonNetworkQuality=j;g.ZenonNetworkQualityReason=k}),98);
__d("ZenonScreenSharingAvailabilityType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["AudioCallUnsupported","Available","GroupCallUnsupported","Unknown"]);c=a;f["default"]=c}),66);
__d("ZenonCallFeatures",["ZenonNetworkQualityMonitor","ZenonScreenSharingAvailabilityType","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonNetworkQualityMonitor").ZenonNetworkQuality;c=b("immutable").Record({canAddParticipants:!1,canReplaceLocalStreams:!1,cowatchEnabled:!1,cowatchGroupEnabled:!1,dominantSpeaker:null,multiwayVideoEscalation:!1,networkStatus:{local:a.Good,remote:b("immutable").Map()},screenSharingAvailability:b("ZenonScreenSharingAvailabilityType").Available,supportMultipleStreams:!1});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("ZenonCall",["ZenonCallFeatures","ZenonCallsModelTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonCallsModelTypes").ZenonCallState;d=(c=b("immutable")).Record({callState:a.New,clientCallId:"",clientEndpointId:"",collisionContext:{groupThreadID:null,peerID:null,serverInfoData:null},endCallReason:null,features:new(b("ZenonCallFeatures"))(),groupEscalationStatus:null,mediaTracks:c.Map(),participants:c.Map(),remoteScreenSharingUserIDs:c.OrderedSet(),responseSubCode:null,rtpReceivers_I_KNOW_WHAT_I_AM_DOING:c.Set(),rtpSenders_I_KNOW_WHAT_I_AM_DOING:c.Set(),selfParticipantID:"0",stateSyncInputStates:c.Map(),stateSyncOutputStates:c.Map(),videoEscalationStatus:null});f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d);e.exports=f}),null);
__d("ZenonCallParticipant",["ZenonCallsModelTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonCallsModelTypes").ZenonCallParticipantState;c=b("immutable").Record({id:void 0,isExistingParticipant:void 0,isVideoSubscribed:!1,participantType:void 0,representativeID:null,state:a.Disconnected,trackIDs:void 0,userCapabilities:void 0});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("ZenonImmutableMediaTrack",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({contentHint:"",contentType:void 0,displaySurface:void 0,enabled:!1,flags:Object.freeze({}),label:"",name:"",pausedDownlink:!1,remote:!1,trackId:void 0,userMuted:!1,webrtcStream:void 0,webrtcTrack:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("ZenonScreenSharingHooks_isFloorControlEnabled.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ZenonScreenSharingHooks_isFloorControlEnabled",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"is_screen_share_floor_control_enabled",storageKey:null},action:"THROW",path:"is_screen_share_floor_control_enabled"}],type:"ZenonScreenSharingFeature",abstractKey:null};e.exports=a}),null);
__d("ZenonScreenSharingHooks_maxRecipients.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ZenonScreenSharingHooks_maxRecipients",selections:[{alias:null,args:null,kind:"ScalarField",name:"max_screen_share_recipients",storageKey:null}],type:"ZenonScreenSharingFeature",abstractKey:null};e.exports=a}),null);
__d("ZenonAppContextImplQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7813160768697646"}),null);
__d("ZenonAppContextImplQuery.graphql",["ZenonAppContextImplQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"context"}],c=[{alias:null,args:[{kind:"Variable",name:"context",variableName:"context"}],concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonAppContextImplQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonAppContextImplQuery",selections:c},params:{id:b("ZenonAppContextImplQuery_facebookRelayOperation"),metadata:{},name:"ZenonAppContextImplQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ZenonIntegrationMatchContainer_match.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ZenonIntegrationMatchContainer_match",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"integration_boundary_name",storageKey:null},action:"THROW",path:"integration_boundary_name"}],type:"IZenonIntegrationBoundary",abstractKey:"__isIZenonIntegrationBoundary"};e.exports=a}),null);
__d("ZenonCallsContext",["ZenonCallSDK","err","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({callMediaTypes:c("immutable").Map(),calls:c("immutable").Map(),callSDK:new(c("ZenonCallSDK"))({}),callTimers:c("immutable").Map(),currentClientCallId:"0",e2eeModel:null,endCallHooks:new Set(),isE2eeMandated:!1,setCurrentClientCallId:function(){throw c("err")("setCurrentClientCallId is not implemented!")},setE2eeModel:function(){throw c("err")("setE2eeModel is not implemented!")}});e=b;g["default"]=e}),98);
__d("recoil-shared/util/Recoil_isPromise",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!!a&&typeof a.then==="function"}e.exports=a}),null);
__d("recoil-shared/util/Recoil_nullthrows",["recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a!=null)return a;throw b("recoil-shared/util/Recoil_err")((a=c)!=null?a:"Got unexpected null or undefined")}e.exports=a}),null);
__d("recoil-oss/adt/Recoil_Loadable",["Promise","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){}var c=a.prototype;c.getValue=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.toPromise=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.valueMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.valueOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected value, but in "'+this.state+'" state')};c.promiseMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.promiseOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected promise, but in "'+this.state+'" state')};c.errorMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.errorOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected error, but in "'+this.state+'" state')};c.is=function(a){return a.state===this.state&&a.contents===this.contents};c.map=function(a){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};return a}(),h=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="hasValue";b.contents=a;return b}var d=a.prototype;d.getValue=function(){return this.contents};d.toPromise=function(){return b("Promise").resolve(this.contents)};d.valueMaybe=function(){return this.contents};d.valueOrThrow=function(){return this.contents};d.promiseMaybe=function(){return void 0};d.errorMaybe=function(){return void 0};d.map=function(a){var c=this;try{var d=a(this.contents);return b("recoil-shared/util/Recoil_isPromise")(d)?m(d):p(d)?d:k(d)}catch(d){return b("recoil-shared/util/Recoil_isPromise")(d)?m(d.next(function(){return c.map(a)})):l(d)}};return a}(g),i=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="hasError";b.contents=a;return b}var d=a.prototype;d.getValue=function(){throw this.contents};d.toPromise=function(){return b("Promise").reject(this.contents)};d.valueMaybe=function(){return void 0};d.promiseMaybe=function(){return void 0};d.errorMaybe=function(){return this.contents};d.errorOrThrow=function(){return this.contents};d.map=function(a){return this};return a}(g),j=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="loading";b.contents=a;return b}var d=a.prototype;d.getValue=function(){throw this.contents};d.toPromise=function(){return this.contents};d.valueMaybe=function(){return void 0};d.promiseMaybe=function(){return this.contents};d.promiseOrThrow=function(){return this.contents};d.errorMaybe=function(){return void 0};d.map=function(a){var c=this;return m(this.contents.then(function(b){b=a(b);if(p(b)){var c=b;switch(c.state){case"hasValue":return c.contents;case"hasError":throw c.contents;case"loading":return c.contents}}return b})["catch"](function(d){if(b("recoil-shared/util/Recoil_isPromise")(d))return d.then(function(){return c.map(a).contents});throw d}))};return a}(g);function k(a){return Object.freeze(new h(a))}function l(a){return Object.freeze(new i(a))}function m(a){return Object.freeze(new j(a))}function n(){return Object.freeze(new j(new(b("Promise"))(function(){})))}function o(a){return a.every(function(a){return a.state==="hasValue"})?k(a.map(function(a){return a.contents})):a.some(function(a){return a.state==="hasError"})?l(b("recoil-shared/util/Recoil_nullthrows")(a.find(function(a){return a.state==="hasError"}),"Invalid loadable passed to loadableAll").contents):m(b("Promise").all(a.map(function(a){return a.contents})))}function a(a){var c=Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(function(b){return a[b]});c=c.map(function(a){return p(a)?a:b("recoil-shared/util/Recoil_isPromise")(a)?m(a):k(a)});c=o(c);return Array.isArray(a)?c:c.map(function(b){return Object.getOwnPropertyNames(a).reduce(function(a,c,d){return babelHelpers["extends"]({},a,(a={},a[c]=b[d],a))},{})})}function p(a){return a instanceof g}c={of:function(a){return b("recoil-shared/util/Recoil_isPromise")(a)?m(a):p(a)?a:k(a)},error:function(a){return l(a)},loading:function(){return n()},all:a,isLoadable:p};e.exports={loadableWithValue:k,loadableWithError:l,loadableWithPromise:m,loadableLoading:n,loadableAll:a,isLoadable:p,RecoilLoadable:c}}),null);
__d("recoil-shared/util/Recoil_gkx",["gkx"],(function(a,b,c,d,e,f){"use strict";var g=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function a(a){return(a=g.get(a))!=null?a:!1}a.setPass=function(a){g.set(a,!0)};a.setFail=function(a){g.set(a,!1)};a.clear=function(){g.clear()};e.exports=b("gkx")}),null);
__d("recoil-oss/core/Recoil_ReactMode",["__debug","react","recoil-shared/util/Recoil_gkx"],(function(a,b,c,d,e,f){"use strict";var g,h;d=h||b("react");f=(f=d.createMutableSource)!=null?f:d.unstable_createMutableSource;var i=(g=d.useMutableSource)!=null?g:d.unstable_useMutableSource,j=(g=d.useSyncExternalStore)!=null?g:d.unstable_useSyncExternalStore;function a(){if(b("recoil-shared/util/Recoil_gkx")("4523"))return{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0};if(b("recoil-shared/util/Recoil_gkx")("4444")&&j!=null)return{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1};return b("recoil-shared/util/Recoil_gkx")("4476")&&i!=null&&typeof window!=="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?b("recoil-shared/util/Recoil_gkx")("1841868")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:b("recoil-shared/util/Recoil_gkx")("1841868")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function c(){var a=b("__debug");a=a.isAcceptingUpdate;return typeof a==="function"&&a()}e.exports={createMutableSource:f,useMutableSource:i,useSyncExternalStore:j,reactMode:a,isFastRefreshEnabled:c}}),null);
__d("recoil-oss/core/Recoil_RecoilValue",[],(function(a,b,c,d,e,f){"use strict";b=function(){function a(a){this.key=a}var b=a.prototype;b.toJSON=function(){return{key:this.key}};return a}();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b);function a(a){return a instanceof g||a instanceof h}e.exports={AbstractRecoilValue:b,RecoilState:g,RecoilValueReadOnly:h,isRecoilValue:a}}),null);
__d("recoil-shared/util/Recoil_expectationViolation",["expectationViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=b("expectationViolation")}),null);
__d("recoil-shared/util/Recoil_mapIterable",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("regeneratorRuntime").mark(function d(){var e,f,g,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:e=0,(f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!g){b.next=8;break}if(!(h>=f.length)){b.next=5;break}return b.abrupt("break",17);case 5:i=f[h++];b.next=12;break;case 8:h=f.next();if(!h.done){b.next=11;break}return b.abrupt("break",17);case 11:i=h.value;case 12:j=i;b.next=15;return c(j,e++);case 15:b.next=2;break;case 17:case"end":return b.stop()}},d,this)})()}e.exports=a}),null);
__d("recoil-shared/util/Recoil_recoverableViolation",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=b("recoverableViolation")}),null);
__d("recoil-oss/core/Recoil_Node",["recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValue","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_ReactMode").isFastRefreshEnabled;g=function(){};var h=new g(),i=new Map(),j=new Map();function a(a){return b("recoil-shared/util/Recoil_mapIterable")(a,function(a){return b("recoil-shared/util/Recoil_nullthrows")(j.get(a))})}function c(a){if(i.has(a.key)){var c='Duplicate atom key "'+a.key+'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.';b("recoil-shared/util/Recoil_recoverableViolation")(c,"recoil")}i.set(a.key,a);c=a.set==null?new(b("recoil-oss/core/Recoil_RecoilValue").RecoilValueReadOnly)(a.key):new(b("recoil-oss/core/Recoil_RecoilValue").RecoilState)(a.key);j.set(a.key,c);return c}var k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function d(a){var b=i.get(a);if(b==null)throw new k('Missing definition for RecoilValue: "'+a+'""');return b}function f(a){return i.get(a)}var l=new Map();function m(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var c=i.get(a);(c==null?void 0:c.shouldDeleteConfigOnRelease==null?void 0:c.shouldDeleteConfigOnRelease())&&(i["delete"](a),o(a)==null?void 0:o(a)(),l["delete"](a))}function n(a,c){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;c===void 0?l["delete"](a):l.set(a,c)}function o(a){return l.get(a)}e.exports={nodes:i,recoilValues:j,registerNode:c,getNode:d,getNodeMaybe:f,deleteNodeConfigIfPossible:m,setConfigDeletionHandler:n,getConfigDeletionHandler:o,recoilValuesForKeys:a,NodeMissingError:k,DefaultValue:g,DEFAULT_VALUE:h}}),null);
__d("RecoilUsageLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744252");c=b("FalcoLoggerInternal").create("recoil_usage_log",a);e.exports=c}),null);
__d("RecoilusagelogEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECOIL_ROOT_MOUNTED:"RECOIL_ROOT_MOUNTED"});f["default"]=a}),66);
__d("recoil-oss/adt/Recoil_Queue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b()}e.exports={enqueueExecution:a}}),null);
__d("recoil-oss/core/Recoil_RetentionZone",[],(function(a,b,c,d,e,f){"use strict";var g=function(){};function a(){return new g()}e.exports={RetentionZone:g,retentionZone:a}}),null);
__d("recoil-shared/util/Recoil_CopyOnWrite",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Set(a);a.add(b);return a}function b(a,b){a=new Set(a);a["delete"](b);return a}function c(a,b,c){a=new Map(a);a.set(b,c);return a}function d(a,b,c){a=new Map(a);a.set(b,c(a.get(b)));return a}function f(a,b){a=new Map(a);a["delete"](b);return a}function g(a,b){var c=new Map(a);b.forEach(function(a){return c["delete"](a)});return c}e.exports={setByAddingToSet:a,setByDeletingFromSet:b,mapBySettingInMap:c,mapByUpdatingInMap:d,mapByDeletingFromMap:f,mapByDeletingMultipleFromMap:g}}),null);
__d("recoil-shared/util/Recoil_filterIterable",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a,c){var d,e,f,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=0,(e=a,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!f){b.next=8;break}if(!(h>=e.length)){b.next=5;break}return b.abrupt("break",18);case 5:i=e[h++];b.next=12;break;case 8:h=e.next();if(!h.done){b.next=11;break}return b.abrupt("break",18);case 11:i=h.value;case 12:j=i;if(!c(j,d++)){b.next=16;break}b.next=16;return j;case 16:b.next=2;break;case 18:case"end":return b.stop()}},g,this)}e.exports=a}),null);
__d("recoil-shared/util/Recoil_lazyProxy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Proxy(a,{get:function(a,c){!(c in a)&&c in b&&(a[c]=b[c]());return a[c]},ownKeys:function(a){for(var d in b)c[d];return Object.keys(a)}});return c}e.exports=a}),null);
__d("recoil-oss/core/Recoil_FunctionalCore",["recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_CopyOnWrite","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_lazyProxy","recoil-shared/util/Recoil_mapIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").getNode,h=b("recoil-oss/core/Recoil_Node").getNodeMaybe,i=b("recoil-oss/core/Recoil_Node").recoilValuesForKeys,j=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone,k=b("recoil-shared/util/Recoil_CopyOnWrite").setByAddingToSet,l=Object.freeze(new Set()),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function n(a,c,d){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return function(){return void 0};var e=a.getState().retention.nodesRetainedByZone;function f(a){var b=e.get(a);b||e.set(a,b=new Set());b.add(c)}if(d instanceof j)f(d);else if(Array.isArray(d))for(var g=d,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;f(k)}return function(){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var e=a.getState(),f=e.retention;function g(a){var b=f.nodesRetainedByZone.get(a);b==null?void 0:b["delete"](c);b&&b.size===0&&f.nodesRetainedByZone["delete"](a)}if(d instanceof j)g(d);else if(Array.isArray(d))for(var e=d,h=Array.isArray(e),i=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=e.length)break;k=e[i++]}else{i=e.next();if(i.done)break;k=i.value}k=k;g(k)}}}function o(a,b,c,d){var e=a.getState();if(e.nodeCleanupFunctions.has(c))return;var f=g(c),h=n(a,c,f.retainedBy),i=f.init(a,b,d);e.nodeCleanupFunctions.set(c,function(){i(),h()})}function a(a,b,c){o(a,a.getState().currentTree,b,c)}function c(a,b){a=a.getState();a.nodeCleanupFunctions.get(b)==null?void 0:a.nodeCleanupFunctions.get(b)();a.nodeCleanupFunctions["delete"](b)}function d(a,b,c){o(a,b,c,"get");return g(c).get(a,b)}function p(a,b,c){return g(c).peek(a,b)}function f(a,b,c){var d=h(b);d==null?void 0:d.invalidate==null?void 0:d.invalidate(a);return babelHelpers["extends"]({},a,{atomValues:a.atomValues.clone()["delete"](b),nonvalidatedAtoms:a.nonvalidatedAtoms.clone().set(b,c),dirtyAtoms:k(a.dirtyAtoms,b)})}function q(a,b,c,d){var e=g(c);if(e.set==null)throw new m("Attempt to set read-only RecoilValue: "+c);e=e.set;o(a,b,c,"set");return e(a,b,d)}function r(a,c,d){var e=a.getState(),f=a.getGraph(c.version),h=g(d).nodeType;return b("recoil-shared/util/Recoil_lazyProxy")({type:h},{loadable:function(){return p(a,c,d)},isActive:function(){return e.knownAtoms.has(d)||e.knownSelectors.has(d)},isSet:function(){return h==="selector"?!1:c.atomValues.has(d)},isModified:function(){return c.dirtyAtoms.has(d)},deps:function(){var a;return i((a=f.nodeDeps.get(d))!=null?a:[])},subscribers:function(){var f;return{nodes:i(b("recoil-shared/util/Recoil_filterIterable")(s(a,c,new Set([d])),function(a){return a!==d})),components:b("recoil-shared/util/Recoil_mapIterable")((f=(f=e.nodeToComponentSubscriptions.get(d))==null?void 0:f.values())!=null?f:[],function(a){a=a[0];return{name:a}})}}})}function s(a,b,c){var d=new Set();c=Array.from(c);a=a.getGraph(b.version);for(var b=c.pop();b;b=c.pop()){var e;d.add(b);e=(e=a.nodeToNodeSubscriptions.get(b))!=null?e:l;for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;d.has(h)||c.push(h)}}return d}e.exports={getNodeLoadable:d,peekNodeLoadable:p,setNodeValue:q,initializeNode:a,cleanUpNode:c,setUnvalidatedAtomValue_DEPRECATED:f,peekNodeInfo:r,getDownstreamNodes:s}}),null);
__d("recoil-shared/util/Recoil_differenceSets",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Set();for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];FIRST:for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;for(var k=0;k<d.length;k++){var l=d[k];if(l.has(j))continue FIRST}b.add(j)}return b}e.exports=a}),null);
__d("recoil-shared/util/Recoil_mapMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();a.forEach(function(a,d){c.set(d,b(a,d))});return c}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Graph",["recoil-shared/util/Recoil_differenceSets","recoil-shared/util/Recoil_mapMap","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(){return{nodeDeps:new Map(),nodeToNodeSubscriptions:new Map()}}function c(a){return{nodeDeps:b("recoil-shared/util/Recoil_mapMap")(a.nodeDeps,function(a){return new Set(a)}),nodeToNodeSubscriptions:b("recoil-shared/util/Recoil_mapMap")(a.nodeToNodeSubscriptions,function(a){return new Set(a)})}}function g(a,c,d,e){var f=d.nodeDeps;d=d.nodeToNodeSubscriptions;var g=f.get(a);if(g&&e&&g!==e.nodeDeps.get(a))return;f.set(a,c);e=g==null?c:b("recoil-shared/util/Recoil_differenceSets")(c,g);for(var f=e,e=Array.isArray(f),h=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;d.has(i)||d.set(i,new Set());i=b("recoil-shared/util/Recoil_nullthrows")(d.get(i));i.add(a)}if(g){i=b("recoil-shared/util/Recoil_differenceSets")(g,c);for(var h=i,e=Array.isArray(h),f=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=h.length)break;g=h[f++]}else{f=h.next();if(f.done)break;g=f.value}c=g;if(!d.has(c))return;i=b("recoil-shared/util/Recoil_nullthrows")(d.get(c));i["delete"](a);i.size===0&&d["delete"](c)}}}function d(a,c,d,e){var f,h,i=d.getState();e===i.currentTree.version||e===((f=i.nextTree)==null?void 0:f.version)||e===((f=i.previousTree)==null?void 0:f.version)||b("recoil-shared/util/Recoil_recoverableViolation")("Tried to save dependencies to a discarded tree","recoil");f=d.getGraph(e);g(a,c,f);if(e===((h=i.previousTree)==null?void 0:h.version)){h=d.getGraph(i.currentTree.version);g(a,c,h,f)}if(e===((h=i.previousTree)==null?void 0:h.version)||e===i.currentTree.version){e=(h=i.nextTree)==null?void 0:h.version;if(e!==void 0){i=d.getGraph(e);g(a,c,i,f)}}}e.exports={cloneGraph:c,graph:a,saveDepsToStore:d}}),null);
__d("recoil-oss/core/Recoil_Keys",[],(function(a,b,c,d,e,f){"use strict";var g=0;a=function(){return g++};var h=0;b=function(){return h++};var i=0;c=function(){return i++};e.exports={getNextTreeStateVersion:a,getNextStoreID:b,getNextComponentID:c}}),null);
__d("recoil-oss/core/Recoil_SnapshotCache",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){g==null?void 0:g()}e.exports={setInvalidateMemoizedSnapshot:a,invalidateMemoizedSnapshot:b}}),null);
__d("recoil-oss/core/Recoil_RecoilValueInterface",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_SnapshotCache","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_FunctionalCore").getDownstreamNodes,i=b("recoil-oss/core/Recoil_FunctionalCore").getNodeLoadable,j=b("recoil-oss/core/Recoil_FunctionalCore").setNodeValue,k=b("recoil-oss/core/Recoil_Keys").getNextComponentID,l=b("recoil-oss/core/Recoil_Node").getNode,m=b("recoil-oss/core/Recoil_Node").getNodeMaybe,n=b("recoil-oss/core/Recoil_Node").DefaultValue,o=b("recoil-oss/core/Recoil_ReactMode").reactMode,p=(g=b("recoil-oss/core/Recoil_RecoilValue")).AbstractRecoilValue,q=g.RecoilState,r=g.RecoilValueReadOnly;g=g.isRecoilValue;var s=b("recoil-oss/core/Recoil_SnapshotCache").invalidateMemoizedSnapshot;function a(a,c,d){var e;c=c.key;d===void 0&&(d=a.getState().currentTree);var f=a.getState();d.version===f.currentTree.version||d.version===((e=f.nextTree)==null?void 0:e.version)||d.version===((e=f.previousTree)==null?void 0:e.version)||b("recoil-shared/util/Recoil_recoverableViolation")("Tried to read from a discarded tree","recoil");f=i(a,d,c);f.state==="loading"&&f.contents["catch"](function(){return});return f}function c(a,b){var c=a.clone();b.forEach(function(a,b){a.state==="hasValue"&&a.contents instanceof n?c["delete"](b):c.set(b,a)});return c}function t(a,c,d,e){d=d.key;if(typeof e==="function"){a=i(a,c,d);if(a.state==="loading"){c='Tried to set atom or selector "'+d+'" using an updater function while the current state is pending, this is not currently supported.';b("recoil-shared/util/Recoil_recoverableViolation")(c,"recoil");throw b("recoil-shared/util/Recoil_err")(c)}else if(a.state==="hasError")throw a.contents;return e(a.contents)}else return e}function u(a,c,d){if(d.type==="set"){var e=d.recoilValue,f=d.valueOrUpdater;f=t(a,c,e,f);a=j(a,c,e.key,f);for(var e=a.entries(),f=Array.isArray(e),a=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(f){if(a>=e.length)break;g=e[a++]}else{a=e.next();if(a.done)break;g=a.value}g=g;var h=g[0];g=g[1];v(c,h,g)}}else if(d.type==="setLoadable"){h=d.recoilValue.key;g=d.loadable;v(c,h,g)}else if(d.type==="markModified"){a=d.recoilValue.key;c.dirtyAtoms.add(a)}else if(d.type==="setUnvalidated"){f=d.recoilValue.key;e=d.unvalidatedValue;h=m(f);h==null?void 0:h.invalidate==null?void 0:h.invalidate(c);c.atomValues["delete"](f);c.nonvalidatedAtoms.set(f,e);c.dirtyAtoms.add(f)}else b("recoil-shared/util/Recoil_recoverableViolation")("Unknown action "+d.type,"recoil")}function v(a,b,c){c.state==="hasValue"&&c.contents instanceof n?a.atomValues["delete"](b):a.atomValues.set(b,c),a.dirtyAtoms.add(b),a.nonvalidatedAtoms["delete"](b)}function w(a,b){a.replaceState(function(c){c=z(c);for(var d=0;d<b.length;d++){var e=b[d];u(a,c,e)}A(a,c);s();return c})}function x(a,b){if(y.length){var c=y[y.length-1],d=c.get(a);d||c.set(a,d=[]);d.push(b)}else w(a,[b])}var y=[];function d(){var a=new Map();y.push(a);return function(){for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];w(g,f)}g=y.pop();g!==a&&b("recoil-shared/util/Recoil_recoverableViolation")("Incorrect order of batch popping","recoil")}}function z(a){return babelHelpers["extends"]({},a,{atomValues:a.atomValues.clone(),nonvalidatedAtoms:a.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(a.dirtyAtoms)})}function A(a,b){a=h(a,b,b.dirtyAtoms);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;(e=m(e))==null?void 0:e.invalidate==null?void 0:e.invalidate(b)}}function B(a,b,c){x(a,{type:"set",recoilValue:b,valueOrUpdater:c})}function f(a,b,c){if(c instanceof n)return B(a,b,c);x(a,{type:"setLoadable",recoilValue:b,loadable:c})}function C(a,b){x(a,{type:"markModified",recoilValue:b})}function D(a,b,c){x(a,{type:"setUnvalidated",recoilValue:b,unvalidatedValue:c})}function E(a,c,d,e){var f=c.key;e===void 0&&(e=null);var g=k();c=a.getState();c.nodeToComponentSubscriptions.has(f)||c.nodeToComponentSubscriptions.set(f,new Map());b("recoil-shared/util/Recoil_nullthrows")(c.nodeToComponentSubscriptions.get(f)).set(g,[(c=e)!=null?c:"<not captured>",d]);e=o();if(e.early&&(e.mode==="LEGACY"||e.mode==="MUTABLE_SOURCE")){c=a.getState().nextTree;c&&c.dirtyAtoms.has(f)&&d(c)}return{release:function(){var c=a.getState(),d=c.nodeToComponentSubscriptions.get(f);if(d===void 0||!d.has(g)){b("recoil-shared/util/Recoil_recoverableViolation")("Subscription missing at release time for atom "+f+". This is a bug in Recoil.","recoil");return}d["delete"](g);d.size===0&&c.nodeToComponentSubscriptions["delete"](f)}}}function F(a,b){var c=a.getState();c=c.currentTree;b=l(b.key);b.clearCache==null?void 0:b.clearCache(a,c)}e.exports={RecoilValueReadOnly:r,AbstractRecoilValue:p,RecoilState:q,getRecoilValueAsLoadable:a,setRecoilValue:B,setRecoilValueLoadable:f,markRecoilValueModified:C,setUnvalidatedRecoilValue:D,subscribeToRecoilValue:E,isRecoilValue:g,applyAtomValueWrites:c,batchStart:d,writeLoadableToTreeState:v,invalidateDownstreams:A,copyTreeState:z,refreshRecoilValue:F}}),null);
__d("recoil-shared/util/Recoil_someSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(b.call(c,f[1],f[0],a))return!0;e=d.next()}return!1}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Retention",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_someSet"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_FunctionalCore").cleanUpNode,h=b("recoil-oss/core/Recoil_Node").deleteNodeConfigIfPossible,i=b("recoil-oss/core/Recoil_Node").getNode,j=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone;f=12e4;var k=new Set();function l(a,c){var d=a.getState(),e=d.currentTree;if(d.nextTree){b("recoil-shared/util/Recoil_recoverableViolation")("releaseNodesNowOnCurrentTree should only be called at the end of a batch","recoil");return}var f=new Set();for(var c=c,g=Array.isArray(c),h=0,c=g?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;if(i instanceof j)for(var k=p(d,i),l=Array.isArray(k),n=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(l){if(n>=k.length)break;q=k[n++]}else{n=k.next();if(n.done)break;q=n.value}q=q;f.add(q)}else f.add(i)}q=m(a,f);for(var n=q,l=Array.isArray(n),k=0,n=l?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=n.length)break;i=n[k++]}else{k=n.next();if(k.done)break;i=k.value}h=i;o(a,e,h)}}function m(a,c){var d=a.getState(),e=d.currentTree,f=a.getGraph(e.version),g=new Set(),h=new Set();j(c);return g;function j(c){var l=new Set();c=n(a,e,c,g,h);for(var m=0;m<c.length;m++){var o,p=c[m];if(i(p).retainedBy==="recoilRoot"){h.add(p);continue}if(((o=d.retention.referenceCounts.get(p))!=null?o:0)>0){h.add(p);continue}if(q(p).some(function(a){return d.retention.referenceCounts.get(a)})){h.add(p);continue}o=f.nodeToNodeSubscriptions.get(p);if(o&&b("recoil-shared/util/Recoil_someSet")(o,function(a){return h.has(a)})){h.add(p);continue}g.add(p);l.add(p)}o=new Set();for(var p=l,m=Array.isArray(p),c=0,p=m?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(c>=p.length)break;l=p[c++]}else{c=p.next();if(c.done)break;l=c.value}l=l;for(var l=(l=f.nodeDeps.get(l))!=null?l:k,r=Array.isArray(l),s=0,l=r?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=l.length)break;t=l[s++]}else{s=l.next();if(s.done)break;t=s.value}t=t;g.has(t)||o.add(t)}}o.size&&j(o)}}function n(a,c,d,e,f){var g=a.getGraph(c.version),h=[],i=new Set();while(d.size>0)j(b("recoil-shared/util/Recoil_nullthrows")(d.values().next().value));return h;function j(a){if(e.has(a)||f.has(a)){d["delete"](a);return}if(i.has(a))return;var b=g.nodeToNodeSubscriptions.get(a);if(b)for(var b=b,c=Array.isArray(b),k=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(c){if(k>=b.length)break;l=b[k++]}else{k=b.next();if(k.done)break;l=k.value}l=l;j(l)}i.add(a);d["delete"](a);h.push(a)}}function o(a,c,d){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;g(a,d);a=a.getState();a.knownAtoms["delete"](d);a.knownSelectors["delete"](d);a.nodeTransactionSubscriptions["delete"](d);a.retention.referenceCounts["delete"](d);var e=q(d);for(var f=0;f<e.length;f++){var i=e[f];(i=a.retention.nodesRetainedByZone.get(i))==null?void 0:i["delete"](d)}c.atomValues["delete"](d);c.dirtyAtoms["delete"](d);c.nonvalidatedAtoms["delete"](d);i=a.graphsByVersion.get(c.version);if(i){f=i.nodeDeps.get(d);if(f!==void 0){i.nodeDeps["delete"](d);for(var e=f,a=Array.isArray(e),c=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(c>=e.length)break;f=e[c++]}else{c=e.next();if(c.done)break;f=c.value}f=f;(f=i.nodeToNodeSubscriptions.get(f))==null?void 0:f["delete"](d)}}i.nodeToNodeSubscriptions["delete"](d)}h(d)}function p(a,b){return(a=a.retention.nodesRetainedByZone.get(b))!=null?a:k}function q(a){a=i(a).retainedBy;if(a===void 0||a==="components"||a==="recoilRoot")return[];else if(a instanceof j)return[a];else return a}function r(a,b){var c=a.getState();c.nextTree?c.retention.retainablesToCheckForRelease.add(b):l(a,new Set([b]))}function a(a,c,d){var e;if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var f=a.getState().retention.referenceCounts;e=((e=f.get(c))!=null?e:0)+d;e===0?s(a,c):f.set(c,e)}function s(a,c){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var d=a.getState().retention.referenceCounts;d["delete"](c);r(a,c)}function c(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var c=a.getState();l(a,c.retention.retainablesToCheckForRelease);c.retention.retainablesToCheckForRelease.clear()}function d(a){return a===void 0?"recoilRoot":a}e.exports={SUSPENSE_TIMEOUT_MS:f,updateRetainCount:a,updateRetainCountToZero:s,releaseScheduledRetainablesNow:c,retainedByOptionWithDefault:d}}),null);
__d("recoil-shared/util/Recoil_ReactBatchedUpdates",["ReactDOMComet"],(function(a,b,c,d,e,f){a=b("ReactDOMComet").unstable_batchedUpdates;e.exports={unstable_batchedUpdates:a}}),null);
__d("recoil-oss/core/Recoil_Batching",["recoil-oss/core/Recoil_RecoilValueInterface","recoil-shared/util/Recoil_ReactBatchedUpdates"],(function(a,b,c,d,e,f){var g=b("recoil-oss/core/Recoil_RecoilValueInterface").batchStart;a=b("recoil-shared/util/Recoil_ReactBatchedUpdates").unstable_batchedUpdates;var h=a;c=function(a){h=a};d=function(){return h};f=function(a){h(function(){var b=function(){return void 0};try{b=g(),a()}finally{b()}})};e.exports={getBatcher:d,setBatcher:c,batchUpdates:f}}),null);
__d("recoil-oss/adt/Recoil_PersistentMap",["hamt_plus","recoil-shared/util/Recoil_gkx"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a){this.$1=new Map(a==null?void 0:a.entries())}var b=a.prototype;b.keys=function(){return this.$1.keys()};b.entries=function(){return this.$1.entries()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.set=function(a,b){this.$1.set(a,b);return this};b["delete"]=function(a){this.$1["delete"](a);return this};b.clone=function(){return i(this)};b.toMap=function(){return new Map(this.$1)};return a}(),h=function(){function a(c){this.$1=b("hamt_plus").empty.beginMutation();if(c instanceof a){var d=c.$1.endMutation();c.$1=d.beginMutation();this.$1=d.beginMutation()}else if(c)for(var d=c.entries(),c=Array.isArray(d),e=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];this.$1.set(g,f)}}var c=a.prototype;c.keys=function(){return this.$1.keys()};c.entries=function(){return this.$1.entries()};c.get=function(a){return this.$1.get(a)};c.has=function(a){return this.$1.has(a)};c.set=function(a,b){this.$1.set(a,b);return this};c["delete"]=function(a){this.$1["delete"](a);return this};c.clone=function(){return i(this)};c.toMap=function(){return new Map(this.$1)};return a}();function i(a){if(b("recoil-shared/util/Recoil_gkx")("1865551"))return new h(a);else return new g(a)}e.exports={persistentMap:i}}),null);
__d("recoil-oss/core/Recoil_State",["recoil-oss/adt/Recoil_PersistentMap","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_PersistentMap").persistentMap,h=b("recoil-oss/core/Recoil_Graph").graph,i=b("recoil-oss/core/Recoil_Keys").getNextTreeStateVersion;function j(){var a=i();return{version:a,stateID:a,transactionMetadata:{},dirtyAtoms:new Set(),atomValues:g(),nonvalidatedAtoms:g()}}function a(){var a=j();return{currentTree:a,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set(),knownSelectors:new Set(),transactionSubscriptions:new Map(),nodeTransactionSubscriptions:new Map(),nodeToComponentSubscriptions:new Map(),queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set(),graphsByVersion:new Map().set(a.version,h()),retention:{referenceCounts:new Map(),nodesRetainedByZone:new Map(),retainablesToCheckForRelease:new Set()},nodeCleanupFunctions:new Map()}}e.exports={makeEmptyTreeState:j,makeEmptyStoreState:a,getNextTreeStateVersion:i}}),null);
__d("recoil-shared/util/Recoil_Environment",[],(function(a,b,c,d,e,f){"use strict";var g=typeof Window==="undefined"||typeof window==="undefined";a=function(a){return!g&&(a===window||a instanceof Window)};b=typeof navigator!=="undefined"&&navigator.product==="ReactNative";e.exports={isSSR:g,isReactNative:b,isWindow:a}}),null);
__d("recoil-shared/util/Recoil_Memoize",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c,d=function(){c||(c={});var d=b.apply(void 0,arguments);Object.hasOwnProperty.call(c,d)||(c[d]=a.apply(void 0,arguments));return c[d]};return d}function b(a,b){var c,d,e=function(){var e=b.apply(void 0,arguments);if(c===e)return d;c=e;d=a.apply(void 0,arguments);return d};return e}function c(a,b){var c,d,e=function(){var e=b.apply(void 0,arguments);if(c===e)return d;c=e;d=a.apply(void 0,arguments);return d},f=function(){c=null};return[e,f]}e.exports={memoizeWithArgsHash:a,memoizeOneWithArgsHash:b,memoizeOneWithArgsHashAndInvalidation:c}}),null);
__d("recoil-shared/util/Recoil_concatIterables",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a){var c,d,e,f,h,i,j,k,l,m;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){b.next=7;break}if(!(e>=c.length)){b.next=4;break}return b.abrupt("break",30);case 4:f=c[e++];b.next=11;break;case 7:e=c.next();if(!e.done){b.next=10;break}return b.abrupt("break",30);case 10:f=e.value;case 11:h=f,(i=h,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 13:if(!j){b.next=19;break}if(!(k>=i.length)){b.next=16;break}return b.abrupt("break",28);case 16:l=i[k++];b.next=23;break;case 19:k=i.next();if(!k.done){b.next=22;break}return b.abrupt("break",28);case 22:l=k.value;case 23:m=l;b.next=26;return m;case 26:b.next=13;break;case 28:b.next=1;break;case 30:case"end":return b.stop()}},g,this)}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Snapshot",["recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_SnapshotCache","recoil-oss/core/Recoil_State","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_Memoize","recoil-shared/util/Recoil_concatIterables","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Batching").batchUpdates,h=b("recoil-oss/core/Recoil_FunctionalCore").initializeNode,i=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,j=b("recoil-oss/core/Recoil_Graph").graph,k=b("recoil-oss/core/Recoil_Keys").getNextStoreID,l=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,m=b("recoil-oss/core/Recoil_Node").recoilValues,n=b("recoil-oss/core/Recoil_Node").recoilValuesForKeys,o=(d=b("recoil-oss/core/Recoil_RecoilValueInterface")).AbstractRecoilValue,p=d.getRecoilValueAsLoadable,q=d.setRecoilValue,r=d.setUnvalidatedRecoilValue,s=b("recoil-oss/core/Recoil_Retention").updateRetainCount;f=b("recoil-oss/core/Recoil_SnapshotCache").setInvalidateMemoizedSnapshot;var t=b("recoil-oss/core/Recoil_State").getNextTreeStateVersion,u=b("recoil-oss/core/Recoil_State").makeEmptyStoreState,v=b("recoil-shared/util/Recoil_Environment").isSSR;d=b("recoil-shared/util/Recoil_Memoize").memoizeOneWithArgsHashAndInvalidation;var w="\nRecoil Snapshots only last for the duration of the callback they are provided to. To keep a Snapshot longer, do this:\n\n  const release = snapshot.retain();\n  try {\n    await doSomethingWithSnapshot(snapshot);\n  } finally {\n    release();\n  }\n\nThis is currently a DEV-only warning but will become a thrown exception in the next release of Recoil.\n",x=function(){function a(a,c){var d=this;this.$2=1;this.getLoadable=function(a){d.checkRefCount_INTERNAL();return p(d.$1,a)};this.getPromise=function(a){d.checkRefCount_INTERNAL();return d.getLoadable(a).toPromise()};this.getNodes_UNSTABLE=function(a){d.checkRefCount_INTERNAL();if((a==null?void 0:a.isModified)===!0){if((a==null?void 0:a.isInitialized)===!1)return[];var c=d.$1.getState().currentTree;return n(c.dirtyAtoms)}var e=d.$1.getState().knownAtoms,f=d.$1.getState().knownSelectors;return(a==null?void 0:a.isInitialized)==null?m.values():a.isInitialized===!0?n(b("recoil-shared/util/Recoil_concatIterables")([e,f])):b("recoil-shared/util/Recoil_filterIterable")(m.values(),function(a){a=a.key;return!e.has(a)&&!f.has(a)})};this.getInfo_UNSTABLE=function(a){a=a.key;d.checkRefCount_INTERNAL();return i(d.$1,d.$1.getState().currentTree,a)};this.map=function(a){d.checkRefCount_INTERNAL();var b=new B(d,g);a(b);return b};this.asyncMap=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d.checkRefCount_INTERNAL();c=new B(d,g);c.retain();e.next=5;return b("regeneratorRuntime").awrap(a(c));case 5:c.autoRelease_INTERNAL();return e.abrupt("return",c);case 7:case"end":return e.stop()}},null,this)};this.$1={storeID:k(),parentStoreID:c,getState:function(){return a},replaceState:function(b){a.currentTree=b(a.currentTree)},getGraph:function(c){var d=a.graphsByVersion;if(d.has(c))return b("recoil-shared/util/Recoil_nullthrows")(d.get(c));var e=j();d.set(c,e);return e},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw b("recoil-shared/util/Recoil_err")("Cannot subscribe to Snapshots")}};for(var c=this.$1.getState().knownAtoms,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(e){if(f>=c.length)break;l=c[f++]}else{f=c.next();if(f.done)break;l=f.value}l=l;h(this.$1,l,"get");s(this.$1,l,1)}this.autoRelease_INTERNAL()}var c=a.prototype;c.retain=function(){var a=this;this.$2<=0&&b("recoil-shared/util/Recoil_recoverableViolation")("Attempt to retain() Snapshot that was already released.","recoil");this.$2++;var c=!1;return function(){c||(c=!0,a.$3())}};c.autoRelease_INTERNAL=function(){var a=this;v||window.setTimeout(function(){return a.$3()},0)};c.$3=function(){this.$2--;if(this.$2===0){this.$1.getState().nodeCleanupFunctions.forEach(function(a){return a()});this.$1.getState().nodeCleanupFunctions.clear();if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return}else this.$2<0};c.isRetained=function(){return this.$2>0};c.checkRefCount_INTERNAL=function(){b("recoil-shared/util/Recoil_gkx")("1842165")&&this.$2<=0};c.getStore_INTERNAL=function(){this.checkRefCount_INTERNAL();return this.$1};c.getID=function(){this.checkRefCount_INTERNAL();return this.$1.getState().currentTree.stateID};c.getStoreID=function(){this.checkRefCount_INTERNAL();return this.$1.storeID};return a}();function y(a,c,d){d===void 0&&(d=!1);var e=a.getState(),f=d?t():c.version;return{currentTree:{version:d?f:c.version,stateID:d?f:c.stateID,transactionMetadata:babelHelpers["extends"]({},c.transactionMetadata),dirtyAtoms:new Set(c.dirtyAtoms),atomValues:c.atomValues.clone(),nonvalidatedAtoms:c.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(e.knownAtoms),knownSelectors:new Set(e.knownSelectors),transactionSubscriptions:new Map(),nodeTransactionSubscriptions:new Map(),nodeToComponentSubscriptions:new Map(),queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set(),graphsByVersion:new Map().set(f,a.getGraph(c.version)),retention:{referenceCounts:new Map(),nodesRetainedByZone:new Map(),retainablesToCheckForRelease:new Set()},nodeCleanupFunctions:new Map(b("recoil-shared/util/Recoil_mapIterable")(e.nodeCleanupFunctions.entries(),function(a){a=a[0];return[a,function(){}]}))}}function a(a){var b=new x(u());return a!=null?b.map(a):b}w=d(function(a,c){var d=a.getState();c=c==="latest"?(c=d.nextTree)!=null?c:d.currentTree:b("recoil-shared/util/Recoil_nullthrows")(d.previousTree);return new x(y(a,c),a.storeID)},function(a,b){return String(b)+String(a.storeID)+String((b=a.getState().nextTree)==null?void 0:b.version)+String(a.getState().currentTree.version)+String((b=a.getState().previousTree)==null?void 0:b.version)});var z=w[0],A=w[1];f(A);function c(a,b){b===void 0&&(b="latest");var c=z(a,b);if(!c.isRetained()){A();return z(a,b)}return c}var B=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,y(a.getStore_INTERNAL(),a.getStore_INTERNAL().getState().currentTree,!0),a.getStoreID())||this;d.set=function(a,b){d.checkRefCount_INTERNAL();var c=d.getStore_INTERNAL();d.$MutableSnapshot1(function(){s(c,a.key,1),q(d.getStore_INTERNAL(),a,b)})};d.reset=function(a){d.checkRefCount_INTERNAL();var b=d.getStore_INTERNAL();d.$MutableSnapshot1(function(){s(b,a.key,1),q(d.getStore_INTERNAL(),a,l)})};d.setUnvalidatedAtomValues_DEPRECATED=function(a){d.checkRefCount_INTERNAL();var b=d.getStore_INTERNAL();g(function(){for(var c=a.entries(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];s(b,g,1);r(b,new o(g),f)}})};d.$MutableSnapshot1=c;return d}return a}(x);e.exports={Snapshot:x,MutableSnapshot:B,freshSnapshot:a,cloneSnapshot:c}}),null);
__d("recoil-shared/util/Recoil_unionSets",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Set();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=c[e];for(var g=f,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}var k=j;a.add(k)}}return a}e.exports=a}),null);
__d("recoil-shared/util/Recoil_useRefInitOnce",["react"],(function(a,b,c,d,e,f){"use strict";var g;c=g||b("react");var h=c.useRef;function a(a){var b=h(a);b.current===a&&typeof a==="function"&&(b.current=a());return b}e.exports=a}),null);
__d("recoil-oss/core/Recoil_RecoilRoot",["RecoilUsageLogFalcoEvent","RecoilusagelogEvent","URI","react","recoil-oss/adt/Recoil_Queue","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_Snapshot","recoil-oss/core/Recoil_State","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_unionSets","recoil-shared/util/Recoil_useRefInitOnce"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("recoil-oss/core/Recoil_State").getNextTreeStateVersion,k=b("recoil-oss/core/Recoil_State").makeEmptyStoreState,l=(i=b("recoil-oss/core/Recoil_FunctionalCore")).cleanUpNode,m=i.getDownstreamNodes,n=i.initializeNode,o=i.setNodeValue,p=i.setUnvalidatedAtomValue_DEPRECATED,q=b("recoil-oss/core/Recoil_Graph").graph,r=b("recoil-oss/core/Recoil_Graph").cloneGraph,s=b("recoil-oss/core/Recoil_Keys").getNextStoreID,t=b("recoil-oss/core/Recoil_ReactMode").createMutableSource,u=b("recoil-oss/core/Recoil_ReactMode").reactMode,v=b("recoil-oss/core/Recoil_RecoilValueInterface").applyAtomValueWrites,w=b("recoil-oss/core/Recoil_Retention").releaseScheduledRetainablesNow,x=b("recoil-oss/core/Recoil_Snapshot").freshSnapshot,y=g||(g=b("react"));i=g;var z=i.useCallback,A=i.useContext,B=i.useEffect,C=i.useMemo,D=i.useRef,E=i.useState;function a(){throw b("recoil-shared/util/Recoil_err")("This component must be used inside a <RecoilRoot> component.")}var F=Object.freeze({storeID:s(),getState:a,replaceState:a,getGraph:a,subscribeToTransactions:a,addTransactionMetadata:a}),G=!1;function H(a){if(G)throw b("recoil-shared/util/Recoil_err")("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var c=a.getState();if(c.nextTree===null){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-shared/util/Recoil_gkx")("1098")&&(c.commitDepth>0&&w(a));a=c.currentTree.version;var d=j();c.nextTree=babelHelpers["extends"]({},c.currentTree,{version:d,stateID:d,dirtyAtoms:new Set(),transactionMetadata:{}});c.graphsByVersion.set(d,r(b("recoil-shared/util/Recoil_nullthrows")(c.graphsByVersion.get(a))))}}var I=y.createContext({current:F}),J=function(){return A(I)},K=y.createContext(null);function c(){var a=A(K);a==null&&b("recoil-shared/util/Recoil_expectationViolation")("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks.");return a}function L(a,b,c){a=m(a,c,c.dirtyAtoms);for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b.nodeToComponentSubscriptions.get(f);if(f)for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i[0];i=i[1];i[0];i=i[1];i(c)}}}function M(a){var b=a.getState(),c=b.currentTree,d=c.dirtyAtoms;if(d.size){for(var e=b.nodeTransactionSubscriptions,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];if(d.has(i))for(var i=h,h=Array.isArray(i),j=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(j>=i.length)break;k=i[j++]}else{j=i.next();if(j.done)break;k=j.value}k=k;k[0];k=k[1];k(a)}}for(var k=b.transactionSubscriptions,j=Array.isArray(k),h=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(h>=k.length)break;i=k[h++]}else{h=k.next();if(h.done)break;i=h.value}g=i;g[0];f=g[1];f(a)}(!u().early||b.suspendedComponentResolvers.size>0)&&(L(a,b,c),b.suspendedComponentResolvers.forEach(function(a){return a()}),b.suspendedComponentResolvers.clear())}b.queuedComponentCallbacks_DEPRECATED.forEach(function(a){return a(c)});b.queuedComponentCallbacks_DEPRECATED.splice(0,b.queuedComponentCallbacks_DEPRECATED.length)}function N(a){var c=a.getState();c.commitDepth++;try{var d=c.nextTree;if(d==null)return;c.previousTree=c.currentTree;c.currentTree=d;c.nextTree=null;M(a);c.previousTree!=null?c.graphsByVersion["delete"](c.previousTree.version):b("recoil-shared/util/Recoil_recoverableViolation")("Ended batch with no previous state, which is unexpected","recoil");c.previousTree=null;b("recoil-shared/util/Recoil_gkx")("1842165")&&(d==null&&w(a))}finally{c.commitDepth--}}function O(a){var c=a.setNotifyBatcherOfChange,d=J();a=E([]);var e=a[1];c(function(){return e({})});B(function(){c(function(){return e({})});return function(){c(function(){})}},[c]);B(function(){b("recoil-oss/adt/Recoil_Queue").enqueueExecution("Batcher",function(){N(d.current)})});return null}function P(a,c){var d=k();c({set:function(c,e){var f=d.currentTree;c=o(a,f,c.key,e);e=new Set(c.keys());var g=f.nonvalidatedAtoms.clone();for(var h=e,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;g["delete"](k)}d.currentTree=babelHelpers["extends"]({},f,{dirtyAtoms:b("recoil-shared/util/Recoil_unionSets")(f.dirtyAtoms,e),atomValues:v(f.atomValues,c),nonvalidatedAtoms:g})},setUnvalidatedAtomValues:function(a){a.forEach(function(a,b){d.currentTree=p(d.currentTree,b,a)})}});return d}function Q(a){a=x(a);var b=a.getStore_INTERNAL().getState();a.retain();b.nodeCleanupFunctions.forEach(function(a){return a()});b.nodeCleanupFunctions.clear();return b}var R=0;function S(a){var c=a.initializeState_DEPRECATED,d=a.initializeState,e=a.store_INTERNAL;a=a.children;B(function(){if(b("recoil-shared/util/Recoil_gkx")("1649436"))try{b("RecoilUsageLogFalcoEvent").log(function(){return{type:b("RecoilusagelogEvent").RECOIL_ROOT_MOUNTED,path:(h||(h=b("URI"))).getRequestURI().getPath()}})}catch(a){b("recoil-shared/util/Recoil_recoverableViolation")("Error when logging Recoil Usage event","recoil")}},[]);var f,g=function(a){var c=f.current.graphsByVersion;if(c.has(a))return b("recoil-shared/util/Recoil_nullthrows")(c.get(a));var d=q();c.set(a,d);return d},i=function(a,c){if(c==null){var d=r.current.getState(),e=d.transactionSubscriptions,f=R++;e.set(f,a);return{release:function(){e["delete"](f)}}}else{d=r.current.getState();var g=d.nodeTransactionSubscriptions;g.has(c)||g.set(c,new Map());var h=R++;b("recoil-shared/util/Recoil_nullthrows")(g.get(c)).set(h,a);return{release:function(){var a=g.get(c);a&&(a["delete"](h),a.size===0&&g["delete"](c))}}}},j=function(a){H(r.current);var c=Object.keys(a);for(var d=0;d<c.length;d++){var e=c[d];b("recoil-shared/util/Recoil_nullthrows")(r.current.getState().nextTree).transactionMetadata[e]=a[e]}},m=function(a){H(r.current);var c=b("recoil-shared/util/Recoil_nullthrows")(f.current.nextTree),d;try{G=!0,d=a(c)}finally{G=!1}if(d===c)return;f.current.nextTree=d;u().early&&L(r.current,f.current,d);b("recoil-shared/util/Recoil_nullthrows")(o.current)()},o=D(null),p=z(function(a){o.current=a},[o]),r=b("recoil-shared/util/Recoil_useRefInitOnce")(function(){var a;return(a=e)!=null?a:{storeID:s(),getState:function(){return f.current},replaceState:m,getGraph:g,subscribeToTransactions:i,addTransactionMetadata:j}});e!=null&&(r.current=e);f=b("recoil-shared/util/Recoil_useRefInitOnce")(function(){return c!=null?P(r.current,c):d!=null?Q(d):k()});var v=C(function(){return t==null?void 0:t(f,function(){return f.current.currentTree.version})},[f]);B(function(){var a=r.current;for(var b=new Set(a.getState().knownAtoms),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;n(a,e,"get")}return function(){for(var b=a.getState().knownAtoms,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;l(a,e)}}},[r]);return y.jsx(I.Provider,{value:r,children:y.jsxs(K.Provider,{value:v,children:[y.jsx(O,{setNotifyBatcherOfChange:p}),a]})})}S.displayName=S.name+" [from "+e.id+"]";function d(a){var b=a.override,c=babelHelpers.objectWithoutPropertiesLoose(a,["override"]),d=J();return b===!1&&d.current!==F?a.children:y.jsx(S,babelHelpers["extends"]({},c))}d.displayName=d.name+" [from "+e.id+"]";function f(){return J().current.storeID}e.exports={RecoilRoot:d,useStoreRef:J,useRecoilMutableSource:c,useRecoilStoreID:f,notifyComponents_FOR_TESTING:L,sendEndOfBatchNotifications_FOR_TESTING:M}}),null);
__d("recoil-shared/util/Recoil_shallowArrayEqual",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}e.exports=a}),null);
__d("recoil-shared/util/Recoil_usePrevious",["react"],(function(a,b,c,d,e,f){"use strict";var g;c=g||b("react");var h=c.useEffect,i=c.useRef;function a(a){var b=i();h(function(){b.current=a});return b.current}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRetain",["react","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_shallowArrayEqual","recoil-shared/util/Recoil_usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,i=b("recoil-oss/core/Recoil_Retention").SUSPENSE_TIMEOUT_MS,j=b("recoil-oss/core/Recoil_Retention").updateRetainCount,k=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone;c=g||(g=b("react"));var l=c.useEffect,m=c.useRef,n=b("recoil-shared/util/Recoil_Environment").isSSR;function a(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;return o(a)}function o(a){a=Array.isArray(a)?a:[a];var c=a.map(function(a){return a instanceof k?a:a.key}),d=h();l(function(){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var a=d.current;if(e.current&&!n)window.clearTimeout(e.current),e.current=null;else for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;j(a,i,1)}return function(){for(var b=c,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;j(a,f,-1)}}},[d].concat(c));var e=m();a=b("recoil-shared/util/Recoil_usePrevious")(c);if(!n&&(a===void 0||!b("recoil-shared/util/Recoil_shallowArrayEqual")(a,c))){var f=d.current;for(var g=c,o=Array.isArray(g),p=0,g=o?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=g.length)break;q=g[p++]}else{p=g.next();if(p.done)break;q=p.value}q=q;j(f,q,1)}if(a)for(var q=a,p=Array.isArray(q),o=0,q=p?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(p){if(o>=q.length)break;g=q[o++]}else{o=q.next();if(o.done)break;g=o.value}a=g;j(f,a,-1)}e.current&&window.clearTimeout(e.current);e.current=window.setTimeout(function(){e.current=null;for(var a=c,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(b){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;j(f,g,-1)}},i)}}e.exports=a}),null);
__d("recoil-shared/util/Recoil_useComponentName",[],(function(a,b,c,d,e,f){"use strict";function a(){return"<component name only available when both in dev mode and when passing GK 'recoil_infer_component_names'>"}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_Hooks",["Promise","react","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/hooks/Recoil_useRetain","recoil-shared/util/Recoil_CopyOnWrite","recoil-shared/util/Recoil_differenceSets","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_useComponentName"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("recoil-oss/core/Recoil_Batching").batchUpdates,j=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,k=b("recoil-oss/core/Recoil_ReactMode").reactMode,l=b("recoil-oss/core/Recoil_ReactMode").useMutableSource,m=b("recoil-oss/core/Recoil_ReactMode").useSyncExternalStore,n=b("recoil-oss/core/Recoil_RecoilRoot").useRecoilMutableSource,o=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,p=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,q=(h=b("recoil-oss/core/Recoil_RecoilValueInterface")).AbstractRecoilValue,r=h.getRecoilValueAsLoadable,s=h.setRecoilValue,t=h.setUnvalidatedRecoilValue,u=h.subscribeToRecoilValue;h=g||(g=b("react"));var v=h.useCallback,w=h.useEffect,x=h.useMemo,y=h.useRef,z=h.useState,A=b("recoil-shared/util/Recoil_CopyOnWrite").setByAddingToSet;function B(a,c,d){if(a.state==="hasValue")return a.contents;else if(a.state==="loading"){var e=new(b("Promise"))(function(a){d.current.getState().suspendedComponentResolvers.add(a)});e.displayName="Recoil State: "+c.key;throw e}else if(a.state==="hasError")throw a.contents;else throw b("recoil-shared/util/Recoil_err")('Invalid value of loadable atom "'+c.key+'"')}function a(a,c){if(!p(a))throw b("recoil-shared/util/Recoil_err")("Invalid argument to "+c+": expected an atom or selector but got "+String(a))}function c(){var a=b("recoil-shared/util/Recoil_useComponentName")(),c=o(),d=z([]),e=d[1],f=y(new Set());f.current=new Set();var g=y(new Set()),h=y(new Map()),i=v(function(a){var b=h.current.get(a);b&&(b.release(),h.current["delete"](a))},[h]),l=v(function(a,b){h.current.has(b)&&e([])},[]);w(function(){var d=c.current;b("recoil-shared/util/Recoil_differenceSets")(f.current,g.current).forEach(function(c){if(h.current.has(c)){b("recoil-shared/util/Recoil_expectationViolation")('Double subscription to RecoilValue "'+c+'"');return}var e=u(d,new q(c),function(a){return l(a,c)},a);h.current.set(c,e);e=d.getState();e.nextTree?d.getState().queuedComponentCallbacks_DEPRECATED.push(function(){l(d.getState(),c)}):l(d.getState(),c)});b("recoil-shared/util/Recoil_differenceSets")(g.current,f.current).forEach(function(a){i(a)});g.current=f.current});w(function(){var d=h.current;b("recoil-shared/util/Recoil_differenceSets")(f.current,new Set(d.keys())).forEach(function(b){var e=u(c.current,new q(b),function(a){return l(a,b)},a);d.set(b,e)});return function(){return d.forEach(function(a,b){return i(b)})}},[a,c,i,l]);return x(function(){function d(a){return function(b){s(c.current,a,b)}}function e(a){return function(){return s(c.current,a,j)}}function a(a){f.current.has(a.key)||(f.current=A(f.current,a.key));var b=c.current.getState();return r(c.current,a,k().early?(a=b.nextTree)!=null?a:b.currentTree:b.currentTree)}function b(b){var d=a(b);return B(d,b,c)}function g(a){return[b(a),d(a)]}function h(b){return[a(b),d(b)]}return{getRecoilValue:b,getRecoilValueLoadable:a,getRecoilState:g,getRecoilStateLoadable:h,getSetRecoilState:d,getResetRecoilState:e}},[f,c])}h={current:0};function C(a){var c=o(),d=b("recoil-shared/util/Recoil_useComponentName")(),e=v(function(){var b,d=c.current,e=d.getState();b=k().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;e=r(d,a,b);return{loadable:e,key:a.key}},[c,a]),f=v(function(a){var b;return function(){var c,d=a();if(((c=b)==null?void 0:c.loadable.is(d.loadable))&&((c=b)==null?void 0:c.key)===d.key)return b;b=d;return d}},[]),g=x(function(){return f(e)},[e,f]),h=v(function(b){var e=c.current;e=u(e,a,b,d);return e.release},[c,a,d]);return m(h,g,g).loadable}function D(a){var c=o(),d=v(function(){var b,d=c.current,e=d.getState();b=k().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return r(d,a,b)},[c,a]),e=v(function(){return d()},[d]),f=b("recoil-shared/util/Recoil_useComponentName")(),g=v(function(e,g){e=c.current;e=u(e,a,function(){if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return g();var a=d();j.current.is(a)||g();j.current=a},f);return e.release},[c,a,f,d]),h=n();if(h==null)throw b("recoil-shared/util/Recoil_err")("Recoil hooks must be used in components contained within a <RecoilRoot> component.");var i=l(h,e,g),j=y(i);w(function(){j.current=i});return i}function E(a){var c=o(),d=b("recoil-shared/util/Recoil_useComponentName")(),e=v(function(){var b,d=c.current,e=d.getState();b=k().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return r(d,a,b)},[c,a]),f=v(function(){return{loadable:e(),key:a.key}},[e,a.key]),g=v(function(a){var b=f();return a.loadable.is(b.loadable)&&a.key===b.key?a:b},[f]);w(function(){var b=u(c.current,a,function(a){j(g)},d);j(g);return b.release},[d,a,c,g]);var h=z(f),i=h[0],j=h[1];return i.key!==a.key?f().loadable:i.loadable}function F(a){var c=o(),d=z([]),e=d[1],f=b("recoil-shared/util/Recoil_useComponentName")(),g=v(function(){var b,d=c.current,e=d.getState();b=k().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return r(d,a,b)},[c,a]),h=g(),i=y(h);w(function(){i.current=h});w(function(){var d=c.current,h=d.getState(),j=u(d,a,function(a){var c;if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return e([]);a=g();((c=i.current)==null?void 0:c.is(a))||e(a);i.current=a},f);if(h.nextTree)d.getState().queuedComponentCallbacks_DEPRECATED.push(function(){i.current=null,e([])});else{if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return e([]);h=g();((d=i.current)==null?void 0:d.is(h))||e(h);i.current=h}return j.release},[f,g,a,c]);return h}function G(a){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-oss/hooks/Recoil_useRetain")(a);return{TRANSITION_SUPPORT:E,SYNC_EXTERNAL_STORE:C,MUTABLE_SOURCE:D,LEGACY:F}[k().mode](a)}function H(a){var b=o(),c=G(a);return B(c,a,b)}function I(a){var b=o();return v(function(c){s(b.current,a,c)},[b,a])}function d(a){var b=o();return v(function(){s(b.current,a,j)},[b,a])}function f(a){return[H(a),I(a)]}function a(a){return[G(a),I(a)]}function J(){var a=o();return function(b,c){c===void 0&&(c={}),i(function(){a.current.addTransactionMetadata(c),b.forEach(function(b,c){return t(a.current,new q(c),b)})})}}function K(a){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-oss/hooks/Recoil_useRetain")(a);return E(a)}function L(a){var b=o(),c=K(a);return B(c,a,b)}function M(a){return[L(a),I(a)]}e.exports={recoilComponentGetRecoilValueCount_FOR_TESTING:h,useRecoilInterface:c,useRecoilState:f,useRecoilStateLoadable:a,useRecoilValue:H,useRecoilValueLoadable:G,useResetRecoilState:d,useSetRecoilState:I,useSetUnvalidatedAtomValues:J,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:K,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:L,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:M}}),null);
__d("recoil-shared/util/Recoil_filterMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];b(f,g)&&c.set(g,f)}return c}e.exports=a}),null);
__d("recoil-shared/util/Recoil_filterSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b(f)&&c.add(f)}return c}e.exports=a}),null);
__d("recoil-shared/util/Recoil_mergeMaps",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=c[e].keys(),g;while(!(g=f.next()).done)a.set(g.value,c[e].get(g.value))}return a}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_SnapshotHooks",["react","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_Snapshot","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_filterMap","recoil-shared/util/Recoil_filterSet","recoil-shared/util/Recoil_mapMap","recoil-shared/util/Recoil_mergeMaps","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_Batching").batchUpdates,i=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,j=b("recoil-oss/core/Recoil_Node").getNode,k=b("recoil-oss/core/Recoil_Node").nodes,l=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,m=b("recoil-oss/core/Recoil_RecoilValueInterface").AbstractRecoilValue,n=b("recoil-oss/core/Recoil_RecoilValueInterface").setRecoilValueLoadable,o=b("recoil-oss/core/Recoil_Retention").SUSPENSE_TIMEOUT_MS,p=b("recoil-oss/core/Recoil_Snapshot").cloneSnapshot,q=g||(g=b("react")),r=q.useCallback,s=q.useEffect,t=q.useRef,u=q.useState,v=b("recoil-shared/util/Recoil_Environment").isSSR;function w(a){var b=l();s(function(){var c=b.current.subscribeToTransactions(a);return c.release},[a,b])}function x(a){var c=a.atomValues.toMap();c=b("recoil-shared/util/Recoil_mapMap")(b("recoil-shared/util/Recoil_filterMap")(c,function(a,b){b=j(b);b=b.persistence_UNSTABLE;return b!=null&&b.type!=="none"&&a.state==="hasValue"}),function(a){return a.contents});return b("recoil-shared/util/Recoil_mergeMaps")(a.nonvalidatedAtoms.toMap(),c)}function a(a){w(r(function(c){var d=c.getState().previousTree,e=c.getState().currentTree;d||(b("recoil-shared/util/Recoil_recoverableViolation")("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil","recoil"),d=c.getState().currentTree);var f=x(e),g=x(d);c=b("recoil-shared/util/Recoil_mapMap")(k,function(a){var b;return{persistence_UNSTABLE:{type:(b=(b=a.persistence_UNSTABLE)==null?void 0:b.type)!=null?b:"none",backButton:(a=(b=a.persistence_UNSTABLE)==null?void 0:b.backButton)!=null?a:!1}}});d=b("recoil-shared/util/Recoil_filterSet")(e.dirtyAtoms,function(a){return f.has(a)||g.has(a)});a({atomValues:f,previousAtomValues:g,atomInfo:c,modifiedAtoms:d,transactionMetadata:babelHelpers["extends"]({},e.transactionMetadata)})},[a]))}function c(a){w(r(function(b){var c=p(b,"latest");b=p(b,"previous");a({snapshot:c,previousSnapshot:b})},[a]))}function d(){var a=l(),c=u(function(){return p(a.current)}),d=c[0],e=c[1];c=b("recoil-shared/util/Recoil_usePrevious")(d);var f=t(),g=t();w(r(function(a){return e(p(a))},[]));s(function(){var a=d.retain();f.current&&!v&&(window.clearTimeout(f.current),f.current=null,g.current==null?void 0:g.current(),g.current=null);return function(){window.setTimeout(a,0)}},[d]);c!==d&&!v&&(f.current&&(window.clearTimeout(f.current),f.current=null,g.current==null?void 0:g.current(),g.current=null),g.current=d.retain(),f.current=window.setTimeout(function(){f.current=null,g.current==null?void 0:g.current(),g.current=null},o));return d}function y(a,c){var d,e=a.getState(),f=(d=e.nextTree)!=null?d:e.currentTree,g=c.getStore_INTERNAL().getState().currentTree;h(function(){var d=new Set(),e=[f.atomValues.keys(),g.atomValues.keys()];for(var h=0;h<e.length;h++){var k=e[h];for(var k=k,l=Array.isArray(k),o=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p,q;if(l){if(o>=k.length)break;q=k[o++]}else{o=k.next();if(o.done)break;q=o.value}q=q;((p=f.atomValues.get(q))==null?void 0:p.contents)!==((p=g.atomValues.get(q))==null?void 0:p.contents)&&j(q).shouldRestoreFromSnapshots&&d.add(q)}}d.forEach(function(c){n(a,new m(c),g.atomValues.has(c)?b("recoil-shared/util/Recoil_nullthrows")(g.atomValues.get(c)):i)});a.replaceState(function(a){return babelHelpers["extends"]({},a,{stateID:c.getID()})})})}function f(){var a=l();return r(function(b){return y(a.current,b)},[a])}e.exports={useRecoilSnapshot:d,gotoSnapshot:y,useGotoRecoilSnapshot:f,useRecoilTransactionObserver:c,useTransactionObservation_DEPRECATED:a,useTransactionSubscription_DEPRECATED:w}}),null);
__d("recoil-oss/hooks/Recoil_useGetRecoilValueInfo",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef;function a(){var a=h();return function(b){b=b.key;return g(a.current,a.current.getState().currentTree,b)}}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots",["react","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_ReactMode").reactMode,i=b("recoil-oss/core/Recoil_RecoilRoot").RecoilRoot,j=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,k=g||(g=b("react"));c=g;var l=c.useMemo;function a(){h().mode==="MUTABLE_SOURCE";var a=j().current;return l(function(){function b(b){b=b.children;return k.jsx(i,{store_INTERNAL:a,children:b})}b.displayName=b.name+" [from "+e.id+"]";return b},[a])}e.exports=a}),null);
__d("recoil-oss/core/Recoil_AtomicUpdates",["recoil-oss/adt/Recoil_Loadable","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValueInterface","recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_Loadable").loadableWithValue,h=b("recoil-oss/core/Recoil_FunctionalCore").initializeNode,i=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,j=b("recoil-oss/core/Recoil_Node").getNode,k=(c=b("recoil-oss/core/Recoil_RecoilValueInterface")).copyTreeState,l=c.getRecoilValueAsLoadable,m=c.invalidateDownstreams,n=c.writeLoadableToTreeState;function o(a){return j(a.key).nodeType==="atom"}var p=function(){function a(a,c){var d=this;this.get=function(a){if(d.$3.has(a.key))return d.$3.get(a.key);if(!o(a))throw b("recoil-shared/util/Recoil_err")("Reading selectors within atomicUpdate is not supported");var c=l(d.$1,a,d.$2);if(c.state==="hasValue")return c.contents;else if(c.state==="hasError")throw c.contents;else throw b("recoil-shared/util/Recoil_err")("Expected Recoil atom "+a.key+" to have a value, but it is in a loading state.")};this.set=function(a,c){if(!o(a))throw b("recoil-shared/util/Recoil_err")("Setting selectors within atomicUpdate is not supported");if(typeof c==="function"){var e=d.get(a);d.$3.set(a.key,c(e))}else h(d.$1,a.key,"set"),d.$3.set(a.key,c)};this.reset=function(a){d.set(a,i)};this.$1=a;this.$2=c;this.$3=new Map()}var c=a.prototype;c.newTreeState_INTERNAL=function(){if(this.$3.size===0)return this.$2;var a=k(this.$2);for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];n(a,f,g(e))}m(this.$1,a);return a};return a}();function a(a){return function(b){a.replaceState(function(c){c=new p(a,c);b(c);return c.newTreeState_INTERNAL()})}}e.exports={atomicUpdater:a}}),null);
__d("recoil-shared/util/Recoil_invariant",["invariant"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g}),null);
__d("recoil-oss/hooks/Recoil_useRecoilCallback",["react","recoil-oss/core/Recoil_AtomicUpdates","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Snapshot","recoil-oss/hooks/Recoil_SnapshotHooks","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_invariant","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_lazyProxy"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_AtomicUpdates").atomicUpdater,i=b("recoil-oss/core/Recoil_Batching").batchUpdates,j=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,k=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,l=b("recoil-oss/core/Recoil_RecoilValueInterface").refreshRecoilValue,m=b("recoil-oss/core/Recoil_RecoilValueInterface").setRecoilValue,n=b("recoil-oss/core/Recoil_Snapshot").cloneSnapshot,o=b("recoil-oss/hooks/Recoil_SnapshotHooks").gotoSnapshot;c=g||(g=b("react"));var p=c.useCallback,q=function(){},r=new q();function s(a,c,d,e){var f=r,g;i(function(){var i,k="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof c!=="function")throw b("recoil-shared/util/Recoil_err")(k);i=b("recoil-shared/util/Recoil_lazyProxy")(babelHelpers["extends"]({},(i=e)!=null?i:{},{set:function(b,c){return m(a,b,c)},reset:function(b){return m(a,b,j)},refresh:function(b){return l(a,b)},gotoSnapshot:function(b){return o(a,b)},transact_UNSTABLE:function(b){return h(a)(b)}}),{snapshot:function(){var b=n(a);g=b.retain();return b}});i=c(i);if(typeof i!=="function")throw b("recoil-shared/util/Recoil_err")(k);f=i.apply(void 0,d)});f instanceof q&&b("recoil-shared/util/Recoil_invariant")(0,27155);b("recoil-shared/util/Recoil_isPromise")(f)?f["finally"](function(){g==null?void 0:g()}):g==null?void 0:g();return f}function a(a,b){var c=k();return p(function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];return s(c.current,a,d)},b!=null?[].concat(b,[c]):void 0)}e.exports={recoilCallback:s,useRecoilCallback:a}}),null);
__d("recoil-oss/hooks/Recoil_useRecoilRefresher",["react","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,i=b("recoil-oss/core/Recoil_RecoilValueInterface").refreshRecoilValue;c=g||(g=b("react"));var j=c.useCallback;function a(a){var b=h();return j(function(){var c=b.current;i(c,a)},[a,b])}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRecoilTransaction",["react","recoil-oss/core/Recoil_AtomicUpdates","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_AtomicUpdates").atomicUpdater,i=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef;c=g||(g=b("react"));var j=c.useMemo;function a(a,b){var c=i();return j(function(){return function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];var f=h(c.current);f(function(b){a(b).apply(void 0,d)})}},b!=null?[].concat(b,[c]):void 0)}e.exports=a}),null);
__d("recoil-oss/adt/Recoil_Wrapper",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.value=a};e.exports={WrappedValue:a}}),null);
__d("recoil-oss/caches/Recoil_TreeCache",["recoil-oss/core/Recoil_ReactMode","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_ReactMode").isFastRefreshEnabled,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a){var b;this.$1=a==null?void 0:a.name;this.$2=0;this.$3=null;this.$4=(b=a==null?void 0:a.onHit)!=null?b:function(){};this.$5=(b=a==null?void 0:a.onSet)!=null?b:function(){};this.$6=(b=a==null?void 0:a.mapNodeValue)!=null?b:function(a){return a}}var c=a.prototype;c.size=function(){return this.$2};c.root=function(){return this.$3};c.get=function(a,b){return(a=this.getLeafNode(a,b))==null?void 0:a.value};c.getLeafNode=function(a,b){if(this.$3==null)return void 0;var c=this.$3;while(c){b==null?void 0:b.onNodeVisit(c);if(c.type==="leaf"){this.$4(c);return c}var d=this.$6(a(c.nodeKey));c=c.branches.get(d)}return void 0};c.set=function(a,b,c){var d=this,e=function(){var e,f;for(var g=a,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];var l=d.$3;if((l==null?void 0:l.type)==="leaf")throw d.invalidCacheError();var m=e;e=m?m.branches.get(f):l;e=(l=e)!=null?l:{type:"branch",nodeKey:k,parent:m,branches:new Map(),branchKey:f};if(e.type!=="branch"||e.nodeKey!==k)throw d.invalidCacheError();m==null?void 0:m.branches.set(f,e);c==null?void 0:c.onNodeVisit==null?void 0:c.onNodeVisit(e);f=d.$6(j);d.$3=(l=d.$3)!=null?l:e}m=e?(k=e)==null?void 0:k.branches.get(f):d.$3;if(m!=null&&(m.type!=="leaf"||m.branchKey!==f))throw d.invalidCacheError();j={type:"leaf",value:b,parent:e,branchKey:f};(l=e)==null?void 0:l.branches.set(f,j);d.$3=(i=d.$3)!=null?i:j;d.$2++;d.$5(j);c==null?void 0:c.onNodeVisit==null?void 0:c.onNodeVisit(j)};try{e()}catch(a){if(a instanceof h)this.clear(),e();else throw a}};c["delete"]=function(a){var b=this.root();if(!b)return!1;if(a===b){this.$3=null;this.$2=0;return!0}var c=a.parent;a=a.branchKey;while(c){var d;c.branches["delete"](a);if(c===b){c.branches.size===0?(this.$3=null,this.$2=0):this.$2--;return!0}if(c.branches.size>0)break;a=(d=c)==null?void 0:d.branchKey;c=c.parent}for(;c!==b;c=c.parent)if(c==null)return!1;this.$2--;return!0};c.clear=function(){this.$2=0,this.$3=null};c.invalidCacheError=function(){var a=g()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";b("recoil-shared/util/Recoil_recoverableViolation")(a+(this.$1!=null?" - "+this.$1:""),"recoil");throw new h()};return a}();e.exports={TreeCache:a}}),null);
__d("recoil-oss/caches/Recoil_LRUCache",["recoil-shared/util/Recoil_nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.maxSize;this.$2=0;this.$3=null;this.$4=null;this.$5=new Map();this.$6=(a=a.mapKey)!=null?a:function(a){return a}}var c=a.prototype;c.head=function(){return this.$3};c.tail=function(){return this.$4};c.size=function(){return this.$2};c.maxSize=function(){return this.$1};c.has=function(a){return this.$5.has(this.$6(a))};c.get=function(a){var b=this.$6(a);b=this.$5.get(b);if(!b)return void 0;this.set(a,b.value);return b.value};c.set=function(a,b){var c=this.$6(a),d=this.$5.get(c);d&&this["delete"](a);d=this.head();a={key:a,right:d,left:null,value:b};d?d.left=a:this.$4=a;this.$5.set(c,a);this.$3=a;this.$2++;this.$7()};c.$7=function(){this.size()>this.maxSize()&&this.deleteLru()};c.deleteLru=function(){var a=this.tail();a&&this["delete"](a.key)};c["delete"]=function(a){a=this.$6(a);if(!this.$2||!this.$5.has(a))return;var c=b("recoil-shared/util/Recoil_nullthrows")(this.$5.get(a)),d=c.right,e=c.left;d&&(d.left=c.left);e&&(e.right=c.right);c===this.head()&&(this.$3=d);c===this.tail()&&(this.$4=e);this.$5["delete"](a);this.$2--};c.clear=function(){this.$2=0,this.$3=null,this.$4=null,this.$5=new Map()};return a}();e.exports={LRUCache:a}}),null);
__d("recoil-oss/caches/Recoil_treeCacheLRU",["recoil-oss/caches/Recoil_LRUCache","recoil-oss/caches/Recoil_TreeCache"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_LRUCache").LRUCache,h=b("recoil-oss/caches/Recoil_TreeCache").TreeCache;function a(a){var b=a.name,c=a.maxSize;a=a.mapNodeValue;a=a===void 0?function(a){return a}:a;var d=new g({maxSize:c}),e=new h({name:b,mapNodeValue:a,onHit:function(a){d.set(a,!0)},onSet:function(a){var b=d.tail();d.set(a,!0);b&&e.size()>c&&e["delete"](b.key)}});return e}e.exports=a}),null);
__d("recoil-shared/util/Recoil_stableStringify",["recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";c=15;function g(a,c,d){if(typeof a==="string"&&!a.includes('"')&&!a.includes("\\"))return'"'+a+'"';switch(typeof a){case"undefined":return"";case"boolean":return a?"true":"false";case"number":case"symbol":return String(a);case"string":return JSON.stringify(a);case"function":if((c==null?void 0:c.allowFunctions)!==!0)throw b("recoil-shared/util/Recoil_err")("Attempt to serialize function in a Recoil cache key");return"__FUNCTION("+a.name+")__"}if(a===null)return"null";if(typeof a!=="object"){var e;return(e=JSON.stringify(a))!=null?e:""}if(b("recoil-shared/util/Recoil_isPromise")(a))return"__PROMISE__";if(Array.isArray(a))return"["+a.map(function(a,b){return g(a,c,b.toString())})+"]";if(typeof a.toJSON==="function")return g(a.toJSON(d),c,d);if(a instanceof Map){e={};for(var f=a,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];e[typeof k==="string"?k:g(k,c)]=j}return g(e,c,d)}if(a instanceof Set)return g(Array.from(a).sort(function(a,b){return g(a,c).localeCompare(g(b,c))}),c,d);return Symbol!==void 0&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]!=null&&typeof a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]==="function"?g(Array.from(a),c,d):"{"+Object.keys(a).filter(function(b){return a[b]!==void 0}).sort().map(function(b){return g(b,c)+":"+g(a[b],c,b)}).join(",")+"}"}function a(a,b){b===void 0&&(b={allowFunctions:!1});return g(a,b)}e.exports=a}),null);
__d("recoil-oss/caches/Recoil_treeCacheFromPolicy",["recoil-oss/caches/Recoil_TreeCache","recoil-oss/caches/Recoil_treeCacheLRU","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_TreeCache").TreeCache,h={equality:"reference",eviction:"keep-all",maxSize:Infinity};function a(a,b){a=a===void 0?h:a;var c=a.equality;c=c===void 0?h.equality:c;var d=a.eviction;d=d===void 0?h.eviction:d;a=a.maxSize;a=a===void 0?h.maxSize:a;c=i(c);return j(d,a,c,b)}function i(a){switch(a){case"reference":return function(a){return a};case"value":return function(a){return b("recoil-shared/util/Recoil_stableStringify")(a)}}throw b("recoil-shared/util/Recoil_err")("Unrecognized equality policy "+a)}function j(a,c,d,e){switch(a){case"keep-all":return new g({name:e,mapNodeValue:d});case"lru":return b("recoil-oss/caches/Recoil_treeCacheLRU")({name:e,maxSize:b("recoil-shared/util/Recoil_nullthrows")(c),mapNodeValue:d});case"most-recent":return b("recoil-oss/caches/Recoil_treeCacheLRU")({name:e,maxSize:1,mapNodeValue:d})}throw b("recoil-shared/util/Recoil_err")("Unrecognized eviction policy "+a)}e.exports=a}),null);
__d("recoil-shared/util/Recoil_PerformanceTimings",[],(function(a,b,c,d,e,f){function a(a){return function(){return null}}e.exports={startPerfBlock:a}}),null);
__d("recoil-shared/util/Recoil_isNode",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(typeof window==="undefined")return!1;b=a!=null?(b=a.ownerDocument)!=null?b:a:document;b=(b=b.defaultView)!=null?b:window;return!!(a!=null&&(typeof b.Node==="function"?a instanceof b.Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"))}e.exports=a}),null);
__d("recoil-shared/util/Recoil_deepFreezeValue",["recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_isNode","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-shared/util/Recoil_Environment").isReactNative,h=b("recoil-shared/util/Recoil_Environment").isWindow;function i(a){if(a===null||typeof a!=="object")return!0;switch(typeof a.$$typeof){case"symbol":return!0;case"number":return!0}if(a["@@__IMMUTABLE_ITERABLE__@@"]!=null||a["@@__IMMUTABLE_KEYED__@@"]!=null||a["@@__IMMUTABLE_INDEXED__@@"]!=null||a["@@__IMMUTABLE_ORDERED__@@"]!=null||a["@@__IMMUTABLE_RECORD__@@"]!=null)return!0;if(b("recoil-shared/util/Recoil_isNode")(a))return!0;if(b("recoil-shared/util/Recoil_isPromise")(a))return!0;if(a instanceof Error)return!0;if(ArrayBuffer.isView(a))return!0;return!g&&h(a)?!0:!1}function j(a){if(typeof a!=="object"||i(a))return;Object.freeze(a);for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b];typeof c==="object"&&c!=null&&!Object.isFrozen(c)&&j(c)}Object.seal(a)}e.exports=j}),null);
__d("recoil-oss/recoil_values/Recoil_selector",["recoil-oss/adt/Recoil_Loadable","recoil-oss/adt/Recoil_Wrapper","recoil-oss/caches/Recoil_treeCacheFromPolicy","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/hooks/Recoil_useRecoilCallback","recoil-shared/util/Recoil_PerformanceTimings","recoil-shared/util/Recoil_concatIterables","recoil-shared/util/Recoil_deepFreezeValue","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_invariant","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("recoil-oss/adt/Recoil_Loadable")).isLoadable,h=c.loadableWithError,i=c.loadableWithPromise,j=c.loadableWithValue,k=b("recoil-oss/adt/Recoil_Wrapper").WrappedValue,l=b("recoil-oss/core/Recoil_FunctionalCore").getNodeLoadable,m=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeLoadable,n=b("recoil-oss/core/Recoil_FunctionalCore").setNodeValue,o=b("recoil-oss/core/Recoil_Graph").saveDepsToStore,p=(d=b("recoil-oss/core/Recoil_Node")).DEFAULT_VALUE,q=d.getConfigDeletionHandler,r=d.getNode,s=d.registerNode,t=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,u=b("recoil-oss/core/Recoil_RecoilValueInterface").markRecoilValueModified,v=b("recoil-oss/core/Recoil_Retention").retainedByOptionWithDefault,w=b("recoil-oss/hooks/Recoil_useRecoilCallback").recoilCallback,x=b("recoil-shared/util/Recoil_PerformanceTimings").startPerfBlock,y=function(){},z=new y(),A=[],B=new Map(),aa=function(){var a=0;return function(){return a++}}();function a(a){var c=null,d=a.key,e=a.get,f=a.cachePolicy_UNSTABLE,C=a.set!=null?a.set:void 0,D=new Set(),E=b("recoil-oss/caches/Recoil_treeCacheFromPolicy")((f=f)!=null?f:{equality:"reference",eviction:"keep-all"},d);f=v(a.retainedBy_UNSTABLE);var F=new Map(),G=0;function H(){return!b("recoil-shared/util/Recoil_gkx")("1842165")||G>0}function I(a){a.getState().knownSelectors.add(d);G++;return function(){G--}}function J(){return q(d)!==void 0&&!H()}function K(a,b,c,d,e){W(b,d,e),L(a,c)}function L(a,b){V(a,b)&&U(a),M(b,!0)}function ba(a,c){if(V(a,c)){a=b("recoil-shared/util/Recoil_nullthrows")(T(a));a.stateVersions.clear();M(c,!1)}}function M(a,d){var e=B.get(a);if(e!=null){for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;u(h,b("recoil-shared/util/Recoil_nullthrows")(c))}d&&B["delete"](a)}}function N(a,b){var c=B.get(b);c==null&&B.set(b,c=new Set());c.add(a)}function ca(a,c,d,e,f,g){return c.then(function(b){if(!H()){U(a);throw z}var c=j(b);K(a,d,f,c,e);return b})["catch"](function(c){if(!H()){U(a);throw z}if(b("recoil-shared/util/Recoil_isPromise")(c))return O(a,c,d,e,f,g);var i=h(c);K(a,d,f,i,e);throw c})}function O(a,b,c,d,e,f){return b.then(function(d){if(!H()){U(a);throw z}f.loadingDepKey!=null&&f.loadingDepPromise===b?c.atomValues.set(f.loadingDepKey,j(d)):a.getState().knownSelectors.forEach(function(a){c.atomValues["delete"](a)});d=R(a,c);if(d&&d.state!=="loading"){(V(a,e)||T(a)==null)&&L(a,e);if(d.state==="hasValue")return d.contents;else throw d.contents}if(!V(a,e)){d=S(a,c);if(d!=null)return d.loadingLoadable.contents}d=Q(a,c,e);var g=d[0];d=d[1];g.state!=="loading"&&K(a,c,e,g,d);if(g.state==="hasError")throw g.contents;return g.contents})["catch"](function(b){if(b instanceof y)throw z;if(!H()){U(a);throw z}var f=h(b);K(a,c,e,f,d);throw b})}function P(a,b,c,e){if(V(a,e)||b.version===((e=a.getState())==null?void 0:(e=e.currentTree)==null?void 0:e.version)||b.version===((e=a.getState())==null?void 0:(b=e.nextTree)==null?void 0:b.version)){o(d,c,a,(e=(e=a.getState())==null?void 0:(b=e.nextTree)==null?void 0:b.version)!=null?e:a.getState().currentTree.version)}for(var b=c,e=Array.isArray(b),a=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(a>=b.length)break;c=b[a++]}else{a=b.next();if(a.done)break;c=a.value}c=c;D.add(c)}}function Q(a,f,m){var n=x(d),o=!0,p=!0,q=function(){n(),p=!1},r=!1,s={loadingDepKey:null,loadingDepPromise:null},u=new Map();function v(c){c=c.key;var d=l(a,f,c);u.set(c,d);o||(P(a,f,new Set(u.keys()),m),ba(a,m));switch(d.state){case"hasValue":return d.contents;case"hasError":throw d.contents;case"loading":s.loadingDepKey=c;s.loadingDepPromise=d.contents;throw d.contents}throw b("recoil-shared/util/Recoil_err")("Invalid Loadable state")}var y=function(d){return function(){if(p)throw b("recoil-shared/util/Recoil_err")("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");c!=null||b("recoil-shared/util/Recoil_invariant")(0,54579);for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return w(a,d,f,{node:c})}};try{y=e({get:v,getCallback:y}),y=t(y)?v(y):y,g(y)&&(y.state==="hasError"&&(r=!0),y=y.contents),b("recoil-shared/util/Recoil_isPromise")(y)?y=ca(a,y,f,u,m,s)["finally"](q):q(),y=y instanceof k?y.value:y}catch(c){y=c,b("recoil-shared/util/Recoil_isPromise")(y)?y=O(a,y,f,u,m,s)["finally"](q):(r=!0,q())}r?v=h(y):b("recoil-shared/util/Recoil_isPromise")(y)?v=i(y):v=j(y);o=!1;fa(a,m,u);P(a,f,new Set(u.keys()),m);return[v,u]}function R(a,c){var e=c.atomValues.get(d);if(e!=null)return e;var f=new Set();try{e=E.get(function(d){typeof d==="string"||b("recoil-shared/util/Recoil_invariant")(0,35201);return l(a,c,d).contents},{onNodeVisit:function(a){a.type==="branch"&&a.nodeKey!==d&&f.add(a.nodeKey)}})}catch(a){throw b("recoil-shared/util/Recoil_err")('Problem with cache lookup for selector "'+d+'": '+a.message)}if(e){var g;c.atomValues.set(d,e);P(a,c,f,(g=T(a))==null?void 0:g.executionID)}return e}function da(a,b){var c=R(a,b);if(c!=null){U(a);return c}c=S(a,b);if(c!=null){var d;((d=c.loadingLoadable)==null?void 0:d.state)==="loading"&&N(a,c.executionID);return c.loadingLoadable}d=aa();c=Q(a,b,d);var e=c[0];c=c[1];e.state==="loading"?(ea(a,d,e,c,b),N(a,d)):(U(a),W(b,e,c));return e}function S(a,c){var d=b("recoil-shared/util/Recoil_concatIterables")([F.has(a)?[b("recoil-shared/util/Recoil_nullthrows")(F.get(a))]:[],b("recoil-shared/util/Recoil_mapIterable")(b("recoil-shared/util/Recoil_filterIterable")(F,function(b){b=b[0];return b!==a}),function(a){a=a[1];return a})]);function e(b){for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];if(!l(a,c,g).is(f))return!0}return!1}for(var d=d,f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;if(h.stateVersions.get(c.version)||!e(h.depValuesDiscoveredSoFarDuringAsyncWork)){h.stateVersions.set(c.version,!0);return h}else h.stateVersions.set(c.version,!1)}return void 0}function T(a){return F.get(a)}function ea(a,b,c,d,e){F.set(a,{depValuesDiscoveredSoFarDuringAsyncWork:d,executionID:b,loadingLoadable:c,stateVersions:new Map([[e.version,!0]])})}function fa(a,b,c){if(V(a,b)){b=T(a);b!=null&&(b.depValuesDiscoveredSoFarDuringAsyncWork=c)}}function U(a){F["delete"](a)}function V(a,b){return b===((b=T(a))==null?void 0:b.executionID)}function ga(a){return Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return[b,a.contents]})}function W(a,c,e){a.atomValues.set(d,c);try{E.set(ga(e),c)}catch(a){throw b("recoil-shared/util/Recoil_err")('Problem with setting cache for selector "'+d+'": '+a.message)}}function ha(a){if(A.includes(d)){var c="Recoil selector has circular dependencies: "+A.slice(A.indexOf(d)).join(" \u2192 ");return h(b("recoil-shared/util/Recoil_err")(c))}A.push(d);try{return a()}finally{A.pop()}}function X(a,c){var e=c.atomValues.get(d);return e!=null?e:E.get(function(d){typeof d==="string"||b("recoil-shared/util/Recoil_invariant")(0,35201);return(d=m(a,c,d))==null?void 0:d.contents})}function Y(a,b){return ha(function(){return da(a,b)})}function Z(a){a.atomValues["delete"](d)}function $(a,d){c!=null||b("recoil-shared/util/Recoil_invariant")(0,54579);for(var e=D,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h=r(h);h.clearCache==null?void 0:h.clearCache(a,d)}D.clear();Z(d);E.clear();u(a,c)}if(C!=null){var ia=function(a,c,e){var f=!1,g=new Map();function h(e){e=e.key;if(f)throw b("recoil-shared/util/Recoil_err")("Recoil: Async selector sets are not currently supported.");var g=l(a,c,e);if(g.state==="hasValue")return g.contents;else if(g.state==="loading"){e='Getting value of asynchronous atom or selector "'+e+'" in a pending state while setting selector "'+d+'" is not yet supported.';b("recoil-shared/util/Recoil_recoverableViolation")(e,"recoil");throw b("recoil-shared/util/Recoil_err")(e)}else throw g.contents}function i(d,e){if(f){var i="Recoil: Async selector sets are not currently supported.";b("recoil-shared/util/Recoil_recoverableViolation")(i,"recoil");throw b("recoil-shared/util/Recoil_err")(i)}i=typeof e==="function"?e(h(d)):e;e=n(a,c,d.key,i);e.forEach(function(a,b){return g.set(b,a)})}function j(a){i(a,p)}j=C({set:i,get:h,reset:j},e);if(j!==void 0)throw b("recoil-shared/util/Recoil_isPromise")(j)?b("recoil-shared/util/Recoil_err")("Recoil: Async selector sets are not currently supported."):b("recoil-shared/util/Recoil_err")("Recoil: selector set should be a void function.");f=!0;return g};return c=s({key:d,nodeType:"selector",peek:X,get:Y,set:ia,init:I,invalidate:Z,clearCache:$,shouldDeleteConfigOnRelease:J,dangerouslyAllowMutability:a.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}else return c=s({key:d,nodeType:"selector",peek:X,get:Y,init:I,invalidate:Z,clearCache:$,shouldDeleteConfigOnRelease:J,dangerouslyAllowMutability:a.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}a.value=function(a){return new k(a)};e.exports=a}),null);
__d("recoil-oss/caches/Recoil_MapCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new Map();this.$2=(a=a==null?void 0:a.mapKey)!=null?a:function(a){return a}}var b=a.prototype;b.size=function(){return this.$1.size};b.has=function(a){return this.$1.has(this.$2(a))};b.get=function(a){return this.$1.get(this.$2(a))};b.set=function(a,b){this.$1.set(this.$2(a),b)};b["delete"]=function(a){this.$1["delete"](this.$2(a))};b.clear=function(){this.$1.clear()};return a}();e.exports={MapCache:a}}),null);
__d("recoil-oss/caches/Recoil_cacheFromPolicy",["recoil-oss/caches/Recoil_LRUCache","recoil-oss/caches/Recoil_MapCache","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_LRUCache").LRUCache,h=b("recoil-oss/caches/Recoil_MapCache").MapCache,i={equality:"reference",eviction:"none",maxSize:Infinity};function a(a){a=a===void 0?i:a;var b=a.equality;b=b===void 0?i.equality:b;var c=a.eviction;c=c===void 0?i.eviction:c;a=a.maxSize;a=a===void 0?i.maxSize:a;b=j(b);c=k(c,a,b);return c}function j(a){switch(a){case"reference":return function(a){return a};case"value":return function(a){return b("recoil-shared/util/Recoil_stableStringify")(a)}}throw b("recoil-shared/util/Recoil_err")("Unrecognized equality policy "+a)}function k(a,c,d){switch(a){case"keep-all":return new h({mapKey:d});case"lru":return new g({mapKey:d,maxSize:b("recoil-shared/util/Recoil_nullthrows")(c)});case"most-recent":return new g({mapKey:d,maxSize:1})}throw b("recoil-shared/util/Recoil_err")("Unrecognized eviction policy "+a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_selectorFamily",["recoil-oss/caches/Recoil_cacheFromPolicy","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_selector","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").setConfigDeletionHandler,h=0;function a(a){var c,d=b("recoil-oss/caches/Recoil_cacheFromPolicy")({equality:(c=(c=a.cachePolicyForParams_UNSTABLE)==null?void 0:c.equality)!=null?c:"value",eviction:"keep-all"});return function(c){var e,f;try{f=d.get(c)}catch(c){throw b("recoil-shared/util/Recoil_err")("Problem with cache lookup for selector "+a.key+": "+c.message)}if(f!=null)return f;e=a.key+"__selectorFamily/"+((e=b("recoil-shared/util/Recoil_stableStringify")(c,{allowFunctions:!0}))!=null?e:"void")+"/"+h++;var i=function(b){return a.get(c)(b)},j=a.cachePolicy_UNSTABLE,k=typeof a.retainedBy_UNSTABLE==="function"?a.retainedBy_UNSTABLE(c):a.retainedBy_UNSTABLE;if(a.set!=null){var l=a.set,m=function(a,b){return l(c)(a,b)};m=b("recoil-oss/recoil_values/Recoil_selector")({key:e,get:i,set:m,cachePolicy_UNSTABLE:j,dangerouslyAllowMutability:a.dangerouslyAllowMutability,retainedBy_UNSTABLE:k})}else m=b("recoil-oss/recoil_values/Recoil_selector")({key:e,get:i,cachePolicy_UNSTABLE:j,dangerouslyAllowMutability:a.dangerouslyAllowMutability,retainedBy_UNSTABLE:k});d.set(c,m);g(m.key,function(){d["delete"](c)});return m}}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_WaitFor",["Promise","recoil-oss/adt/Recoil_Loadable","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_Loadable").loadableWithError,h=b("recoil-oss/adt/Recoil_Loadable").loadableWithPromise,i=b("recoil-oss/adt/Recoil_Loadable").loadableWithValue;function j(a,b){var c=Array(b.length).fill(void 0),d=Array(b.length).fill(void 0);for(var b=b.entries(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];try{c[h]=a(g)}catch(a){d[h]=a}}return[c,d]}function k(a){return a!=null&&!b("recoil-shared/util/Recoil_isPromise")(a)}function l(a){return Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(function(b){return a[b]})}function m(a,b){return Array.isArray(a)?b:Object.getOwnPropertyNames(a).reduce(function(a,c,d){return babelHelpers["extends"]({},a,(a={},a[c]=b[d],a))},{})}function n(a,c,d){d=d.map(function(a,d){return a==null?i(c[d]):b("recoil-shared/util/Recoil_isPromise")(a)?h(a):g(a)});return m(a,d)}function o(a,b){return b.map(function(b,c){return b===void 0?a[c]:b})}c=(a=b("recoil-oss/recoil_values/Recoil_selectorFamily"))({key:"__waitForNone",get:function(a){return function(b){b=b.get;var c=l(a);b=j(b,c);c=b[0];b=b[1];return n(a,c,b)}},dangerouslyAllowMutability:!0});d=a({key:"__waitForAny",get:function(a){return function(c){c=c.get;var d=l(a);c=j(c,d);var e=c[0],f=c[1];return f.some(function(a){return!b("recoil-shared/util/Recoil_isPromise")(a)})?n(a,e,f):new(b("Promise"))(function(c){var d=function(){if(h){if(i>=g.length)return"break";j=g[i++]}else{i=g.next();if(i.done)return"break";j=i.value}var d=j,k=d[0];d=d[1];b("recoil-shared/util/Recoil_isPromise")(d)&&d.then(function(b){e[k]=b,f[k]=void 0,c(n(a,e,f))})["catch"](function(b){f[k]=b,c(n(a,e,f))})};for(var g=f.entries(),h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k=d();if(k==="break")break}})}},dangerouslyAllowMutability:!0});f=a({key:"__waitForAll",get:function(a){return function(c){c=c.get;var d=l(a);c=j(c,d);var e=c[0];d=c[1];if(d.every(function(a){return a==null}))return m(a,e);c=d.find(k);if(c!=null)throw c;return b("Promise").all(d).then(function(b){return m(a,o(e,b))})}},dangerouslyAllowMutability:!0});var p=a({key:"__waitForAllSettled",get:function(a){return function(c){c=c.get;var d=l(a);c=j(c,d);var e=c[0],f=c[1];return f.every(function(a){return!b("recoil-shared/util/Recoil_isPromise")(a)})?n(a,e,f):b("Promise").all(f.map(function(a,c){return b("recoil-shared/util/Recoil_isPromise")(a)?a.then(function(a){e[c]=a,f[c]=void 0})["catch"](function(a){e[c]=void 0,f[c]=a}):null})).then(function(){return n(a,e,f)})}},dangerouslyAllowMutability:!0});a=a({key:"__noWait",get:function(a){return function(c){c=c.get;try{return b("recoil-oss/recoil_values/Recoil_selector").value(i(c(a)))}catch(a){return b("recoil-oss/recoil_values/Recoil_selector").value(b("recoil-shared/util/Recoil_isPromise")(a)?h(a):g(a))}}},dangerouslyAllowMutability:!0});e.exports={waitForNone:c,waitForAny:d,waitForAll:f,waitForAllSettled:p,noWait:a}}),null);
__d("Recoil_ScopedAtomTaggedValue",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.entries=a};f["default"]=a}),66);
__d("recoil-oss/adt/Recoil_ArrayKeyedMap",[],(function(a,b,c,d,e,f){"use strict";var g={},h=new Map();a=function(){function a(b){this.$1=new Map();if(b instanceof a)for(var c=b.entries(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];this.set(g,f)}else if(b)for(var g=b,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}c=d;b=c[0];d=c[1];this.set(b,d)}return this}var b=a.prototype;b.get=function(a){a=Array.isArray(a)?a:[a];var b=this.$1;a.forEach(function(a){b=(a=b.get(a))!=null?a:h});return b===void 0?void 0:b.get(g)};b.set=function(a,b){a=Array.isArray(a)?a:[a];var c=this.$1,d=c;a.forEach(function(a){d=c.get(a),d||(d=new Map(),c.set(a,d)),c=d});d.set(g,b);return this};b["delete"]=function(a){a=Array.isArray(a)?a:[a];var b=this.$1,c=b;a.forEach(function(a){c=b.get(a),c||(c=new Map(),b.set(a,c)),b=c});c["delete"](g);return this};b.entries=function(){var a=[];function b(c,d){c.forEach(function(c,e){e===g?a.push([d,c]):b(c,d.concat(e))})}b(this.$1,[]);return a.values()};b.toBuiltInMap=function(){return new Map(this.entries())};return a}();e.exports={ArrayKeyedMap:a}}),null);
__d("Recoil_ScopedAtom",["Recoil_ScopedAtomTaggedValue","recoil-oss/adt/Recoil_ArrayKeyedMap","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_WaitFor","recoil-oss/recoil_values/Recoil_atom","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){var b=a[0];a=a[1];return[b,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)(a)]})}function i(a){return a.map(function(a){return typeof a==="string"||typeof a==="number"||typeof a==="boolean"||a==null?a:c("recoil-shared/util/Recoil_stableStringify")(a)})}function j(a,b,e){if(!(b instanceof c("Recoil_ScopedAtomTaggedValue")))return b;for(var b=b.entries,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var j=h[0];h=h[1];h=h.get(i(e[j]));if(h!==void 0)return h instanceof d("recoil-oss/core/Recoil_Node").DefaultValue?a:h}return a}function k(a,b,e){b=b instanceof c("Recoil_ScopedAtomTaggedValue")?b.entries:[];var f=e.length-1;e=i(e[f]);var g=h(b);b.length>0&&b[0][0]===f?g[0][1].set(e,a):g.unshift([f,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)().set(e,a)]);return new(c("Recoil_ScopedAtomTaggedValue"))(g)}function l(a,b){if(a===null||a===void 0)return void 0;var e=a;return babelHelpers["extends"]({},a,{validator:function(a){if(a instanceof c("Recoil_ScopedAtomTaggedValue"))return new(c("Recoil_ScopedAtomTaggedValue"))(a.entries.filter(function(a){var b=a[0];a=a[1];return typeof b==="number"&&a instanceof d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap}).map(function(a){var f=a[0];a=a[1];return[f,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)(c("recoil-shared/util/Recoil_mapIterable")(a.entries(),function(a){var c=a[0];a=a[1];a=e.validator(a,d("recoil-oss/core/Recoil_Node").DEFAULT_VALUE);return[c,a instanceof d("recoil-oss/core/Recoil_Node").DefaultValue?b:a]}))]}));else return e.validator(a,d("recoil-oss/core/Recoil_Node").DEFAULT_VALUE)}})}function a(a){var b=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,e=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]),f=b.map(function(a){return Array.isArray(a)?d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(a):a}),g=c("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{"default":new(c("Recoil_ScopedAtomTaggedValue"))([]),persistence_UNSTABLE:l(e.persistence_UNSTABLE,e["default"]),dangerouslyAllowMutability:e.dangerouslyAllowMutability,effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}));return c("recoil-oss/recoil_values/Recoil_selector")({key:e.key+"__scopedAtom",get:function(a){a=a.get;return j(e["default"],a(g),a(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f)))},set:function(a,b){var c=a.set,e=a.get;return c(g,function(a){return k(b,a,e(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f)))})},dangerouslyAllowMutability:e.dangerouslyAllowMutability})}function m(a){return a.map(function(a){return Array.isArray(a)?function(b){return d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(a.map(function(a){return typeof a==="function"?a(b):a}))}:function(){return a}})}function b(a){var b=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,e=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]),f=m(b),g=c("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{"default":new(c("Recoil_ScopedAtomTaggedValue"))([]),persistence_UNSTABLE:l(e.persistence_UNSTABLE,e["default"]),dangerouslyAllowMutability:e.dangerouslyAllowMutability,effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}));return c("recoil-oss/recoil_values/Recoil_selectorFamily")({key:e.key+"__scopedAtom",get:function(a){return function(b){b=b.get;return j(e["default"],b(g),b(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f.map(function(b){return b(a)}))))}},set:function(a){return function(b,c){var e=b.set,h=b.get;return e(g,function(b){return k(c,b,h(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f.map(function(b){return b(a)}))))})}},dangerouslyAllowMutability:e.dangerouslyAllowMutability})}g.scopedAtom=a;g.parameterizedScopedAtomLegacy=b}),98);
__d("recoil-oss/recoil_values/Recoil_atom",["Promise","Recoil_ScopedAtom","recoil-oss/adt/Recoil_Loadable","recoil-oss/adt/Recoil_Wrapper","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/recoil_values/Recoil_selector","recoil-shared/util/Recoil_deepFreezeValue","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("Recoil_ScopedAtom").scopedAtom,h=(a=b("recoil-oss/adt/Recoil_Loadable")).isLoadable,i=a.loadableWithError,j=a.loadableWithPromise,k=a.loadableWithValue,l=b("recoil-oss/adt/Recoil_Wrapper").WrappedValue,m=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,n=(c=b("recoil-oss/core/Recoil_Node")).DEFAULT_VALUE,o=c.DefaultValue,p=c.getConfigDeletionHandler,q=c.registerNode,r=c.setConfigDeletionHandler,s=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,t=(d=b("recoil-oss/core/Recoil_RecoilValueInterface")).getRecoilValueAsLoadable,u=d.markRecoilValueModified,v=d.setRecoilValue,w=d.setRecoilValueLoadable,x=b("recoil-oss/core/Recoil_Retention").retainedByOptionWithDefault,y=function(a){return a instanceof l?a.value:a};function z(a){var c=a.key,d=a.persistence_UNSTABLE,e=x(a.retainedBy_UNSTABLE),f=0;function g(a){return j(a.then(function(a){l=k(a);return a})["catch"](function(a){l=i(a);throw a}))}var l=b("recoil-shared/util/Recoil_isPromise")(a["default"])?g(a["default"]):h(a["default"])?a["default"].state==="loading"?g(a["default"].contents):a["default"]:k(y(a["default"]));z(l.contents);var r=void 0,s=new Map();function z(a){return a}function A(a,b){var d=b.then(function(b){var e;e=(e=a.getState().nextTree)!=null?e:a.getState().currentTree;((e=e.atomValues.get(c))==null?void 0:e.contents)===d&&v(a,H,b);return b})["catch"](function(b){var e;e=(e=a.getState().nextTree)!=null?e:a.getState().currentTree;((e=e.atomValues.get(c))==null?void 0:e.contents)===d&&w(a,H,i(b));throw b});return d}function B(d,e,g){f++;var h=function(){var a;f--;(a=s.get(d))==null?void 0:a.forEach(function(a){return a()});s["delete"](d)};d.getState().knownAtoms.add(c);if(l.state==="loading"){var p=function(){var a;a=(a=d.getState().nextTree)!=null?a:d.getState().currentTree;a.atomValues.has(c)||u(d,H)};l.contents["finally"](p)}p=(p=a.effects)!=null?p:a.effects_UNSTABLE;if(p!=null){var q=function(a){if(B&&a.key===c){var f=x;return f instanceof o?C(d,e):b("recoil-shared/util/Recoil_isPromise")(f)?j(f.then(function(a){return a instanceof o?l.toPromise():a})):k(f)}return t(d,a)},r=function(a){return q(a).toPromise()},w=function(a){var b;b=m(d,(b=d.getState().nextTree)!=null?b:d.getState().currentTree,a.key);return B&&a.key===c&&!(x instanceof o)?babelHelpers["extends"]({},b,{isSet:!0,loadable:q(a)}):b},x=n,B=!0,D=!1,E=null,F=function(a){return function(c){if(B){var e=q(H);e=e.state==="hasValue"?e.contents:n;x=typeof c==="function"?c(e):c;b("recoil-shared/util/Recoil_isPromise")(x)&&(x=x.then(function(b){E={effect:a,value:b};return b}))}else{if(b("recoil-shared/util/Recoil_isPromise")(c))throw b("recoil-shared/util/Recoil_err")("Setting atoms to async values is not implemented.");typeof c!=="function"&&(E={effect:a,value:y(c)});v(d,H,typeof c==="function"?function(b){b=y(c(b));E={effect:a,value:b};return b}:y(c))}}},G=function(a){return function(){return F(a)(n)}},I=function(a){return function(e){var f,g=d.subscribeToTransactions(function(d){var f;d=d.getState();var g=d.currentTree;d=d.previousTree;d||(b("recoil-shared/util/Recoil_recoverableViolation")("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil","recoil"),d=g);f=(f=g.atomValues.get(c))!=null?f:l;if(f.state==="hasValue"){var h;f=f.contents;d=(d=d.atomValues.get(c))!=null?d:l;d=d.state==="hasValue"?d.contents:n;((h=E)==null?void 0:h.effect)!==a||((h=E)==null?void 0:h.value)!==f?e(f,d,!g.atomValues.has(c)):((h=E)==null?void 0:h.effect)===a&&(E=null)}},c);g=g.release;s.set(d,[].concat((f=s.get(d))!=null?f:[],[g]))}};for(var p=p,J=Array.isArray(p),K=0,p=J?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=p.length)break;L=p[K++]}else{K=p.next();if(K.done)break;L=K.value}L=L;try{L=L({node:H,storeID:d.storeID,parentStoreID_UNSTABLE:d.parentStoreID,trigger:g,setSelf:F(L),resetSelf:G(L),onSet:I(L),getPromise:r,getLoadable:q,getInfo_UNSTABLE:w});if(L!=null){var M;s.set(d,[].concat((M=s.get(d))!=null?M:[],[L]))}}catch(a){x=a,D=!0}}B=!1;if(!(x instanceof o)){M=D?i(x):b("recoil-shared/util/Recoil_isPromise")(x)?j(A(d,x)):k(y(x));z(M.contents);e.atomValues.set(c,M);(L=d.getState().nextTree)==null?void 0:L.atomValues.set(c,M)}}return h}function C(a,b){return(b=(a=b.atomValues.get(c))!=null?a:r)!=null?b:l}function D(a,e){if(e.atomValues.has(c))return b("recoil-shared/util/Recoil_nullthrows")(e.atomValues.get(c));else if(e.nonvalidatedAtoms.has(c)){if(r!=null)return r;if(d==null){b("recoil-shared/util/Recoil_expectationViolation")("Tried to restore a persisted value for atom "+c+" but it has no persistence settings.");return l}a=e.nonvalidatedAtoms.get(c);e=d.validator(a,n);a=e instanceof o?l:k(e);r=a;return r}else return l}function E(){r=void 0}function F(a,d,e){if(d.atomValues.has(c)){a=b("recoil-shared/util/Recoil_nullthrows")(d.atomValues.get(c));if(a.state==="hasValue"&&e===a.contents)return new Map()}else if(!d.nonvalidatedAtoms.has(c)&&e instanceof o)return new Map();z(e);r=void 0;return new Map().set(c,k(e))}function G(){return p(c)!==void 0&&f<=0}var H=q({key:c,nodeType:"atom",peek:C,get:D,set:F,init:B,invalidate:E,shouldDeleteConfigOnRelease:G,dangerouslyAllowMutability:a.dangerouslyAllowMutability,persistence_UNSTABLE:a.persistence_UNSTABLE?{type:a.persistence_UNSTABLE.type,backButton:a.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:e});return H}function A(a){var c=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,d=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]);a="default"in a?a["default"]:new(b("Promise"))(function(){});if(s(a)||b("recoil-shared/util/Recoil_isPromise")(a)&&c||h(a)&&c)return B(babelHelpers["extends"]({},d,{"default":a,scopeRules_APPEND_ONLY_READ_THE_DOCS:c}));else if(c&&!b("recoil-shared/util/Recoil_isPromise")(a)&&!h(a))return g(babelHelpers["extends"]({},d,{"default":y(a),scopeRules_APPEND_ONLY_READ_THE_DOCS:c}));else return z(babelHelpers["extends"]({},d,{"default":a}))}function B(a){var c=A(babelHelpers["extends"]({},a,{"default":n,persistence_UNSTABLE:a.persistence_UNSTABLE===void 0?void 0:babelHelpers["extends"]({},a.persistence_UNSTABLE,{validator:function(c){return c instanceof o?c:b("recoil-shared/util/Recoil_nullthrows")(a.persistence_UNSTABLE).validator(c,n)}}),effects:a.effects,effects_UNSTABLE:a.effects_UNSTABLE})),d=b("recoil-oss/recoil_values/Recoil_selector")({key:a.key+"__withFallback",get:function(b){b=b.get;b=b(c);return b instanceof o?a["default"]:b},set:function(a,b){a=a.set;return a(c,b)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:a.dangerouslyAllowMutability});r(d.key,p(a.key));return d}A.value=function(a){return new l(a)};e.exports=A}),null);
__d("recoil-oss/recoil_values/Recoil_atomFamily",["Promise","recoil-oss/caches/Recoil_cacheFromPolicy","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_atom","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").setConfigDeletionHandler;function h(a,b){return a==null?void 0:a.map(function(a){return Array.isArray(a)?a.map(function(a){return typeof a==="function"?a(b):a}):a})}function a(a){var c,d=b("recoil-oss/caches/Recoil_cacheFromPolicy")({equality:(c=(c=a.cachePolicyForParams_UNSTABLE)==null?void 0:c.equality)!=null?c:"value",eviction:"keep-all"});return function(c){var e=d.get(c);if(e!=null)return e;a.cachePolicyForParams_UNSTABLE;e=babelHelpers.objectWithoutPropertiesLoose(a,["cachePolicyForParams_UNSTABLE"]);var f="default"in a?a["default"]:new(b("Promise"))(function(){});f=b("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{key:a.key+"__"+((e=b("recoil-shared/util/Recoil_stableStringify")(c))!=null?e:"void"),"default":typeof f==="function"?f(c):f,retainedBy_UNSTABLE:typeof a.retainedBy_UNSTABLE==="function"?a.retainedBy_UNSTABLE(c):a.retainedBy_UNSTABLE,effects:typeof a.effects==="function"?a.effects(c):typeof a.effects_UNSTABLE==="function"?a.effects_UNSTABLE(c):(e=a.effects)!=null?e:a.effects_UNSTABLE,scopeRules_APPEND_ONLY_READ_THE_DOCS:h(a.scopeRules_APPEND_ONLY_READ_THE_DOCS,c)}));d.set(c,f);g(f.key,function(){d["delete"](c)});return f}}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_constSelector",["recoil-oss/recoil_values/Recoil_selectorFamily"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/recoil_values/Recoil_selectorFamily")({key:"__constant",get:function(a){return function(){return a}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a(a){return g(a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_errorSelector",["recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/recoil_values/Recoil_selectorFamily")({key:"__error",get:function(a){return function(){throw b("recoil-shared/util/Recoil_err")(a)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a(a){return g(a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_readOnlySelector",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}e.exports=a}),null);
__d("recoil-oss",["recoil-oss/adt/Recoil_Loadable","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RetentionZone","recoil-oss/core/Recoil_Snapshot","recoil-oss/hooks/Recoil_Hooks","recoil-oss/hooks/Recoil_SnapshotHooks","recoil-oss/hooks/Recoil_useGetRecoilValueInfo","recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots","recoil-oss/hooks/Recoil_useRecoilCallback","recoil-oss/hooks/Recoil_useRecoilRefresher","recoil-oss/hooks/Recoil_useRecoilTransaction","recoil-oss/hooks/Recoil_useRetain","recoil-oss/recoil_values/Recoil_WaitFor","recoil-oss/recoil_values/Recoil_atom","recoil-oss/recoil_values/Recoil_atomFamily","recoil-oss/recoil_values/Recoil_constSelector","recoil-oss/recoil_values/Recoil_errorSelector","recoil-oss/recoil_values/Recoil_readOnlySelector","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily"],(function(a,b,c,d,e,f){"use strict";var g,h;a=b("recoil-oss/adt/Recoil_Loadable").RecoilLoadable;c=b("recoil-oss/core/Recoil_Node").DefaultValue;d=b("recoil-oss/core/Recoil_RecoilRoot").RecoilRoot;f=b("recoil-oss/core/Recoil_RecoilRoot").useRecoilStoreID;var i=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,j=b("recoil-oss/core/Recoil_RetentionZone").retentionZone,k=b("recoil-oss/core/Recoil_Snapshot").freshSnapshot,l=(g=b("recoil-oss/hooks/Recoil_Hooks")).useRecoilState,m=g.useRecoilState_TRANSITION_SUPPORT_UNSTABLE,n=g.useRecoilStateLoadable,o=g.useRecoilValue,p=g.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,q=g.useRecoilValueLoadable,r=g.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,s=g.useResetRecoilState;g=g.useSetRecoilState;var t=b("recoil-oss/hooks/Recoil_SnapshotHooks").useGotoRecoilSnapshot,u=b("recoil-oss/hooks/Recoil_SnapshotHooks").useRecoilSnapshot,v=b("recoil-oss/hooks/Recoil_SnapshotHooks").useRecoilTransactionObserver,w=b("recoil-oss/hooks/Recoil_useRecoilCallback").useRecoilCallback,x=(h=b("recoil-oss/recoil_values/Recoil_WaitFor")).noWait,y=h.waitForAll,z=h.waitForAllSettled,A=h.waitForAny;h=h.waitForNone;e.exports={DefaultValue:c,isRecoilValue:i,RecoilLoadable:a,RecoilRoot:d,useRecoilStoreID:f,useRecoilBridgeAcrossReactRoots_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots"),atom:b("recoil-oss/recoil_values/Recoil_atom"),selector:b("recoil-oss/recoil_values/Recoil_selector"),atomFamily:b("recoil-oss/recoil_values/Recoil_atomFamily"),selectorFamily:b("recoil-oss/recoil_values/Recoil_selectorFamily"),constSelector:b("recoil-oss/recoil_values/Recoil_constSelector"),errorSelector:b("recoil-oss/recoil_values/Recoil_errorSelector"),readOnlySelector:b("recoil-oss/recoil_values/Recoil_readOnlySelector"),noWait:x,waitForNone:h,waitForAny:A,waitForAll:y,waitForAllSettled:z,useRecoilValue:o,useRecoilValueLoadable:q,useRecoilState:l,useRecoilStateLoadable:n,useSetRecoilState:g,useResetRecoilState:s,useGetRecoilValueInfo_UNSTABLE:b("recoil-oss/hooks/Recoil_useGetRecoilValueInfo"),useRecoilRefresher_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilRefresher"),useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:r,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:p,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:m,useRecoilCallback:w,useRecoilTransaction_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilTransaction"),useGotoRecoilSnapshot:t,useRecoilSnapshot:u,useRecoilTransactionObserver_UNSTABLE:v,snapshot_UNSTABLE:k,useRetain:b("recoil-oss/hooks/Recoil_useRetain"),retentionZone:j}}),null);
__d("Recoil",["recoil-oss"],(function(a,b,c,d,e,f,g){"use strict";g.DefaultValue=d("recoil-oss").DefaultValue,g.RecoilLoadable=d("recoil-oss").RecoilLoadable,g.RecoilRoot=d("recoil-oss").RecoilRoot,g.atom=d("recoil-oss").atom,g.atomFamily=d("recoil-oss").atomFamily,g.constSelector=d("recoil-oss").constSelector,g.errorSelector=d("recoil-oss").errorSelector,g.isRecoilValue=d("recoil-oss").isRecoilValue,g.noWait=d("recoil-oss").noWait,g.readOnlySelector=d("recoil-oss").readOnlySelector,g.retentionZone=d("recoil-oss").retentionZone,g.selector=d("recoil-oss").selector,g.selectorFamily=d("recoil-oss").selectorFamily,g.snapshot_UNSTABLE=d("recoil-oss").snapshot_UNSTABLE,g.useGetRecoilValueInfo_UNSTABLE=d("recoil-oss").useGetRecoilValueInfo_UNSTABLE,g.useGotoRecoilSnapshot=d("recoil-oss").useGotoRecoilSnapshot,g.useRecoilBridgeAcrossReactRoots_UNSTABLE=d("recoil-oss").useRecoilBridgeAcrossReactRoots_UNSTABLE,g.useRecoilCallback=d("recoil-oss").useRecoilCallback,g.useRecoilRefresher_UNSTABLE=d("recoil-oss").useRecoilRefresher_UNSTABLE,g.useRecoilSnapshot=d("recoil-oss").useRecoilSnapshot,g.useRecoilState=d("recoil-oss").useRecoilState,g.useRecoilState_TRANSITION_SUPPORT_UNSTABLE=d("recoil-oss").useRecoilState_TRANSITION_SUPPORT_UNSTABLE,g.useRecoilStateLoadable=d("recoil-oss").useRecoilStateLoadable,g.useRecoilStoreID=d("recoil-oss").useRecoilStoreID,g.useRecoilTransaction_UNSTABLE=d("recoil-oss").useRecoilTransaction_UNSTABLE,g.useRecoilTransactionObserver_UNSTABLE=d("recoil-oss").useRecoilTransactionObserver_UNSTABLE,g.useRecoilValue=d("recoil-oss").useRecoilValue,g.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE=d("recoil-oss").useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,g.useRecoilValueLoadable=d("recoil-oss").useRecoilValueLoadable,g.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE=d("recoil-oss").useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,g.useResetRecoilState=d("recoil-oss").useResetRecoilState,g.useRetain=d("recoil-oss").useRetain,g.useSetRecoilState=d("recoil-oss").useSetRecoilState,g.waitForAll=d("recoil-oss").waitForAll,g.waitForAllSettled=d("recoil-oss").waitForAllSettled,g.waitForAny=d("recoil-oss").waitForAny,g.waitForNone=d("recoil-oss").waitForNone}),98);
__d("ZenonDataMessageTopics",[],(function(a,b,c,d,e,f){"use strict";a="rtc_av_escalation_decline";f.AV_ESCALATION_DECLINE_DATA_MESSAGE_TOPIC=a}),66);
__d("ZenonRemoteVideoRenderingEnabledAtom",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":!0,key:"ZenonCallsRecoil_ZenonRemoteVideoRenderingEnabledAtom"});g["default"]=a}),98);
__d("ZenonRemoteVideoRenderingEnabledSelector",["Recoil","ZenonRemoteVideoRenderingEnabledAtom"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({get:function(a){a=a.get;return a(c("ZenonRemoteVideoRenderingEnabledAtom"))},key:"ZenonVideoEscalationRecoil_ZenonRemoteVideoRenderingEnabledSelector"});g["default"]=a}),98);
__d("ZenonThreadContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);c=b;g["default"]=c}),98);
__d("ZenonThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({OneToOne:"ONE_TO_ONE",Group:"GROUP",Other:"OTHER"});c=a;f["default"]=c}),66);
__d("ZenonThreadHooks",["MercuryIDs","ZenonThreadContext","ZenonThreadType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useContext,j=h.useDebugValue,k=h.useMemo;function a(){var a=i(c("ZenonThreadContext"));a=a?a.id:null;j(a);return a}function b(){var a=i(c("ZenonThreadContext"));a=a?a.participants:[];j(a);return a}function e(){var a=i(c("ZenonThreadContext")),b=(a=a==null?void 0:(a=a.mercuryThread)==null?void 0:a.participants)!=null?a:null;a=k(function(){return b?b.map(function(a){return d("MercuryIDs").getUserIDFromParticipantID(a)}).filter(Boolean):[]},[b]);j(a);return a}function f(){var a=i(c("ZenonThreadContext"));a=a?a.imageUrl:null;j(a);return a}function l(){var a=i(c("ZenonThreadContext"));a=(a=a==null?void 0:a.type)!=null?a:c("ZenonThreadType").Other;j(a);return a}function m(){var a=i(c("ZenonThreadContext"));a=a?a.name:null;j(a);return a}function n(){var a=i(c("ZenonThreadContext"));a=a?a.hasOngoingCall:null;j(a);return a}function o(){var a=i(c("ZenonThreadContext"));a=a?a.mercuryThread:null;j(a);return a}g.useThreadFBID=a;g.useThreadAndCallParticipants=b;g.useThreadParticipants=e;g.useThreadImage=f;g.useThreadType=l;g.useThreadName=m;g.useOngoingCall=n;g.useMercuryThread=o}),98);
__d("ZenonCallsHooks",["FBLogger","Recoil","UserAgent","ZenonActorHooks","ZenonCallsContext","ZenonCallsModelTypes","ZenonDataMessageTopics","ZenonNetworkQualityMonitor","ZenonRemoteVideoRenderingEnabledSelector","ZenonScreenSharingAvailabilityType","ZenonThreadHooks","ZenonUsers","ZenonUsersHooks","immutable","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=b.useDebugValue,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={useAddLocalTrack:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){return b.addLocalTrack(d,a)},[b,d])},useApproveParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){b.approveParticipants(d,a)},[b,d])},useAudioSharingRemoteUsersCount:function(){var a=o.useConnectedRemoteUsersIDs(),b=q(),c=0;b&&a.forEach(function(a){a=b.participants.get(a);if(a){a=a.trackIDs.map(function(a){return b.mediaTracks.get(a).contentType});a.includes("screen_audio")&&(c+=1)}});return c},useCallConnectedTime:function(){var a=i(c("ZenonCallsContext")),b=a.callTimers;a=a.currentClientCallId;a=(b=b.get(a))!=null?b:null;j(a);return a},useCallParticipant:function(a){var b=null,c=s();if(c){b=(c=c.get(a))!=null?c:null}j(b);return b},useCallParticipants:function(){var a=s();return(a=a)!=null?a:c("immutable").Map()},useCallParticipantsIDs:function(){var a=s(),b=l(function(){return a===null?[]:Array.from(a.keys()).sort()},[a]);j(b);return b},useCallSpecificState:function(a){if(typeof a==="function")throw c("unrecoverableViolation")("Functional state types will break useCallSpecificState!","rtc_www");var b=i(c("ZenonCallsContext")),d=b.currentClientCallId;b=n(function(){return c("immutable").Map([[d,a]])});var e=b[0],f=b[1];b=h(function(b){typeof b==="function"?f(function(c){return c.set(d,b(c.get(d,a)))}):f(e.set(d,b))},[d,a,e]);k(function(){e.has(d)||f(e.set(d,a))},[d,a,e]);return[e.get(d,a),b]},useCallState:function(){var a=q();a=a?a.callState:d("ZenonCallsModelTypes").ZenonCallState.New;j(a);return a},useCanAddParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;b=(a=(b=b.get(a))==null?void 0:b.features.canAddParticipants)!=null?a:!1;j(b);return b},useCanReplaceLocalStreams:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;b=(a=(b=b.get(a))==null?void 0:b.features.canReplaceLocalStreams)!=null?a:!1;j(b);return b},useCollisionContext:function(){var a=q();a=(a=a==null?void 0:a.collisionContext)!=null?a:null;j(a);return a},useConnectedCallParticipantsIDs:function(){var a=s(),b=l(function(){if(a!==null&&a.size>0){var b=a.filter(function(a){a=a.state;return a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected});return Array.from(b.keys()).sort()}return[]},[a]);j(b);return b},useConnectedRemoteUserCount:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=s();a=l(function(){return c===null?0:c.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected}).size},[b,c]);j(a);return a},useConnectedRemoteUsers:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],e=s();a=l(function(){return e!==null&&e.size>0?e.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected}):c("immutable").Map()},[b,e]);j(a);return a},useConnectedRemoteUsersIDs:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=s();a=l(function(){if(c!==null&&c.size>0){var a=c.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected});return Array.from(a.keys()).sort()}return[]},[b,c]);j(a);return a},useCoplayOutputState:function(){var a=q();if(a){a=(a=a.stateSyncOutputStates.get("coplay"))==null?void 0:a.data;return{eligibleParticipants:(a==null?void 0:a.eligibleParticipants)||[],matchState:(a==null?void 0:a.matchState)||null}}return null},useCurrentParticipant:function(){var a=d("ZenonActorHooks").useZenonActor();a=a[0];var b=s();return(b=b==null?void 0:b.get(a))!=null?b:null},useDataMessageSubscription:function(a,b){var e=i(c("ZenonCallsContext")),f=e.callSDK,g=e.currentClientCallId,h=o.useCallState();k(function(){h===d("ZenonCallsModelTypes").ZenonCallState.Connected&&f.createDataMessageSubscription(g,a,b);return function(){f.removeDataMessageSubscription(g,a,b)}},[f,h,g,a,b])},useDeclineVideoEscalation:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,e=a.currentClientCallId,f=o.useConnectedRemoteUsersIDs();return h(function(){b.sendGenericDataMessage(e,d("ZenonDataMessageTopics").AV_ESCALATION_DECLINE_DATA_MESSAGE_TOPIC,"",f,[])},[b,e,f])},useDenyParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){b.denyParticipants(d,a)},[b,d])},useDominantSpeakerID_DEPRECATED:function(){var a=q();a=(a=a==null?void 0:a.features.dominantSpeaker)!=null?a:null;j(a);return a},useEndCall:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId,e=a.endCallHooks;return h(function(a,c){b.endCall(d,a,c),e.forEach(function(b){return b(a,c)})},[b,d,e])},useEndCallReason:function(){var a=q();a=(a=a==null?void 0:a.endCallReason)!=null?a:null;j(a);return a},useGetDebugInfo:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK;a=a.currentClientCallId;var d=b.getMediaMode(a),e=b.getSdpFormat(a),f=b.getSignalingProtocol(a);b=b.getSecureFrameManagerState(a).e2eeNegotiationState;a={e2eeNegotiationState:b,mediaMode:d,sdpFormat:e,signalingProtocol:f};return a},useGetE2eeDebugStats:function(){var b=m(!0),d=n(null),e=d[0],f=d[1];d=i(c("ZenonCallsContext"));var g=d.callSDK,h=d.currentClientCallId,j=function(){var a=g.getSecureFrameManagerState(h);a=a.e2eeDebugStats;f(a?babelHelpers["extends"]({},a):null)};k(function(){b.current&&(b.current=!1,j());var c=a.setInterval(j,1e3);return function(){return a.clearInterval(c)}});return e},useGetMediaMode:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK;a=a.currentClientCallId;return b.getMediaMode(a)},useGetScreenAudio:function(){var a;a=(a=r().find(function(a){return a.contentType==="screen_audio"}))!=null?a:null;j(a);return a},useGetSdpFormat:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK;a=a.currentClientCallId;return b.getSdpFormat(a)},useGetSecureFrameManagerState:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK;a=a.currentClientCallId;return b.getSecureFrameManagerState(a)},useGetSignalingProtocol:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK;a=a.currentClientCallId;return b.getSignalingProtocol(a)},useGroupEscalationStatus:function(){var a=q();a=(a=a==null?void 0:a.groupEscalationStatus)!=null?a:null;j(a);return a},useHasParentApprovedParticipants:function(){var a=o.useConnectedRemoteUsersIDs();a=d("ZenonUsersHooks").useZenonUsers(a);return a.some(function(a){return a.userType===d("ZenonUsers").ZenonUserType.ParentApprovedUser})},useIsAudioCall:function(){var a=i(c("ZenonCallsContext")),b=a.callMediaTypes;a=a.currentClientCallId;b=b.get(a,"audio");j(b);return b==="audio"},useIsGuest:function(a){var b=o.useCallParticipant(a),c=d("ZenonThreadHooks").useThreadParticipants();return l(function(){return(b==null?void 0:b.participantType)===d("ZenonCallsModelTypes").ZenonCallParticipantType.Guest||!c.includes(a)},[b,a,c])},useLiveMediaTrack:function(a,b){var e=d("Recoil").useRecoilValue(c("ZenonRemoteVideoRenderingEnabledSelector")),f=q(),g=null;if(f&&(b!=="video"||e)){e=f.participants.get(a);if(e){g=(a=e.trackIDs.map(function(a){return f.mediaTracks.get(a)}).find(function(a){return a.contentType===b&&a.enabled&&a.webrtcTrack.readyState==="live"}))!=null?a:null}}j(g);return g},useLiveMediaTracks_DEBUG:function(a,b){var d=q(),e=c("immutable").Set();if(d){a=d.participants.get(a);if(a){a=a.trackIDs.map(function(a){return d.mediaTracks.get(a)}).filter(function(a){return a.contentType===b&&a.enabled&&a.webrtcTrack.readyState==="live"});e=a}}j(e);return e},useLiveScreenOrVideoTrack:function(a){var b=o.useLiveMediaTrack(a,"video"),c=o.useSupportMultipleStreams();a=o.useLiveMediaTrack(a,"screen");if(c){b=(c=a)!=null?c:b}return b},useLocalAudio:function(){var a;a=(a=r().find(function(a){return a.contentType==="audio"}))!=null?a:null;j(a);return a},useLocalScreen:function(){var a;a=(a=r().find(function(a){return a.contentType==="screen"}))!=null?a:null;j(a);return a},useLocalVideo:function(){var a;a=(a=r().find(function(a){return a.contentType==="video"}))!=null?a:null;j(a);return a},useMediaTrack_DEBUG:function(a,b){var c=q(),d=null;if(c){a=c.participants.get(a);if(a){d=(a=a.trackIDs.map(function(a){return c.mediaTracks.get(a)}).find(function(a){return a.contentType===b}))!=null?a:null}}j(d);return d},useMuteTrack:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){b.muteTrack(d,a)},[b,d])},useOnCallEnded:function(){var a=i(c("ZenonCallsContext")),b=a.endCallHooks;return h(function(a){b.add(a)},[b])},usePoorConnectionStatus:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;a=((b=b.get(a))==null?void 0:b.features.networkStatus.local)===d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Poor;j(a);return a},usePreContactingRemoteUsersIDs:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=s();a=l(function(){if(c!==null&&c.size>0){var a=c.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Precontacting});return Array.from(a.keys()).sort()}return[]},[b,c]);j(a);return a},useRemoteScreen:function(){var a=q(),b=o.useSupportMultipleStreams(),c=null;if(b){c=a===null?null:(b=a.mediaTracks.find(function(a){return a.remote===!0&&a.contentType==="screen"&&a.enabled}))!=null?b:null}j(c);return c},useRemoteScreenSharingUserIDs_DEPRECATED:function(){var a=q();return(a=a==null?void 0:a.remoteScreenSharingUserIDs)!=null?a:c("immutable").OrderedSet()},useRemoteScreenTracks:function(){var a=o.useIsAudioCall(),b=q(),c=o.useSupportMultipleStreams();a=!a&&b!==null&&c?b.mediaTracks.filter(function(a){return a.remote===!0&&a.contentType==="screen"&&a.enabled}).toArray():[];j(a);return a},useRemoteTracksNetworkQualityMap:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;a=(b=b.get(a))==null?void 0:b.features.networkStatus.remote;j(a);return a},useRemoteVideoTracks:function(){var a=d("Recoil").useRecoilValue(c("ZenonRemoteVideoRenderingEnabledSelector")),b=o.useIsAudioCall(),e=q();a=a&&!b&&e!==null?e.mediaTracks.filter(function(a){return a.remote===!0&&a.contentType==="video"&&a.enabled}).toArray():[];j(a);return a},useRemoveAllGuestParticipants:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=o.useCallParticipantsIDs(),e=o.useRemoveParticipants(),f=l(function(){return c.filter(function(a){return b!==a})},[b,c]);return h(function(){e(f)},[f,e])},useRemoveLocalTrack:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){return b.removeLocalTrack(d,a)},[b,d])},useRemoveParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){b.removeParticipants(d,a)},[b,d])},useReplaceLocalTrack:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a,c,e){return b.replaceLocalTrack(d,a,c,e)},[b,d])},useReplaceScreenTrack:function(){var a=o.useAddLocalTrack(),b=o.useReplaceLocalTrack(),c=o.useLocalVideo(),d=o.useLocalScreen(),e=o.useSupportMultipleStreams();return h(function(f){c==null||e?d==null?a(f):b(d.trackId,f):b(c.trackId,f)},[a,e,d,c,b])},useResponseSubCode:function(){var a=q();return(a=a==null?void 0:a.responseSubCode)!=null?a:null},useRingParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){b.ringParticipants(d,a)},[b,d])},useRtpReceivers_I_KNOW_WHAT_I_AM_DOING:function(){var a=q();a=(a=a==null?void 0:a.rtpReceivers_I_KNOW_WHAT_I_AM_DOING.toArray())!=null?a:[];p("useRtpReceivers");j(a);return a},useRtpSenders_I_KNOW_WHAT_I_AM_DOING:function(){var a=q();a=(a=a==null?void 0:a.rtpSenders_I_KNOW_WHAT_I_AM_DOING.toArray())!=null?a:[];p("useRtpSenders");j(a);return a},useScreenSharingAvailability:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;b=(a=(b=b.get(a))==null?void 0:b.features.screenSharingAvailability)!=null?a:c("ZenonScreenSharingAvailabilityType").Unknown;a=o.useIsAudioCall();(c("UserAgent").isBrowser("Safari")&&a||c("UserAgent").isBrowser("Oculus Browser"))&&(b=c("ZenonScreenSharingAvailabilityType").Unknown);j(b);return b},useServerInfoData:function(){var a=o.useCollisionContext();return(a=a==null?void 0:a.serverInfoData)!=null?a:null},useSubscribeToRemoteVideo:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a,c){b.subscribeToRemoteVideo(d,a,c)},[b,d])},useSupportMultipleStreams:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;b=(a=(b=b.get(a))==null?void 0:b.features.supportMultipleStreams)!=null?a:!1;j(b);return b},useUnmuteTrack:function(){var a=i(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return h(function(a){b.unmuteTrack(d,a)},[b,d])},useVideoEscalationStatus:function(){var a=q();a=(a=a==null?void 0:a.videoEscalationStatus)!=null?a:null;j(a);return a},useIsTwoPersonCall:function(){var a=o.useCallParticipantsIDs(),b=d("ZenonThreadHooks").useThreadName();return a.length<=2&&b==null},useIsPendingApproval:function(){var a=o.useCallState();return a===d("ZenonCallsModelTypes").ZenonCallState.PendingApproval}};function p(a){k(function(){c("FBLogger")("ZenonCallsHooks").event(a)},[a])}function q(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;a=(b=b.get(a))!=null?b:null;j(a);return a}function r(){var a=q();a=a==null?void 0:a.mediaTracks;return!a?[]:a.filter(function(a){return a.remote===!1}).toArray()}function s(){var a=q();a=(a=a==null?void 0:a.participants)!=null?a:null;j(a);return a}e=o;g["default"]=e}),98);
__d("ZenonConnectionStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({KEEP_ALL_PARTICIPANTS:0,REMOVE_DUPLICATED:1,DISCONNECT_DUPLICATED:2});f.ZenonDuplicatedParticipantsProcessingMode=a}),66);
__d("ZenonCallsModelEmitter",["EventEmitter","FBLogger","ZenonActorHooks","ZenonCall","ZenonCallParticipant","ZenonCallsModelTypes","ZenonConnectionStateTypes","ZenonDismissReason","ZenonParticipantState","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=100;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$ZenonCallsModelEmitter1=c("immutable").Map(),d.$ZenonCallsModelEmitter2=null,d.$ZenonCallsModelEmitter3=null,b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.emitCallsModel=function(a,b){var d=this.$ZenonCallsModelEmitter1.get(a);b=new(c("ZenonCall"))({callState:this.$ZenonCallsModelEmitter4(b),clientCallId:a,clientEndpointId:b.clientEndpointId,collisionContext:b.collisionContext,endCallReason:this.$ZenonCallsModelEmitter5(b),features:b.currentUserCapabilities,groupEscalationStatus:this.$ZenonCallsModelEmitter6(b),mediaTracks:this.$ZenonCallsModelEmitter7(b),participants:this.$ZenonCallsModelEmitter8(b),rtpReceivers_I_KNOW_WHAT_I_AM_DOING:this.$ZenonCallsModelEmitter9(b),rtpSenders_I_KNOW_WHAT_I_AM_DOING:this.$ZenonCallsModelEmitter10(b),selfParticipantID:b.selfParticipantID,stateSyncInputStates:this.$ZenonCallsModelEmitter11(b),stateSyncOutputStates:this.$ZenonCallsModelEmitter12(b),videoEscalationStatus:this.$ZenonCallsModelEmitter13(b)});var e=!1;try{var f=JSON.stringify(d),g=JSON.stringify(b);d=!(d==null?void 0:d.mediaTracks.equals(b.mediaTracks));(f!==g||d)&&(e=!0)}catch(a){c("FBLogger")("rtc_www").catching(a).warn("[ZP] Error while diffing callsModel"),e=!0}e&&(this.$ZenonCallsModelEmitter1=this.$ZenonCallsModelEmitter1.set(a,b),this.$ZenonCallsModelEmitter14(this.$ZenonCallsModelEmitter1))};e.$ZenonCallsModelEmitter14=function(a){var b=this;this.$ZenonCallsModelEmitter3!=null?this.$ZenonCallsModelEmitter2=a:(this.emitCallsModelDelegate(a),this.$ZenonCallsModelEmitter3=window.setTimeout(function(){b.$ZenonCallsModelEmitter2!=null&&(b.emitCallsModelDelegate(b.$ZenonCallsModelEmitter2),b.$ZenonCallsModelEmitter2=null),window.clearTimeout(b.$ZenonCallsModelEmitter3),b.$ZenonCallsModelEmitter3=null},h))};e.emitCallsModelDelegate=function(a){this.emit("callsModelUpdate",a)};e.$ZenonCallsModelEmitter4=function(a){return i[a.connectionState]};e.$ZenonCallsModelEmitter5=function(a){return a.dismissReason!=null?d("ZenonDismissReason").dismissToEndCallReason(a.dismissReason):null};e.$ZenonCallsModelEmitter6=function(a){return null};e.$ZenonCallsModelEmitter7=function(a){return c("immutable").Map(a.getTracks())};e.$ZenonCallsModelEmitter8=function(a){var b=a.getUserToTracksMap(),e=a.getTracks(),f=a.getExistingParticipantIds(),g=a.actorRepresentatives,h=this.$ZenonCallsModelEmitter15(a),i=c("immutable").Map().withMutations(function(i){h.forEach(function(h,j){var k;i.set(j,new(c("ZenonCallParticipant"))({id:j,isExistingParticipant:f.has(j),isVideoSubscribed:a.getIsUserVideoSubscribed(j),participantType:d("ZenonCallsModelTypes").ZenonCallParticipantType.Messenger,representativeID:(k=g.get(j))!=null?k:null,state:d("ZenonParticipantState").toCallParticipantState(h),trackIDs:c("immutable").Set((k=b.get(j))==null?void 0:k.keys()).filter(function(a){return e.has(a)}),userCapabilities:a.getUserCapabilities(j)}))})});return this.$ZenonCallsModelEmitter16(i,a)};e.$ZenonCallsModelEmitter16=function(a,b){var e=a.get(b.selfParticipantID);if(!e)return a;e=new(c("ZenonCallParticipant"))(babelHelpers["extends"]({},e.toObject(),{id:d("ZenonActorHooks").ZenonActor.getID()}));return a["delete"](b.selfParticipantID).set(e.id,e)};e.$ZenonCallsModelEmitter11=function(a){return c("immutable").Map(a.getStateSyncInputs())};e.$ZenonCallsModelEmitter12=function(a){return c("immutable").Map(a.getStateSyncOutputs())};e.$ZenonCallsModelEmitter13=function(a){return null};e.$ZenonCallsModelEmitter10=function(a){return c("immutable").Set(a.getRtpSenders_I_KNOW_WHAT_I_AM_DOING())};e.$ZenonCallsModelEmitter9=function(a){return c("immutable").Set(a.getRtpReceivers_I_KNOW_WHAT_I_AM_DOING())};e.getCallsModel=function(){return this.$ZenonCallsModelEmitter1};e.$ZenonCallsModelEmitter17=function(a){var b=a.actorRepresentatives;a=a.getConsolidatedParticipantStates();var c=new Map();a.forEach(function(a,e){e=(e=b.get(e))!=null?e:null;if(e!==null&&a<=d("ZenonParticipantState").ZenonParticipantState.CONNECTED){var f;f=(f=c.get(e))!=null?f:d("ZenonParticipantState").ZenonParticipantState.UNKNOWN;c.set(e,(e=d("ZenonParticipantState").ZenonParticipantState.cast(Math.max(f,a)))!=null?e:d("ZenonParticipantState").ZenonParticipantState.UNKNOWN)}});return c};e.$ZenonCallsModelEmitter15=function(a){var b=a.getConsolidatedParticipantStates(),c=a.duplicatedParticipantsProcessingMode;if(c===d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.KEEP_ALL_PARTICIPANTS)return b;var e=this.$ZenonCallsModelEmitter17(a),f=a.actorRepresentatives,g=new Map();b.forEach(function(a,b){var h;h=(h=e.get(b))!=null?h:null;if(h!==null)h!==d("ZenonParticipantState").ZenonParticipantState.CONNECTING&&h!==d("ZenonParticipantState").ZenonParticipantState.CONNECTED?g.set(b,h):c===d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.DISCONNECT_DUPLICATED&&g.set(b,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED);else{h=(h=f.get(b))!=null?h:null;(h===null||a===d("ZenonParticipantState").ZenonParticipantState.CONNECTING||a===d("ZenonParticipantState").ZenonParticipantState.CONNECTED)&&g.set(b,a)}});return g};return b}(c("EventEmitter"));b=new a();var i=Object.freeze({clientInitiatedRenegotiation:d("ZenonCallsModelTypes").ZenonCallState.Connected,creatingSdp:d("ZenonCallsModelTypes").ZenonCallState.Connecting,init:d("ZenonCallsModelTypes").ZenonCallState.New,peerConnectionRestarting:d("ZenonCallsModelTypes").ZenonCallState.Connected,pendingApproval:d("ZenonCallsModelTypes").ZenonCallState.PendingApproval,sdpNegotiated:d("ZenonCallsModelTypes").ZenonCallState.Connected,sdpSet:d("ZenonCallsModelTypes").ZenonCallState.Connecting,serverInitiatedRenegotiating:d("ZenonCallsModelTypes").ZenonCallState.Connected,terminated:d("ZenonCallsModelTypes").ZenonCallState.Terminated,waitingForIncoming:d("ZenonCallsModelTypes").ZenonCallState.New});g.CALLS_MODEL_EMITTER_DELAY_MS=h;g.CallsModelEmitterInstance=b;g.CONNECTION_STATE_TO_CALL_STATE_MAP=i}),98);
__d("ZenonCapabilities",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a={AddParticipantEnabled:(b=a.addParticipantEnabled)!=null?b:!1,GROUP_COWATCH:(b=a.cowatchGroupEnabled)!=null?b:!1,MultipleVideoStreamsAllowed:(b=a.multipleVideoStreamsAllowed)!=null?b:!1,MW_AV_ESCALATION:(b=a.multiwayVideoEscalation)!=null?b:!1,cowatch:(b=a.cowatchEnabled)!=null?b:!1};return JSON.stringify(a)}f.capabilitiesToString=a}),66);
__d("ZenonConnectionInitState",["ZenonCapabilities","ZenonParticipantState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c;if(b.type!=="createConnection")return;var e=b.payload.direction==="outgoing";b=b.payload;var f=b.appMessages,g=b.dataChannels,h=b.initialSyncStates,i=b.isE2eeMandated,j=b.isSecondaryJoinRole,k=b.mwRingRequest,l=b.serializedInitialSyncStates,m=b.tracks;b=b.usersToRing;var n=e?b:k==null?void 0:(c=k.jsonPayload.body.ringRequest)==null?void 0:c.otherParticipants;a.updateConnectionModel(function(b){n==null?void 0:n.forEach(function(a){b.updateParticipantState(a,d("ZenonParticipantState").ZenonParticipantState.CONTACTING)}),b.registerTrackFetcher(function(){return a.peerConnectionManager.getTracks()}),b.registerRtpSendersFetcher(function(){return a.peerConnectionManager.getRtpSenders()}),b.registerRtpReceiversFetcher(function(){return a.peerConnectionManager.getRtpReceivers()}),m==null?void 0:m.forEach(function(a){b.addLocalTrackToTrackMap({enabled:a.enabled,participantID:b.selfParticipantID,trackID:a.trackId,type:a.contentType})})});e&&a.signalingClient.sendInvite(b,f);c=a.getConnectionModel();b=c.currentUserCapabilities;f=c.selfParticipantID;c={addParticipantEnabled:b.get("canAddParticipants"),cowatchEnabled:b.get("cowatchEnabled"),cowatchGroupEnabled:b.get("cowatchGroupEnabled"),multipleVideoStreamsAllowed:b.get("supportMultipleStreams"),multiwayVideoEscalation:b.get("multiwayVideoEscalation")};b=d("ZenonCapabilities").capabilitiesToString(c);a.signalingClient.sendClientInfo(new Map([[f,b]]),h,l,j,i);c=a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode();m&&a.peerConnectionManager.addLocalTracks(m,c,e);var o=c==="sfu"?!1:!e,p=c==="sfu"||c==="p2p"&&((f=a.signalingClient.getSignalingModel().getRoomInfo().context)==null?void 0:f.peerID)==null;g&&g.forEach(function(b){a.sctpPeerConnectionManager!=null?a.sctpPeerConnectionManager.createDataChannel(b,o):p&&a.peerConnectionManager.createDataChannel(b,o)});if(e){(b=a.sctpPeerConnectionManager)==null?void 0:b.createOffer({})}a.peerConnectionManager.getSupportsSimulcastOverSignaling()&&a.peerConnectionManager.createDataMessageSubscription("signalingVideoUploadUpdate",function(b){return a.peerConnectionManager.onSimulcastSignalingDataMessage(b)});(e||(k==null?void 0:(h=k.jsonPayload.body.ringRequest)==null?void 0:(l=h.offer)==null?void 0:l.sdpString)==null)&&a.peerConnectionManager.applyLocalSdp()}g.onCreateConnection=a}),98);
__d("RpWebMediaActionsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1750245");c=b("FalcoLoggerInternal").create("rp_web_media_actions_event",a);e.exports=c}),null);
__d("ZenonMediaActionLogger",["FBLogger","RpWebMediaActionsEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callID:void 0,conferenceName:void 0,deviceID:void 0,peerID:void 0,serverInfoData:void 0},this.$2=!1}var b=a.prototype;b.updateCachedValues=function(a){var b=a.callID,c=a.conferenceName,d=a.deviceID,e=a.peerID;a=a.serverInfoData;this.$1.callID=(b=b)!=null?b:this.$1.callID;this.$1.conferenceName=(b=c)!=null?b:this.$1.conferenceName;this.$1.deviceID=(c=d)!=null?c:this.$1.deviceID;this.$1.peerID=(b=e)!=null?b:this.$1.peerID;this.$1.serverInfoData=(d=a)!=null?d:this.$1.serverInfoData};b.disable=function(){this.$2=!0};b.logCheckpoint=function(a){this.logEvent({checkpoint:a})};b.logEvent=function(a){if(this.$2)return;var b={call_id:this.$1.callID==null?void 0:String(this.$1.callID),checkpoint:a.checkpoint,client_timestamp_milliseconds:Date.now().toString(),conference_name:this.$1.conferenceName,error_domain:a.errorDomain,error_type:a.errorType,media_id:a.mediaID,peer_id:this.$1.peerID,server_info_data:this.$1.serverInfoData,web_device_id:this.$1.deviceID};c("RpWebMediaActionsEventFalcoEvent").log(function(){return b})};b.logErrorToFbLogger=function(a,b,d,e){if(this.$2)return;var f=c("FBLogger")("rtc_www");d instanceof Error&&(f=f.catching(d));switch(e){case"debug":f.debug(a);break;case"info":f.info(a);break;case"warn":f.warn(a);break;case"mustfix":f.mustfix(a);break}this.logEvent({checkpoint:a,errorDomain:b,errorType:d==null?void 0:d.toString()})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonConnectionPeerConnectionRestartingState",["RpWebPeerConnectionEndDelay","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonMediaActionLogger","ZenonParticipantState","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="sdpReceived")return;b=b.payload;var c=b.mediaStates,d=b.messageID,e=b.onProcessed,f=b.renegotiationOffer,g=b.sdp;b=b.source;a.updateConnectionModel(function(a){a.updateTrackMapFromMediaStates(c.tracks)});a.secondaryPeerConnectionManager.applyRemoteSdp(g,c,b,f,e,d)}function b(a,b){if(b.type!=="connectionEstablished"||b.payload.peerConnectionRole!=="secondary")return{};var e=a.peerConnectionManager;b=a.sctpPeerConnectionManager;var f=a.secondaryPeerConnectionManager,g=a.updateConnectionModel,h=f.getTracks();e.getTracks().forEach(function(a){var b=h.get(a.trackId);!a.remote&&b!=null&&a.enabled!==b.enabled&&(c("ZenonMediaActionLogger").logEvent({checkpoint:"media track out of sync during pc transition"}),a.webrtcTrack.enabled?f.unmuteLocalTrack(a.trackId):f.muteLocalTrack(a.trackId))});f.renegotiateNullSenderTransport();f.setTrackListenersFromManager(e);f.swapPeerConnectionEventHandlers(e);a.sctpHelper.setupSctpChannelApi(a.signalingClient.getSignalingModel().getSignalingID(),(b=b)!=null?b:f);a.signalingClient.sendClientEvent(d("ZenonMWMessageTypes").ZenonMWClientEventType.MEDIA_CONNECTED);g(function(a){a.registerTrackFetcher(function(){return f.getTracks()}),a.registerRtpSendersFetcher(function(){return f.getRtpSenders()}),a.registerRtpReceiversFetcher(function(){return f.getRtpReceivers()}),a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.CONNECTED)});a.logEvent({name:"callConnected"});a.logEvent({name:"connectionReady"});c("setTimeout")(function(){e.end(!1)},c("RpWebPeerConnectionEndDelay").DELAY);b=a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode();b==="sfu"?(a.logEvent({name:"callEscalated"}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"secondaryConnectionEstablished: SFU escalation complete"})):c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"secondaryConnectionEstablished: De-escalation complete"});return{activePeerConnection:"primary",peerConnectionManager:f,secondaryPeerConnectionManager:e}}g.onSdpReceived=a;g.onSecondaryConnectionEstablished=b}),98);
__d("ZenonConnectionSMGuards",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonScreenShare"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="addLocalTracks"||a.getConnectionModel().currentUserCapabilities.supportMultipleStreams){c("ZenonDebugLogger").getInstance().logGuardsResults("addScreenShareTrackWithReplaceGuard",!1);return!1}b=b.payload.tracks;if(!d("ZenonScreenShare").isScreenSharingTrack(b)){c("ZenonDebugLogger").getInstance().logGuardsResults("addScreenShareTrackWithReplaceGuard",!1);return!1}b=Array.from(a.getConnectionModel().getTracks().values()).some(function(a){return!a.remote&&(a.contentType==="video"||a.contentType==="screen")});c("ZenonDebugLogger").getInstance().logGuardsResults("addScreenShareTrackWithReplaceGuard",b);return b}function b(a,b){a=b.type==="createConnection"&&b.payload.direction==="incoming";c("ZenonDebugLogger").getInstance().logGuardsResults("incomingConnectionGuard",a);return a}function e(a,b){a=b.type==="createConnection"&&b.payload.direction==="outgoing";c("ZenonDebugLogger").getInstance().logGuardsResults("outgoingConnectionGuard",a);return a}function f(a,b){if(b.type!=="removeLocalTrack"||a.getConnectionModel().currentUserCapabilities.supportMultipleStreams){c("ZenonDebugLogger").getInstance().logGuardsResults("removeScreenShareTrackWithReplaceGuard",!1);return!1}b=b.payload.trackID;var e=a.getConnectionModel().getTracks().get(b);if(e==null||!d("ZenonScreenShare").isScreenSharingTrack([e])){c("ZenonDebugLogger").getInstance().logGuardsResults("removeScreenShareTrackWithReplaceGuard",!1);return!1}b=Array.from(a.getConnectionModel().getTracks().values()).some(function(a){return a.trackId!==e.trackId&&!a.remote&&(a.contentType==="video"||a.contentType==="screen")});c("ZenonDebugLogger").getInstance().logGuardsResults("removeScreenShareTrackWithReplaceGuard",b);return b}function h(a,b){a=b.type==="sdpReceived"&&b.payload.sdp.type==="answer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpAnswerReceiveGuard",a);return a}function i(a,b){a=b.type==="sdpReceived"&&b.payload.sdp.type==="pranswer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpPrAnswerReceiveGuard",a);return a}function j(a,b){a=b.type==="sdpReceived"&&b.payload.sdp.type==="offer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpOfferReceiveGuard",a);return a}function k(a,b){a=b.type==="sdpReceived"&&(b.payload.sdp.type==="answer"||b.payload.sdp.type==="offer"&&b.payload.mediaPath===d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P);c("ZenonDebugLogger").getInstance().logGuardsResults("sdpAnswerOrP2POfferReceiveGuard",a);return a}function l(a,b){b=b.payload!=null&&b.payload.peerConnectionRole!=null&&b.payload.peerConnectionRole===a.activePeerConnection;c("ZenonDebugLogger").getInstance().logGuardsResults("activePeerConnectionGuard",b);return b}function m(a,b){a=b.payload!=null&&b.payload.peerConnectionRole!=null&&b.payload.peerConnectionRole==="secondary";c("ZenonDebugLogger").getInstance().logGuardsResults("secondaryPeerConnectionGuard",a);return a}function n(a,b){a=b.type==="mediaUpdateResponseReceived"&&b.payload.cancelNegotiations;c("ZenonDebugLogger").getInstance().logGuardsResults("cancelNegotiationsGuard",a);b.type==="mediaUpdateResponseReceived"&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] cancel negotiations called with: "+String(b.payload.cancelNegotiations)});return a}function o(a,b){return b.type==="answerReady"||b.type==="serverRenegotiationFinished"}g.addScreenShareTrackWithReplaceGuard=a;g.incomingConnectionGuard=b;g.outgoingConnectionGuard=e;g.removeScreenShareTrackWithReplaceGuard=f;g.sdpAnswerReceiveGuard=h;g.sdpPrAnswerReceiveGuard=i;g.sdpOfferReceiveGuard=j;g.sdpAnswerOrP2POfferReceiveGuard=k;g.activePeerConnectionGuard=l;g.secondaryPeerConnectionGuard=m;g.cancelNegotiationsGuard=n;g.delayTransitioningOutOfRenegotiatingGuard=o}),98);
__d("ZenonConnectionSdpNegotiatedState",["ZenonScreenShare"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="addLocalTracks"&&b.type!=="initiateAddLocalTracks")return;var c=b.payload.tracks;a.peerConnectionManager.addLocalTracks(c,a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode());a.peerConnectionManager.applyLocalSdp();a.updateConnectionModel(function(a){c.forEach(function(b){a.addLocalTrackToTrackMap({enabled:b.enabled,participantID:a.selfParticipantID,trackID:b.trackId,type:b.contentType})})})}function b(a,b){if(b.type!=="addLocalTracks")return;var c=b.payload.tracks;if(!d("ZenonScreenShare").isScreenSharingTrack(c))return;a.peerConnectionManager.addLocalTracks(c,a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode());a.updateConnectionModel(function(a){c.forEach(function(b){a.addLocalTrackToTrackMap({enabled:b.enabled,participantID:a.selfParticipantID,trackID:b.trackId,type:b.contentType})})})}function c(a,b){if(b.type!=="initiatePeerConnectionRestarting")return{};var c=a.peerConnectionManager,d=a.sctpPeerConnectionManager,e=a.secondaryPeerConnectionManager;e.restart();e.setLocalMediaStateVersion(c.getLocalMediaStateVersion());var f=a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode();e.addLocalTracks(Array.from(c.getTracks().values()).filter(function(a){return!a.remote}),f);b=b.payload.hasRemoteOffer;f=f==="sfu";var g=!f&&b;f&&c.getDataChannelLabels().forEach(function(a){e.createDataChannel(a,g)});d==null?void 0:d.migrateActiveDataChannels(g);a.secondaryPeerConnectionManager.getSupportsSimulcastOverSignaling()&&a.secondaryPeerConnectionManager.createDataMessageSubscription("signalingVideoUploadUpdate",function(b){return a.secondaryPeerConnectionManager.onSimulcastSignalingDataMessage(b)});b||(e.applyLocalSdp(),d==null?void 0:d.createOffer({}));return{activePeerConnection:"secondary"}}function e(a,b){if(b.type!=="removeLocalTrack"&&b.type!=="initiateRemoveLocalTrack")return;var c=b.payload.trackID;a.peerConnectionManager.removeLocalTrack(c);a.peerConnectionManager.applyLocalSdp();a.updateConnectionModel(function(a){a.removeLocalTrackFromTrackMap(c)})}function f(a,b){if(b.type!=="removeLocalTrack")return;var c=b.payload.trackID;a.peerConnectionManager.removeLocalTrack(c);a.updateConnectionModel(function(a){a.removeLocalTrackFromTrackMap(c)})}function h(a,b){if(b.type!=="replaceLocalTrack")return;b=b.payload;var c=b.replacementTrack,d=b.trackIDToReplace;a.peerConnectionManager.replaceLocalTrack(d,c);a.updateConnectionModel(function(a){a.removeLocalTrackFromTrackMap(d),a.addLocalTrackToTrackMap({enabled:c.enabled,participantID:a.selfParticipantID,trackID:c.trackId,type:c.contentType})})}g.onAddLocalTracks=a;g.onAddScreenShareLocalTrack=b;g.onInitiatePeerConnectionRestarting=c;g.onRemoveLocalTrack=e;g.onRemoveScreenShareLocalTrack=f;g.onReplaceLocalTrack=h}),98);
__d("ZenonConnectionSdpSetState",["ZenonMWMessageTypes","ZenonParticipantState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="connectionEstablished")return;a.signalingClient.sendClientEvent(d("ZenonMWMessageTypes").ZenonMWClientEventType.MEDIA_CONNECTED);a.updateConnectionModel(function(a){a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.CONNECTED)});a.logEvent({name:"callConnected"});a.logEvent({name:"connectionReady"})}g.onConnectionEstablished=a}),98);
__d("ZenonConnectionSharedActions",["DateConsts","ZenonDismissReason","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonParticipantState","gkx","immutable","justknobx","performanceNow","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=1*d("DateConsts").MS_PER_SEC;function a(a,b){if(b.type!=="addParticipants")return;var c=!1,e=b.payload.usersToRing;a.updateConnectionModel(function(a){var b=a.getConsolidatedParticipantStates();e.forEach(function(e){J(e,b)||(a.updateParticipantState(e,d("ZenonParticipantState").ZenonParticipantState.CONTACTING),c=!0)})});c&&a.signalingClient.sendAddParticipantsMessage(e)}function b(a,b){if(b.type!=="answerReady")return;b=b.payload;var c=b.mediaStates;b=b.sdp;a.signalingClient.sendSdp(b,c)}function e(a,b){if(b.type!=="capabilitiesReceived")return;var c=b.payload.capabilities;a.updateConnectionModel(function(a){a.updateCurrentUserCapabilities(c)})}function f(a,b){if(b.type!=="clientInfoReceived")return;b=b.payload;var c=b.actorRepresentatives,d=b.userCapabilities;a.updateConnectionModel(function(a){a.updateAllParticipantsCapabilities(d)});a.updateConnectionModel(function(a){c.forEach(function(b,c){a.actorRepresentatives.set(c,b)})})}function i(a,b){if(b.type!=="connectionDestroyed"||b.payload.error===null)return;var e=d("ZenonDismissReason").mediaErrorToDismissReason(b.payload.error);a.updateConnectionModel(function(a){a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED),a.dismissReason=e});c("justknobx")._("467")&&a.signalingClient.sendDismiss(e);a.logEvent({name:"connectionDestroyed"});a.logEvent({endCallReason:e,endCallSubreason:b.payload.error?b.payload.error:"",isRemoteEnded:!1,name:"callEnded"})}function j(a,b){if(b.type!=="connectionDropped")return{};b=c("performanceNow")();a.updateConnectionModel(function(a){J(a.selfParticipantID,a.getConsolidatedParticipantStates())&&a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.CONNECTING)});return{disconnectTime:b}}function k(a,b){if(b.type!=="createDataMessageSubscription")return{};var d=b.payload.dataChannelLabel;b=b.payload.messageHandler;var e=a.dataMessageSubscriptions.get(d,c("immutable").Set());e=a.dataMessageSubscriptions.set(d,e.add(b));if(c("gkx")("6893")){(a=a.sctpPeerConnectionManager)==null?void 0:a.createDataChannelSubscription(d,b)}return{dataMessageSubscriptions:e}}function l(a,b){if(b.type!=="dataMessageReceived")return;b=b.payload;var c=b.data;b=b.dataChannelLabel;a=a.dataMessageSubscriptions.get(b);a&&a.forEach(function(a){return a(c)})}function m(a,b){if(b.type!=="endConnection")return;var e=c("performanceNow")();b=b.payload;var f=b.dismissReason,g=b.dismissReasonSetByRemote,i=b.dismissSubreason;b=b.shouldInformPeer;a.updateConnectionModel(function(a){a.getConsolidatedParticipantStates().forEach(function(b,c){a.updateParticipantState(c,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED)}),a.dismissReason=f});b&&a.signalingClient.sendDismiss(f);b=i;e-a.disconnectTime<h&&(b=b!=null?b.concat(", disconnect less than 1 second"):"disconnect less than 1 second");a.logEvent({endCallReason:f,endCallSubreason:b,isRemoteEnded:g,name:"callEnded"});a.peerConnectionManager.end(!0)}function n(a,b){if(b.type!=="forceEncodingEnabled")return;a.peerConnectionManager.forceEncodingEnabled(b.payload.enabled)}function o(a,b){var c;if(b.type!=="iceCandidateReady")return;b=b.payload.candidate;b={candidateSdpString:b.candidate,sdpMid:(c=b.sdpMid)!=null?c:"",sdpMLineIndex:(c=b.sdpMLineIndex)!=null?c:0};a.signalingClient.sendIceCandidate(b)}function p(a,b){if(b.type!=="iceCandidateReceived")return;b=b.payload;b={candidate:b.candidateSdpString,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex};var c=a.activePeerConnection,d=a.peerConnectionManager;a=a.secondaryPeerConnectionManager;c=c==="primary"?d:a;c.applyRemoteIceCandidate(b)}function q(a,b){if(b.type!=="localMediaStateUpdateProcessing")return;b=b.payload;var c=b.enabled;b=b.trackID;c?a.peerConnectionManager.unmuteLocalTrack(b):a.peerConnectionManager.muteLocalTrack(b)}function r(a,b){if(b.type!=="localMediaStateUpdateReady")return;a.signalingClient.sendMediaUpdate(b.payload.mediaStates)}function s(a,b){if(b.type!=="mediaUpdateReceived")return;a.peerConnectionManager.applyMediaUpdate(b.payload.mediaStates)}function t(a,b){if(b.type!=="mediaUpdateResponseReceived")return;if(b.payload.responseStatusCode!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){b.payload.cancelNegotiations&&a.peerConnectionManager.cancelPendingNegotiation();if(b.payload.responseSubCode===d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING){a.peerConnectionManager.localMediaStateUpdateRetry((b=b.payload.retryAfter)!=null?b:0)}}else a.peerConnectionManager.clearRetryCount()}function u(a,b){if(b.type==="addLocalTracks"){var c={payload:b.payload,type:"initiateAddLocalTracks"};a.signalingClient.initiateClientRenegotiation(c)}else if(b.type==="removeLocalTrack"){c={payload:b.payload,type:"initiateRemoveLocalTrack"};a.signalingClient.initiateClientRenegotiation(c)}}function v(a,b){if(b.type!=="offerReady")return;a.signalingClient.sendSdp(b.payload.sdp,b.payload.mediaStates)}function w(a,b){if(b.type!=="offerReady")return;a.peerConnectionManager.cancelPendingNegotiation();a.peerConnectionManager.localMediaStateUpdateRetry(0)}function x(a,b){if(b.type!=="participantUpdateReceived")return;var c=b.payload.participantStates;a.updateConnectionModel(function(b){c.forEach(function(c,d){d!==b.selfParticipantID&&(b.updateParticipantState(d,c),K(c)&&a.logEvent({name:"atLeastOneParticipantAlerted"}),L(c)&&a.logEvent({name:"atLeastOneParticipantAnswered"}))})})}function y(a,b){if(b.type!=="removeDataMessageSubscription")return{};var d=b.payload.dataChannelLabel;b=b.payload.messageHandler;var e=a.dataMessageSubscriptions.get(d,c("immutable").Set());a=a.dataMessageSubscriptions.set(d,e["delete"](b));return{dataMessageSubscriptions:a}}function z(a,b){if(b.type!=="removeParticipants")return;b=b.payload.usersToRemove;a.signalingClient.sendRemoveParticipantsRequest(b)}function A(a,b){if(b.type!=="connectionRoomUpdateReceived")return;var c=b.payload.context;a.updateConnectionModel(function(a){a.collisionContext=c})}function B(a,b){if(b.type!=="sdpReceived")return;b=b.payload;var d=b.mediaStates,e=b.messageID,f=b.onProcessed,g=b.renegotiationOffer,h=b.sdp;b=b.source;if(h.type==="pranswer"&&!c("qex")._("1748"))return;a.peerConnectionManager.applyRemoteSdp(h,d,b,g,f,e);a.updateConnectionModel(function(a){a.updateTrackMapFromMediaStates(d.tracks),a.updateExistingParticipantsFromMediaStateTracks(d.tracks)});h.type==="answer"?a.logEvent({name:"answerSdpReceived"}):h.type==="offer"?a.logEvent({name:"offerSdpReceived"}):h.type==="pranswer"&&a.logEvent({name:"prAnswerSdpReceived"});b=M(a.currentSubscriptionRequest,a);a.signalingClient.sendSubscriptionRequest(b)}function C(a,b){if(b.type!=="sendGenericDataMessage")return;b=b.payload;var c=b.data,d=b.recipientIDs,e=b.serviceRecipients;b=b.topic;a.signalingClient.sendGenericDataMessage(b,c,d,e)}function D(a,b){if(b.type!=="stateSyncUnsubscribe")return;b=b.payload.topic;a.signalingClient.sendStateSyncUnsubscribe(b)}function E(a,b){if(b.type!=="stateSyncUpdate")return;b=b.payload;var c=b.inputData;b=b.topic;a.signalingClient.sendStateSyncUpdate(b,c)}function F(a,b){if(b.type!=="stopLocalTrack")return;b=b.payload.trackID;a.peerConnectionManager.stopLocalTrack(b)}function G(a,b){if(b.type!=="subscriptionRequest")return{};var c=b.payload;b=M(c,a);a.updateConnectionModel(function(a){a.clearAllUserVideoSubscriptions(),c.subscriptions.forEach(function(b){a.updateUserVideoSubscription(b.user,!0)})});a.signalingClient.sendSubscriptionRequest(b);return{currentSubscriptionRequest:c}}function H(a,b){if(b.type!=="userApprovalRequest")return;b=b.payload;var c=b.approvalStatus;b=b.targetUsers;a.signalingClient.sendUsersApprovalRequest(c,b)}function I(a,b){if(b.type!=="sctpNegotiationStateUpdate")return;(a=a.sctpPeerConnectionManager)==null?void 0:a.processSctpState(b.payload)}function J(a,b){b=b.get(a);return b===d("ZenonParticipantState").ZenonParticipantState.CONNECTED}function K(a){switch(a){case d("ZenonParticipantState").ZenonParticipantState.UNKNOWN:case d("ZenonParticipantState").ZenonParticipantState.CONTACTING:case d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE:case d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED:case d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED:return!1;case d("ZenonParticipantState").ZenonParticipantState.RINGING:case d("ZenonParticipantState").ZenonParticipantState.CONNECTING:case d("ZenonParticipantState").ZenonParticipantState.CONNECTED:case d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED:case d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL:case d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER:case d("ZenonParticipantState").ZenonParticipantState.REJECTED:case d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED:case d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.APPROVED:case d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.HANGUP_IN_WAITING_ROOM:case d("ZenonParticipantState").ZenonParticipantState.ACCEPTING:case d("ZenonParticipantState").ZenonParticipantState.ADDING:case d("ZenonParticipantState").ZenonParticipantState.APPROVING:case d("ZenonParticipantState").ZenonParticipantState.DENYING:case d("ZenonParticipantState").ZenonParticipantState.PRECONNECTING:case d("ZenonParticipantState").ZenonParticipantState.REMOVING:case d("ZenonParticipantState").ZenonParticipantState.RECONNECTING:return!0}}function L(a){switch(a){case d("ZenonParticipantState").ZenonParticipantState.UNKNOWN:case d("ZenonParticipantState").ZenonParticipantState.CONTACTING:case d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE:case d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED:case d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED:case d("ZenonParticipantState").ZenonParticipantState.RINGING:case d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED:case d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL:case d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER:case d("ZenonParticipantState").ZenonParticipantState.REJECTED:case d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.APPROVED:case d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.HANGUP_IN_WAITING_ROOM:case d("ZenonParticipantState").ZenonParticipantState.ACCEPTING:case d("ZenonParticipantState").ZenonParticipantState.ADDING:case d("ZenonParticipantState").ZenonParticipantState.APPROVING:case d("ZenonParticipantState").ZenonParticipantState.DENYING:case d("ZenonParticipantState").ZenonParticipantState.PRECONNECTING:case d("ZenonParticipantState").ZenonParticipantState.REMOVING:return!1;case d("ZenonParticipantState").ZenonParticipantState.CONNECTING:case d("ZenonParticipantState").ZenonParticipantState.RECONNECTING:case d("ZenonParticipantState").ZenonParticipantState.CONNECTED:case d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED:return!0}}function M(a,b){b=b.getConnectionModel();var e=a==null?void 0:a.subscriptions;a=(a=a==null?void 0:a.includeDominantSpeaker)!=null?a:!0;var f;e==null?f=N(b):f=O(e,b);e=f;b=e.trackSubscriptions;f=e.warnings;f.length>0&&c("ZenonInfraActionsLogger").logError({checkpoint:"[ZP] Subscription request warnings: "+JSON.stringify(f),errorDomain:"ZenonConnectionSharedActions_makeSubscriptionList"});a&&b.push({type:d("ZenonMWMessageTypes").ZenonMWSubscriptionType.DOMINANT_SPEAKER});return b}function N(a){var b=a.getRemoteUserToTracksMap(),c=[],e=[];b.forEach(function(b,e){a.clearFailedSubscriptionTimer(e);e=Array.from(b.entries());e=e.filter(function(a){a[0];a=a[1];return a.type!=="audio"});e.forEach(function(a){var b=a[0];a[1];c.push({options:{videoQuality:d("ZenonMWMessageTypes").ZenonMWVideoQuality.MEDIUM},trackId:b,type:d("ZenonMWMessageTypes").ZenonMWSubscriptionType.TRACK})})});return{trackSubscriptions:c,warnings:e}}function O(a,b){var e=b.getRemoteUserToTracksMap(),f=[],g=[];a.forEach(function(a){var h=a.user,i=a.videoQuality;if(h===b.selfParticipantID){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Forfeiting subscription request for self user ID: "+h});return}a=e.get(h);if(!a){f.push({msg:"userToTrackMap not found",user:h});b.startFailedSubscriptionTimer(h);return}if(a.size===0){f.push({msg:"userToTrackMap is empty",user:h});b.startFailedSubscriptionTimer(h);return}b.clearFailedSubscriptionTimer(h);h=Array.from(a.entries());a=h.filter(function(a){a[0];a=a[1];return a.type!=="audio"&&a.enabled===!1});a.length>0&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Subscribing to muted video track: "+JSON.stringify(a)});h=h.filter(function(a){a[0];a=a[1];return a.type!=="audio"});h.forEach(function(a){var b=a[0];a[1];g.push({options:{videoQuality:i},trackId:b,type:d("ZenonMWMessageTypes").ZenonMWSubscriptionType.TRACK})})});return{trackSubscriptions:g,warnings:f}}g.onAddParticipants=a;g.onAnswerReady=b;g.onCapabilitiesReceived=e;g.onClientInfoReceived=f;g.onConnectionDestroyed=i;g.onConnectionDropped=j;g.onCreateDataMessageSubscription=k;g.onDataMessageReceived=l;g.onEndConnection=m;g.onForceEncodingEnabled=n;g.onIceCandidateReady=o;g.onIceCandidateReceived=p;g.onLocalMediaStateUpdateProcessing=q;g.onLocalMediaStateUpdateReady=r;g.onMediaUpdateReceived=s;g.onMediaUpdateResponseReceived=t;g.initiateClientRenegotiation=u;g.onOfferReady=v;g.onOfferReadyCancel=w;g.onParticipantUpdateReceivedEvent=x;g.onRemoveDataMessageSubscription=y;g.onRemoveParticipants=z;g.onRoomContextUpdateReceived=A;g.onSdpReceived=B;g.onSendGenericDataMessage=C;g.onStateSyncUnsubscribe=D;g.onStateSyncUpdate=E;g.onStopLocalTrack=F;g.onSubscriptionRequest=G;g.onUserApprovalRequest=H;g.onSctpNegotiationStateUpdate=I;g.makeSubscriptionList=M}),98);
__d("ZenonConnectionTerminatedState",["ZenonMWMessageReliabilityLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="sdpReceived")return;b.payload.messageID!=null&&d("ZenonMWMessageReliabilityLogger").logEventForTxid(b.payload.messageID,d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.RECEIVED_REQUEST_IN_TERMINATED_STATE,{connectionState:"terminated"})}g.onSdpReceived=a}),98);
__d("ZenonDeferrableStateMachine",["DateConsts","clearTimeout","setTimeout","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC;function a(a,b){b=b===void 0?{}:b;var e=b.deferTimeout,f=b.onDeferTimeout,g=[],i=new Map(),j=d("xstate").interpret(a.withConfig({actions:{defer:function(a,b){g.push(b);if(f){i.set(b,c("setTimeout")(function(){f(b)},(a=e)!=null?a:h))}}}})).onTransition(function(a){if(a.value!==((a=a.history)==null?void 0:a.value)){a=g;g=[];while(a.length>0){var b=a.shift();j.send(b);c("clearTimeout")(i.get(b));i["delete"](b)}}}).start();return j}g.interpret=a}),98);
__d("ZenonStateMachineBase",["ZenonDebugLogger","ZenonDeferrableStateMachine","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","xstate"],(function(a,b,c,d,e,f,g){"use strict";a={actions:["defer"]};b=function(){function a(a){var b=this,e=a.base,f=a.logging;a=a.machine;this.$1=f.name;this.$2=e.initState;this.loggingId=f.loggingId;this.$3=f.getTransactionId;this.$4=f.loggingStateName;this.$5=f.loggableEvents;a={context:a.context,initial:a.initialState,states:a.states};e={guards:e.guards};var g={onDeferTimeout:function(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"["+f.shortname+"] "+a.type+" was deferred for too long"}),(f.eventToLogTimeoutsOn==null||f.eventToLogTimeoutsOn===a.type)&&b.logTransaction(a,f.timeoutEvent)}};a=d("xstate").Machine(a,e);this.sm=d("ZenonDeferrableStateMachine").interpret(a,g)}var b=a.prototype;b.processEvent=function(a){this.logEvent(a),this.sm.send(a)};b.logEvent=function(a,b){c("ZenonDebugLogger").getInstance().logStateMachine(this.$1,this.getState(),a.type,this.loggingId.toString(),b)};b.logTransaction=function(a,b){if(this.$5.includes(a.type)){var c=this.$3(a);if(c!=null){a={smEvent:a.type};a[this.$4]=this.getState();d("ZenonMWMessageReliabilityLogger").logEventForTxid(c,b,a)}}};b.logTransition=function(a,b){var d;c("ZenonDebugLogger").getInstance().logStateMachineTransition(this.$1,a.changed,a.value,(d=a.history)==null?void 0:d.value,a.event.type,a.actions,this.loggingId.toString(),b)};b.getContext=function(){return this.sm.state.context};b.getState=function(){var a=this.sm.state.toStrings();return a.length>0?a[0]:this.$2};return a}();g.defer=a;g.ZenonStateMachineBase=b}),98);
__d("ZenonConnectionStateMachine",["ZenonConnectionInitState","ZenonConnectionPeerConnectionRestartingState","ZenonConnectionSMGuards","ZenonConnectionSdpNegotiatedState","ZenonConnectionSdpSetState","ZenonConnectionSharedActions","ZenonConnectionTerminatedState","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","ZenonStateMachineBase","immutable","qpl","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h={activePeerConnection:"primary",currentSubscriptionRequest:null,dataMessageSubscriptions:c("immutable").Map({}),disconnectTime:0},i={loggingStateName:"connectionState",name:"ConnectionStateMachine",shortname:"Connection",timeoutEvent:d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.STUCK_IN_CONNECTION_STATE_MACHINE};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;e===void 0&&(e="init");f=a.call(this,{base:{guards:d("ZenonConnectionSMGuards"),initState:"init"},logging:babelHelpers["extends"]({},i,{eventToLogTimeoutsOn:"sdpReceived",getTransactionId:function(a){return(a=a.payload)==null?void 0:a.messageID},loggableEvents:["sdpReceived"],loggingId:+b.signalingClient.getSignalingModel().getSignalingID()}),machine:{context:babelHelpers["extends"]({},h,b),initialState:e,states:I}})||this;f.sm.onTransition(function(a){var e;c("ZenonInfraActionsLogger").updateCachedValues({connectionState:a.value});f.logTransition(a);((e=a.history)==null?void 0:e.value)!==a.value&&b.updateConnectionModel(function(b){b.updateConnectionState(a.value)});f.logTransaction(a.event,d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.PROCESSED_SM_EVENT)});c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64243854,"2452"),f.loggingId);return f}return b}(d("ZenonStateMachineBase").ZenonStateMachineBase);b={actions:[d("ZenonConnectionSharedActions").onAddParticipants]};e={actions:[d("ZenonConnectionSharedActions").onLocalMediaStateUpdateProcessing]};f={actions:[d("ZenonConnectionSharedActions").onMediaUpdateReceived]};var j={actions:[d("ZenonConnectionSharedActions").onMediaUpdateResponseReceived]},k={actions:[d("ZenonConnectionSharedActions").onStopLocalTrack]},l={actions:[d("ZenonConnectionSharedActions").onLocalMediaStateUpdateReady]},m={actions:[d("ZenonConnectionSharedActions").onEndConnection],target:"terminated"},n={actions:[d("ZenonConnectionSharedActions").onCapabilitiesReceived]},o={actions:[d("ZenonConnectionSharedActions").onClientInfoReceived]},p={actions:[d("ZenonConnectionSharedActions").onParticipantUpdateReceivedEvent]},q={actions:[d("ZenonConnectionSharedActions").onRemoveParticipants]},r={actions:[d("ZenonConnectionSharedActions").onIceCandidateReady]},s={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onCreateDataMessageSubscription)]},t={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onRemoveDataMessageSubscription)]},u={actions:[d("ZenonConnectionSharedActions").onDataMessageReceived]},v={actions:[d("ZenonConnectionSharedActions").onRoomContextUpdateReceived]},w={actions:[d("ZenonConnectionSharedActions").onIceCandidateReceived]},x={actions:[d("ZenonConnectionSharedActions").onConnectionDestroyed],cond:d("ZenonConnectionSMGuards").activePeerConnectionGuard,target:"terminated"},y={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onConnectionDropped)],cond:d("ZenonConnectionSMGuards").activePeerConnectionGuard},z={actions:[d("ZenonConnectionSdpSetState").onConnectionEstablished]},A={actions:[d("ZenonConnectionSharedActions").onStateSyncUnsubscribe]},B={actions:[d("ZenonConnectionSharedActions").onStateSyncUpdate]},C={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onSubscriptionRequest)]},D={actions:[d("ZenonConnectionSharedActions").onSendGenericDataMessage]},E={actions:[d("ZenonConnectionSharedActions").onUserApprovalRequest]},F={actions:[d("ZenonConnectionSharedActions").onForceEncodingEnabled]},G={actions:[d("xstate").assign(d("ZenonConnectionSdpNegotiatedState").onInitiatePeerConnectionRestarting)],target:"peerConnectionRestarting"},H={actions:[d("ZenonConnectionSharedActions").onSctpNegotiationStateUpdate]},I={init:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:x,connectionRoomUpdateReceived:v,createConnection:[{actions:[d("ZenonConnectionInitState").onCreateConnection],cond:d("ZenonConnectionSMGuards").outgoingConnectionGuard,target:"creatingSdp"},{actions:[d("ZenonConnectionInitState").onCreateConnection],cond:d("ZenonConnectionSMGuards").incomingConnectionGuard,target:"waitingForIncoming"}],createDataMessageSubscription:s,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,participantUpdateReceived:p,removeDataMessageSubscription:t,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:q,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sdpReceived:d("ZenonStateMachineBase").defer,sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},waitingForIncoming:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:x,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,offerReady:[{actions:[d("ZenonConnectionSharedActions").onOfferReady],target:"sdpSet"}],participantUpdateReceived:p,removeDataMessageSubscription:t,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:q,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpOfferReceiveGuard,target:"creatingSdp"}],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},creatingSdp:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,answerReady:[{actions:[d("ZenonConnectionSharedActions").onAnswerReady],target:"sdpNegotiated"}],capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:x,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,offerReady:[{actions:[d("ZenonConnectionSharedActions").onOfferReady],target:"sdpSet"}],participantUpdateReceived:p,removeDataMessageSubscription:t,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:q,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sdpReceived:d("ZenonStateMachineBase").defer,sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},sdpSet:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:x,connectionDropped:y,connectionEstablished:[{actions:[d("ZenonConnectionSdpSetState").onConnectionEstablished]}],connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:G,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:j,participantUpdateReceived:p,pendingApproval:[{target:"pendingApproval"}],remoteSdpSet:{target:"sdpNegotiated"},removeDataMessageSubscription:t,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:q,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpAnswerReceiveGuard},{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpPrAnswerReceiveGuard},babelHelpers["extends"]({},d("ZenonStateMachineBase").defer,{cond:d("ZenonConnectionSMGuards").sdpOfferReceiveGuard})],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},pendingApproval:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,capabilitiesReceived:d("ZenonStateMachineBase").defer,clientInfoReceived:d("ZenonStateMachineBase").defer,connectionDestroyed:x,connectionRoomUpdateReceived:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataMessageReceived:d("ZenonStateMachineBase").defer,endConnection:m,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceCandidateReceived:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:G,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:d("ZenonStateMachineBase").defer,localMediaStateUpdateReady:d("ZenonStateMachineBase").defer,mediaUpdateReceived:f,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,participantUpdateReceived:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},sdpNegotiated:{on:{addLocalTracks:[{actions:[d("ZenonConnectionSdpNegotiatedState").onAddScreenShareLocalTrack],cond:d("ZenonConnectionSMGuards").addScreenShareTrackWithReplaceGuard},{actions:[d("ZenonConnectionSharedActions").initiateClientRenegotiation]}],addParticipants:b,capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:x,connectionDropped:y,connectionEstablished:z,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,initiateAddLocalTracks:{actions:[d("ZenonConnectionSdpNegotiatedState").onAddLocalTracks],target:"clientInitiatedRenegotiation"},initiatePeerConnectionRestarting:G,initiateRemoveLocalTrack:{actions:[d("ZenonConnectionSdpNegotiatedState").onRemoveLocalTrack],target:"clientInitiatedRenegotiation"},localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:j,offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReady],target:"clientInitiatedRenegotiation"},participantUpdateReceived:p,removeDataMessageSubscription:t,removeLocalTrack:[{actions:[d("ZenonConnectionSdpNegotiatedState").onRemoveScreenShareLocalTrack],cond:d("ZenonConnectionSMGuards").removeScreenShareTrackWithReplaceGuard},{actions:[d("ZenonConnectionSharedActions").initiateClientRenegotiation]}],removeParticipants:q,replaceLocalTrack:{actions:[d("ZenonConnectionSdpNegotiatedState").onReplaceLocalTrack]},sctpNegotiationStateUpdate:H,sdpReceived:{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpOfferReceiveGuard,target:"serverInitiatedRenegotiating"},sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:C,userApprovalRequest:E}},serverInitiatedRenegotiating:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,answerReady:[{actions:[d("ZenonConnectionSharedActions").onAnswerReady],cond:d("ZenonConnectionSMGuards").delayTransitioningOutOfRenegotiatingGuard},{actions:[d("ZenonConnectionSharedActions").onAnswerReady],target:"sdpNegotiated"}],capabilitiesReceived:d("ZenonStateMachineBase").defer,clientInfoReceived:d("ZenonStateMachineBase").defer,connectionDestroyed:x,connectionDropped:y,connectionEstablished:z,connectionRoomUpdateReceived:v,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:r,iceCandidateReceived:w,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReadyCancel]},participantUpdateReceived:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sendGenericDataMessage:D,serverRenegotiationFinished:[{cond:d("ZenonConnectionSMGuards").delayTransitioningOutOfRenegotiatingGuard,target:"sdpNegotiated"}],stateSyncUnsubscribe:d("ZenonStateMachineBase").defer,stateSyncUpdate:d("ZenonStateMachineBase").defer,stopLocalTrack:k,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},clientInitiatedRenegotiation:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:x,connectionDropped:y,connectionEstablished:[{actions:[d("ZenonConnectionSdpSetState").onConnectionEstablished]}],connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,endConnection:m,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:d("ZenonStateMachineBase").defer,localMediaStateUpdateReady:d("ZenonStateMachineBase").defer,mediaUpdateReceived:f,mediaUpdateResponseReceived:[{actions:[d("ZenonConnectionSharedActions").onMediaUpdateResponseReceived],cond:d("ZenonConnectionSMGuards").cancelNegotiationsGuard,target:"sdpNegotiated"},{actions:[d("ZenonConnectionSharedActions").onMediaUpdateResponseReceived]}],offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReady]},participantUpdateReceived:p,remoteSdpSet:{target:"sdpNegotiated"},removeDataMessageSubscription:t,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:q,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpAnswerReceiveGuard},d("ZenonStateMachineBase").defer],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},peerConnectionRestarting:{on:{addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:b,answerReady:{actions:[d("ZenonConnectionSharedActions").onAnswerReady]},capabilitiesReceived:n,clientInfoReceived:o,connectionDestroyed:babelHelpers["extends"]({},x,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),connectionDropped:y,connectionEstablished:{actions:[d("xstate").assign(d("ZenonConnectionPeerConnectionRestartingState").onSecondaryConnectionEstablished)],cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard,target:"sdpNegotiated"},connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:babelHelpers["extends"]({},u,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),endConnection:m,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:babelHelpers["extends"]({},r,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),iceCandidateReceived:w,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:G,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:babelHelpers["extends"]({},l,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),mediaUpdateReceived:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReady],cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard},participantUpdateReceived:p,removeDataMessageSubscription:t,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:q,replaceLocalTrack:d("ZenonStateMachineBase").defer,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionPeerConnectionRestartingState").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpAnswerOrP2POfferReceiveGuard},d("ZenonStateMachineBase").defer],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:d("ZenonStateMachineBase").defer,userApprovalRequest:E}},terminated:{on:{sdpReceived:[{actions:[d("ZenonConnectionTerminatedState").onSdpReceived]}]}}};g["default"]=a}),98);
__d("ZenonRTWebBrowserFeatureSupport",["RTCPeerConnection"],(function(a,b,c,d,e,f,g){"use strict";function a(){return typeof window.HTMLCanvasElement==="function"&&typeof window.HTMLCanvasElement.prototype.captureStream==="function"}function b(){return h("getSenders")}function d(){return typeof window.RTCRtpSender==="function"&&typeof window.RTCRtpSender.prototype.replaceTrack==="function"}function e(){return typeof window.RTCRtpSender==="function"&&typeof window.RTCRtpSender.prototype.createEncodedStreams==="function"}function f(){return typeof window.RTCRtpSender==="function"&&typeof window.RTCRtpSender.prototype.transform==="function"}function h(a){return typeof c("RTCPeerConnection").prototype[a]==="function"}g.isCanvasStreamSupported=a;g.isGetSendersSupported=b;g.isReplaceTrackSupported=d;g.isInsertableStreamsSupported=e;g.isInsertableStreamsSupportedInSafari=f}),98);
__d("ZenonConnectionStateModel",["DateConsts","ZenonBrowsers","ZenonCallFeatures","ZenonConnectionStateTypes","ZenonInfraActionsLogger","ZenonNetworkQualityMonitor","ZenonParticipantState","ZenonRTWebBrowserFeatureSupport","ZenonScreenShare","ZenonScreenSharingAvailabilityType","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g,h,i){var j;h===void 0&&(h={groupThreadID:null,peerID:null,serverInfoData:null});i===void 0&&(i="init");this.$12=new Map();this.selfParticipantID=(j=a.getActorID())!=null?j:a.getUserInfo().userID;this.collisionContext=h;this.clientEndpointId=e;this.connectionDirection=f;this.connectionState=i;this.actorRepresentatives=new Map();this.duplicatedParticipantsProcessingMode=(j=d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.cast(g.getZenonGeneralizedIdentityConfig().getDuplicatedParticipantsProcessingMode()))!=null?j:d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.REMOVE_DUPLICATED;this.currentUserCapabilities=new(c("ZenonCallFeatures"))({canReplaceLocalStreams:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multiwayVideoEscalation:g.getZenonPlatformSupportConfig().isMultiwayAvEscalationEnabled()&&d("ZenonBrowsers").supportsMWAVEscalation(),networkStatus:{local:d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Good,remote:c("immutable").Map()},screenSharingAvailability:d("ZenonRTWebBrowserFeatureSupport").isReplaceTrackSupported()?c("ZenonScreenSharingAvailabilityType").Available:c("ZenonScreenSharingAvailabilityType").Unknown,supportMultipleStreams:!d("ZenonScreenShare").screenShareWithReplaceTrack()});this.$5=function(){return new Map()};this.$6=function(){return[]};this.$7=function(){return[]};this.$8=function(){return a.getStateSyncStore().getInputStates()};this.$9=function(){return a.getStateSyncStore().getOutputStates()};this.$10=new Map();this.$1=b;this.$1.set(this.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED);this.$2=new Set();this.$4=new Map(this.$1);this.$11=null;this.$13=new Map();this.$3=new Map()}var b=a.prototype;b.overrideCurrentUserCapabilities=function(a){this.currentUserCapabilities=a};b.startFailedSubscriptionTimer=function(a){if(this.$12.get(a)!=null)return;var b=15;this.$12.set(a,window.setTimeout(function(){c("ZenonInfraActionsLogger").logError({callType:"mw",checkpoint:"[ZP] Failed subscription request for user: "+a+"\n            was never retried after "+b+" seconds",errorDomain:"ZenonConnectionStateModel_startFailedSubscriptionTimer"})},b*d("DateConsts").MS_PER_SEC))};b.clearFailedSubscriptionTimer=function(a){var b=this.$12.get(a);b!=null&&(window.clearTimeout(b),this.$12["delete"](a))};b.getConsolidatedParticipantStates=function(){return this.$4};b.getConnectedParticipantIDs=function(){var a=this;return new Set(Array.from(this.$4.keys()).filter(function(b){return a.$4.get(b)===d("ZenonParticipantState").ZenonParticipantState.CONNECTED}))};b.getRemoteConnectedParticipantIDs=function(){var a=this;return new Set(Array.from(this.$4.keys()).filter(function(b){return b!==a.selfParticipantID&&a.$4.get(b)===d("ZenonParticipantState").ZenonParticipantState.CONNECTED}))};b.updateParticipantState=function(a,b){this.$1.set(a,b),this.$2.has(a)||(this.$4=this.$4.set(a,b),b!==d("ZenonParticipantState").ZenonParticipantState.CONNECTED&&this.$11!=null&&this.$11.has(a)&&this.$11["delete"](a))};b.updateConnectionState=function(a){this.connectionState=a};b.updateCurrentUserCapabilities=function(a){a.addParticipantEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("canAddParticipants",a.addParticipantEnabled)),a.cowatchEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("cowatchEnabled",a.cowatchEnabled)),a.cowatchGroupEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("cowatchGroupEnabled",a.cowatchGroupEnabled)),a.multipleVideoStreamsAllowed!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("supportMultipleStreams",a.multipleVideoStreamsAllowed)),a.multiwayVideoEscalation!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("multiwayVideoEscalation",a.multiwayVideoEscalation))};b.updateAllParticipantsCapabilities=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d[0];d=d[1];this.$3.set(e,d)}};b.getUserCapabilities=function(a){return(a=this.$3.get(a))!=null?a:""};b.updateNetworkStatus=function(a){this.currentUserCapabilities=this.currentUserCapabilities.set("networkStatus",a)};b.updateConsolidatedParticipantStates=function(){var a=new Map(this.$1);this.$2.forEach(function(b){a.set(b,d("ZenonParticipantState").ZenonParticipantState.CONNECTED)});this.$4=a};b.getTracks=function(){return this.$5()};b.registerTrackFetcher=function(a){this.$5=a};b.getRtpSenders_I_KNOW_WHAT_I_AM_DOING=function(){return this.$6()};b.registerRtpSendersFetcher=function(a){this.$6=a};b.getRtpReceivers_I_KNOW_WHAT_I_AM_DOING=function(){return this.$7()};b.registerRtpReceiversFetcher=function(a){this.$7=a};b.getStateSyncInputs=function(){return this.$8()};b.getStateSyncOutputs=function(){return this.$9()};b.getUserToTracksMap=function(){return this.$10};b.getRemoteUserToTracksMap=function(){var a=this;return new Map(Array.from(this.$10.entries()).filter(function(b){b=b[0];return b!==a.selfParticipantID}))};b.getExistingParticipantIds=function(){return this.$11||new Set()};b.addLocalTrackToTrackMap=function(a){this.$14(a,this.selfParticipantID)};b.$14=function(a,b){var c;c=(c=this.$10.get(b))!=null?c:new Map();c.set(a.trackID,a);this.$10.set(b,c)};b.removeLocalTrackFromTrackMap=function(a){var b;b=(b=this.$10.get(this.selfParticipantID))!=null?b:new Map();b["delete"](a)};b.updateTrackMapFromMediaStates=function(a){var b=this;this.$2=new Set();a.forEach(function(a){var c=a.participantID;c!=null&&(b.$14(a,c),b.$2.add(c))});this.updateConsolidatedParticipantStates()};b.updateExistingParticipantsFromMediaStateTracks=function(a){if(this.$11==null){var b=new Set();a.forEach(function(a){a=a.participantID;a!=null&&b.add(a)});this.$11=b}};b.getIsUserVideoSubscribed=function(a){return(a=this.$13.get(a))!=null?a:!1};b.updateUserVideoSubscription=function(a,b){this.$13.set(a,b)};b.clearAllUserVideoSubscriptions=function(){this.$13=new Map()};return a}();g["default"]=a}),98);
__d("ZenonConnectionStatePeerConnectionDelegate",[],(function(a,b,c,d,e,f){"use strict";var g={connectionDestroyed:function(a,b,c){a.processEvent({payload:{error:c,peerConnectionRole:b},type:"connectionDestroyed"})},connectionDropped:function(a,b){a.processEvent({payload:{peerConnectionRole:b},type:"connectionDropped"})},connectionEstablished:function(a,b){a.processEvent({payload:{peerConnectionRole:b},type:"connectionEstablished"})},createDataMessageSubscription:function(a,b,c){a.processEvent({payload:{dataChannelLabel:b,messageHandler:c},type:"createDataMessageSubscription"})},dataChannelMesageReceived:function(a,b,c,d){a.processEvent({payload:{data:d,dataChannelLabel:c,peerConnectionRole:b},type:"dataMessageReceived"})},removeDataMessageSubscription:function(a,b,c){a.processEvent({payload:{dataChannelLabel:b,messageHandler:c},type:"removeDataMessageSubscription"})},sendIceCandidate:function(a,b,c){a.processEvent({payload:{candidate:c,peerConnectionRole:b},type:"iceCandidateReady"})},sendLocalMediaStateUpdate:function(a,b,c){a.processEvent({payload:{mediaStates:c,peerConnectionRole:b},type:"localMediaStateUpdateReady"})},sendRemoteSdpSet:function(a,b){a.processEvent({payload:{peerConnectionRole:b},type:"remoteSdpSet"})},sendSdpReady:function(a,b,c,d,e){var f={tracks:[],version:c.version};d.forEach(function(a){a={enabled:a.enabled,participantID:e,trackID:a.trackId,type:a.contentType};f.tracks.push(a)});d={mediaStates:f,peerConnectionRole:b,sdp:c};c.type==="offer"?a.processEvent({payload:d,type:"offerReady"}):a.processEvent({payload:d,type:"answerReady"})},setPeerConnectionEventHandlers:function(a,b,c,d){a.setPeerConnectionEventHandlers({onConnectionDestroyed:function(a){return g.connectionDestroyed(b,c,a)},onConnectionDropped:function(){return g.connectionDropped(b,c)},onConnectionEstablished:function(){return g.connectionEstablished(b,c)},onCreateDataMessageSubscription:function(a,c){g.createDataMessageSubscription(b,a,c)},onDataChannelMessageReceived:function(a,d){return g.dataChannelMesageReceived(b,c,a,d)},onIceCandidateReady:function(a){return g.sendIceCandidate(b,c,a)},onLocalMediaStateUpdate:function(a){return g.sendLocalMediaStateUpdate(b,c,a)},onLocalSdpSet:function(a,e){return g.sendSdpReady(b,c,a,e,d().selfParticipantID)},onRemoteSdpSet:function(){return g.sendRemoteSdpSet(b,c)},onRemoveDataMessageSubscription:function(a,c){g.removeDataMessageSubscription(b,a,c)}})}};a=g;f["default"]=a}),66);
__d("ZenonConnectionStateSctpDelegate",["ZenonSignalingConstants"],(function(a,b,c,d,e,f,g){"use strict";var h={sendConnectionEstablishedEvent:function(){},sendInitiateFailoverEvent:function(){},sendMessageToStateSync:function(a,b,c,e){b={sdpString:b};e={mediaPath:e,msgType:c,sdp:b};c=d("ZenonSignalingConstants").SCTP_NEGOTIATION_STATE_SYNC_TOPIC;a.processEvent({payload:{inputData:e,topic:c},type:"stateSyncUpdate"})},setPeerConnectionEventHandlers:function(a,b){a.setPeerConnectionEventHandlers({onConnectionEstablished:function(){h.sendConnectionEstablishedEvent()},onInitiateFailover:function(){h.sendInitiateFailoverEvent()},onSendSdp:function(a,c,d){h.sendMessageToStateSync(b,a,c,d)}})}};a=h;g["default"]=a}),98);
__d("ZenonConnectionStateSignalingDelegate",[],(function(a,b,c,d,e,f){"use strict";var g={onCapabilitiesReceived:function(a,b,c){a.processEvent({payload:{capabilities:b,escalationConferenceName:c},type:"capabilitiesReceived"})},onClientInfoReceived:function(a,b,c){a.processEvent({payload:{actorRepresentatives:c,userCapabilities:b},type:"clientInfoReceived"})},onClientRenegotiationReceived:function(a,b){a.processEvent(b)},onDismissReceived:function(a,b,c){c={dismissReason:b,dismissReasonSetByRemote:!0,dismissSubreason:"Server sent dismiss message to client: "+((b=c)!=null?b:"null"),shouldInformPeer:!1};a.processEvent({payload:c,type:"endConnection"})},onGenericDataMessageReceived:function(a,b,c){c={data:c,dataChannelLabel:b};a.processEvent({payload:c,type:"dataMessageReceived"})},onIceCandidateReceived:function(a,b){a.processEvent({payload:b,type:"iceCandidateReceived"})},onMediaUpdateReceived:function(a,b){a.processEvent({payload:{mediaStates:b},type:"mediaUpdateReceived"})},onMediaUpdateResponseReceived:function(a,b){a.processEvent({payload:b,type:"mediaUpdateResponseReceived"})},onParticipantUpdateReceived:function(a,b){a.processEvent({payload:{participantStates:b},type:"participantUpdateReceived"})},onPendingApprovalReceived:function(a){a.processEvent({type:"pendingApproval"})},onRenegotiationRequested:function(a,b){a.processEvent({payload:{hasRemoteOffer:b},type:"initiatePeerConnectionRestarting"})},onRoomContextUpdateReceived:function(a,b){a.processEvent({payload:{context:b},type:"connectionRoomUpdateReceived"})},onSdpReceived:function(a,b,c,d,e,f,g,h){a.processEvent({payload:{mediaPath:c,mediaStates:d,messageID:h,onProcessed:g,renegotiationOffer:f,sdp:b,source:e},type:"sdpReceived"})},onServerRenegotiationFinished:function(a){a.processEvent({type:"serverRenegotiationFinished"})},setSignalingEventHandlers:function(a,b){a.setSignalingEventHandlers({onCapabilitiesReceived:function(a,c){return g.onCapabilitiesReceived(b,a,c)},onClientInfoReceived:function(a,c){return g.onClientInfoReceived(b,a,c)},onClientRenegotiationReceived:function(a){return g.onClientRenegotiationReceived(b,a)},onDismissReceived:function(a,c,d){return g.onDismissReceived(b,c,d)},onGenericDataMessageReceived:function(a,c){return g.onGenericDataMessageReceived(b,a,c)},onIceCandidateReceived:function(a){return g.onIceCandidateReceived(b,a)},onMediaUpdateReceived:function(a){return g.onMediaUpdateReceived(b,a)},onMediaUpdateResponseReceived:function(a){return g.onMediaUpdateResponseReceived(b,a)},onParticipantUpdateReceived:function(a){return g.onParticipantUpdateReceived(b,a)},onPendingApprovalReceived:function(){return g.onPendingApprovalReceived(b)},onRenegotiationRequested:function(a){return g.onRenegotiationRequested(b,a)},onRoomContextUpdateReceived:function(a){return g.onRoomContextUpdateReceived(b,a)},onSdpReceived:function(a,c,d,e,f,h,i){return g.onSdpReceived(b,a,c,d,e,f,h,i)},onServerRenegotiationFinished:function(){return g.onServerRenegotiationFinished(b)}})}};a=g;f["default"]=a}),66);
__d("ZenonDataUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){return new Uint8Array(a.split("").map(function(a){return a.charCodeAt(0)}))};a=function(a){return g(atob(a))};var h=function(a){return String.fromCharCode.apply(null,a)};b=function(a){return btoa(h(a))};f.stringToUint8Array=g;f.base64ToUint8Array=a;f.uint8ArrayToString=h;f.uint8ArrayToBase64=b}),66);
__d("ZenonSecureFrameManagerState",["E2eeMetricsSerializers"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return{e2eeDebugStats:{e2eeStatsByTrack:new Map(),groupE2eeMetrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),wasmMetrics:{memory_size:0}},e2eeNegotiationState:-1,identityStoreDescription:"not yet created"}};g.ZenonSecureFrameManagerState$DefaultConstructor=a}),98);
__d("ZenonConnectionStateManager",["DateConsts","Promise","ZenonCallsModelEmitter","ZenonCallsModelTypes","ZenonConnectionStateMachine","ZenonConnectionStateModel","ZenonConnectionStatePeerConnectionDelegate","ZenonConnectionStateSctpDelegate","ZenonConnectionStateSignalingDelegate","ZenonDataUtils","ZenonDismissReason","ZenonInfraActionsLogger","ZenonMqttUtil","ZenonNetworkQualityMonitor","ZenonParticipantState","ZenonPeerConnectionManager","ZenonSecureFrameManagerState","ZenonSignalingConstants","cr:2815","immutable","regeneratorRuntime","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h="E2eeKey",i="E2eeState",j=2*d("DateConsts").MS_PER_MIN;a=function(){function a(a,e,f,g,h,i,j,k,l,m){var n=this,o;j===void 0&&(j=!1);k===void 0&&(k=!1);this.$7={local:d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Good,remote:c("immutable").Map()};this.$13=function(){return n.$2};this.$10=function(a){a(n.$2),n.$11(),n.$18()};this.$1=a;a=c("uuid")();var p=e.getSignalingModel();p.setNotifyCallback(function(){n.$10(function(a){a.collisionContext.serverInfoData=p.getRemoteSignalingID()});var a=p.getOverlayConfigServerLayer();a&&g.setServerLayer(a)});this.$2=new(c("ZenonConnectionStateModel"))(p,new Map(),a,f,g,{groupThreadID:null,peerID:null,serverInfoData:e.getSignalingModel().getRemoteSignalingID()});a=new Map();o=p.getMediaModeManager().getMediaMode()==="p2p"&&((o=p.getRoomInfo().context)==null?void 0:o.peerID)!=null&&f==="outgoing";f=new(c("ZenonPeerConnectionManager"))(g,a,j,function(a){return h.log(a)},l,m,o,k);i.setupSctpChannelApi(e.getSignalingModel().getSignalingID(),f);f.registerTrackListener(function(){n.$11()});f.registerNetworkStatusListener(function(a){var b=n.$7;n.$2.updateNetworkStatus(a);n.$11();n.$7=a;a.local!==b.local&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonNetworkQuality: "+a.local})});this.$6=f.getSdpFormat();o=new(c("ZenonPeerConnectionManager"))(g,a,j,function(a){return h.log(a)},l,m,k);a=b("cr:2815")?new(b("cr:2815"))(g,function(a){return h.log(a)},p.getMediaModeManager().getMediaMode()):null;this.$12(e);i.setupSctpChannelApi(e.getSignalingModel().getSignalingID(),(j=a)!=null?j:f);this.$3=new(c("ZenonConnectionStateMachine"))({getConnectionModel:this.$13,logEvent:function(a){return h.log(a)},peerConnectionManager:f,sctpHelper:i,sctpPeerConnectionManager:a,secondaryPeerConnectionManager:o,signalingClient:e,updateConnectionModel:this.$10});c("ZenonConnectionStateSignalingDelegate").setSignalingEventHandlers(e,this.$3);a&&c("ZenonConnectionStateSctpDelegate").setPeerConnectionEventHandlers(a,this.$3);c("ZenonConnectionStatePeerConnectionDelegate").setPeerConnectionEventHandlers(f,this.$3,"primary",this.$13);c("ZenonConnectionStatePeerConnectionDelegate").setPeerConnectionEventHandlers(o,this.$3,"secondary",this.$13);l!=null&&m!=null&&(this.$8=l,this.$9=m,this.$14(e));this.$4=h;e.setLoggingEventHandler(function(a){return h.log(a)});this.$5=0}var e=a.prototype;e.start=function(a){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:s.prev=0;this.$4.log({name:"mqttConnectionState",pending:!0});f=d("ZenonMqttUtil").getMqttChannel();s.next=5;return b("regeneratorRuntime").awrap(this.$15(f));case 5:this.$4.log({name:"mqttConnectionState",pending:!1});s.next=13;break;case 8:s.prev=8;s.t0=s["catch"](0);c("ZenonInfraActionsLogger").logError({callType:"mw",checkpoint:"[ZP] Attempting to establish MQTT connection",error:s.t0.message,errorDomain:"ZenonConnectionStateManager_start"});this.end(d("ZenonDismissReason").ZenonDismissReason.ClientError,"MQTT did not connect");return s.abrupt("return");case 13:g=a.mwRingRequest!=null?"incoming":"outgoing",(h=a.appMessages,i=a.dataChannels,j=a.initialSyncStates,k=a.isE2eeMandated,l=a.isSecondaryJoinRole,m=a.localMedia,n=a.mwRingRequest,o=a.usersToRing),p=(e=j)!=null?e:new Map(),b("cr:2815")&&p.set(d("ZenonSignalingConstants").SCTP_NEGOTIATION_STATE_SYNC_TOPIC,{}),q=this.$16(),r={appMessages:h,dataChannels:i,direction:g,initialSyncStates:p,isE2eeMandated:k,isSecondaryJoinRole:l,mwRingRequest:n,serializedInitialSyncStates:q,tracks:m,usersToRing:o},this.$3.processEvent({payload:r,type:"createConnection"});case 20:case"end":return s.stop()}},null,this,[[0,8]])};e.muteTrack=function(a){this.$17(a,!1)};e.unmuteTrack=function(a){this.$17(a,!0)};e.$17=function(a,b){b={enabled:b,trackID:a};this.$3.processEvent({payload:b,type:"localMediaStateUpdateProcessing"})};e.stopLocalTrack=function(a){a={trackID:a};this.$3.processEvent({payload:a,type:"stopLocalTrack"})};e.end=function(a,b){a={dismissReason:a,dismissReasonSetByRemote:!1,dismissSubreason:b,shouldInformPeer:!0};this.$3.processEvent({payload:a,type:"endConnection"})};e.addParticipants=function(a){a={usersToRing:a};this.$3.processEvent({payload:a,type:"addParticipants"})};e.removeParticipants=function(a){a={usersToRemove:a};this.$3.processEvent({payload:a,type:"removeParticipants"})};e.addLocalTrack=function(a){this.$3.processEvent({payload:{tracks:[a]},type:"addLocalTracks"})};e.replaceLocalTrack=function(a,b){this.$3.processEvent({payload:{replacementTrack:b,trackIDToReplace:a},type:"replaceLocalTrack"})};e.removeLocalTrack=function(a){this.$3.processEvent({payload:{trackID:a},type:"removeLocalTrack"})};e.createDataMessageSubscription=function(a,b){this.$3.processEvent({payload:{dataChannelLabel:a,messageHandler:b},type:"createDataMessageSubscription"})};e.removeDataMessageSubscription=function(a,b){this.$3.processEvent({payload:{dataChannelLabel:a,messageHandler:b},type:"removeDataMessageSubscription"})};e.sendGenericDataMessage=function(a,b,c,d){b={data:b,recipientIDs:c,serviceRecipients:d,topic:a};this.$3.processEvent({payload:b,type:"sendGenericDataMessage"})};e.updateStateSyncTopic=function(a,b){b={inputData:b,topic:a};this.$3.processEvent({payload:b,type:"stateSyncUpdate"})};e.unsubscribeFromStateSyncTopic=function(a){a={topic:a};this.$3.processEvent({payload:a,type:"stateSyncUnsubscribe"})};e.subscribeToRemoteVideo=function(a,b){b={includeDominantSpeaker:b,subscriptions:a};this.$3.processEvent({payload:b,type:"subscriptionRequest"})};e.approveParticipants=function(a){this.$3.processEvent({payload:{approvalStatus:1,targetUsers:a},type:"userApprovalRequest"})};e.denyParticipants=function(a){this.$3.processEvent({payload:{approvalStatus:0,targetUsers:a},type:"userApprovalRequest"})};e.forceEncodingEnabled=function(a){this.$3.processEvent({payload:{enabled:a},type:"forceEncodingEnabled"})};e.getConnectionState=function(){return this.$2.connectionState};e.getClientCallID=function(){return this.$1};e.getServerCallID=function(){return this.$2.collisionContext.serverInfoData};e.getSdpFormat=function(){return this.$6};e.getSecureFrameManagerState=function(){return this.$9==null?d("ZenonSecureFrameManagerState").ZenonSecureFrameManagerState$DefaultConstructor():this.$9.getState()};e.$12=function(a){var c=this;a=a.getSignalingModel().getStateSyncStore();a.addTopicHandler(d("ZenonSignalingConstants").SCTP_NEGOTIATION_STATE_SYNC_TOPIC,function(a){if(!a)return b("Promise").resolve();var d=a.mediaPath,e=a.msgType;a=a.sdp;if(!d||!e||!a)return b("Promise").resolve();c.$3.processEvent({payload:{mediaPath:d,msgType:e,sdp:a},type:"sctpNegotiationStateUpdate"});return b("Promise").resolve()})};e.$14=function(a){var c=this;a=a.getSignalingModel().getStateSyncStore();a.addTopicHandler(i,function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap((d=c.$9)==null?void 0:d.processE2eeServerState(a));case 2:case"end":return e.stop()}},null,this)});this.createDataMessageSubscription(h,function(a){var b;return(b=c.$9)==null?void 0:b.processE2eeMessage(a)})};e.$16=function(){var a;if(this.$9!=null){var b=this.$9.getSerializedE2eeClientState();b.byteLength===0&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"E2ee client state is empty"});a=new Map();a.set(i,{data:d("ZenonDataUtils").uint8ArrayToBase64(b),version:1})}return a};e.$11=function(){d("ZenonCallsModelEmitter").CallsModelEmitterInstance.emitCallsModel(this.$1,this.$2)};e.$18=function(){if(d("ZenonCallsModelEmitter").CONNECTION_STATE_TO_CALL_STATE_MAP[this.$2.connectionState]!==d("ZenonCallsModelTypes").ZenonCallState.Connected)return;var a=this.$2.getConsolidatedParticipantStates();if(a){a=Array.from(a.values());a=a.filter(function(a){return a===d("ZenonParticipantState").ZenonParticipantState.CONNECTED});a=a.length;a>this.$5&&(this.$4.log({connectedParticipantsCount:a,name:"setMaxConnectedParticipants"}),this.$5=a)}};e.$15=function(a){return new(b("Promise"))(function(b,d){if(a.getConnectionState()==="Connected")b();else{c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring call start"});var e={onMQTTStateChanged:function(c){c==="Connected"&&(a.unsubscribeChannelEvents(e),window.clearTimeout(f),b())}},f=window.setTimeout(function(){a.unsubscribeChannelEvents(e),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"MQTT never connected. Current status: "+a.getConnectionState()}),d("timeout")},j);a.subscribeChannelEvents(e)}})};return a}();g["default"]=a}),98);
__d("ZenonInsertableStreamsManager",["ZenonRTWebBrowserFeatureSupport"],(function(a,b,c,d,e,f,g){"use strict";var h="Insertable Streams not supported in E2ee mandated call";a=function(){function a(a){this.$1=a}var b=a.prototype;b.setupSenderTransform=function(a){if(d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&typeof a.createEncodedStreams==="function"&&a.track!==null&&a.senderStreams==null){var b=a.track.id,c=a.createEncodedStreams();a.senderStreams=c;this.$2(b,c.readable,c.writable)}else this.$1.terminateCallIfE2EEMandated(h)};b.setupReceiverTransform=function(a,b){if(d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&typeof b.createEncodedStreams==="function"&&b.track!==null&&b.receiverStreams==null){var c=b.track.id,e=b.createEncodedStreams();b.receiverStreams=e;this.$3(a,c,e.readable,e.writable)}else this.$1.terminateCallIfE2EEMandated(h)};b.$2=function(a,b,c){var d=this;b=b;c=c;this.$1.createEncryptorWithId(a);var e=new TransformStream({transform:function(b,c){b.data=d.$1.encrypt(a,b),c.enqueue(b)}});b.pipeThrough(e).pipeTo(c)};b.$3=function(a,b,c,d){var e=this;c=c;d=d;this.$1.createDecryptorWithId(b,a);a=new TransformStream({transform:function(a,c){a.data=e.$1.decrypt(b,a),a.data.byteLength!==0&&c.enqueue(a)}});c.pipeThrough(a).pipeTo(d)};return a}();g["default"]=a}),98);
__d("ZenonMediaUtils",["ZenonImmutableMediaTrack"],(function(a,b,c,d,e,f,g){"use strict";var h={convertToZenonImmutableMediaTrack:function(a,b,d,e){var f=b.contentHint,g=b.isRemote,i=b.isUserMuted,j=b.stream;b=b.trackType;j=(j=j)!=null?j:h.createStreamWithTrack(a);b=(b=b)!=null?b:a.kind==="audio"?"audio":"video";return new(c("ZenonImmutableMediaTrack"))({contentHint:(f=(f=f)!=null?f:a.contentHint)!=null?f:"",contentType:b,displaySurface:a.getSettings().displaySurface,enabled:a.enabled,label:a.label,name:(f=e)!=null?f:"",remote:g,trackId:(b=d)!=null?b:a.id,userMuted:i,webrtcStream:j,webrtcTrack:a})},createStreamWithTrack:function(a){var b=new MediaStream();b.addTrack(a);return b}};a=h;g["default"]=a}),98);
__d("ZenonRTCVideoResolutionHelper",["gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=10;a=function(){function a(){}a.getMaxParticipants180=function(){return 100};a.getMaxParticipants360=function(){return 100};a.getMaxParticipants720=function(){return 2};a.shouldUseSupportedScaleFactorList=function(){return!1};a.shouldUseConservativeWayWhenSearchingForScalingRatio=function(){return!1};a.encoderScalingEnabled=function(){return c("gkx")("1808893")};a.bitrateCappingEnabled=function(){return!0};a.getMaxBitrate720=function(){return 3e6};a.getMaxBitrate360=function(){return 1e6};a.getMaxBitrate180=function(){return 3e5};a.getMaxBitrateForResolution=function(b){if(!a.bitrateCappingEnabled())return 0;if(b===180)return a.getMaxBitrate180();if(b===360)return a.getMaxBitrate360();return b===720?a.getMaxBitrate720():0};a.getMaxEncResolution=function(b){if(!a.encoderScalingEnabled())return null;var c=a.getMaxParticipants720(),d=a.getMaxParticipants360(),e=a.getMaxParticipants180(),f={height:720,width:1280},g={height:360,width:640},h={height:180,width:320};if(c>0&&b<=c)return f;if(d>0&&b<=d)return g;if(e>0&&b<=e)return h;if(e>0)return h;if(d>0)return g;return c>0?f:null};a.getMaxEncResolutionSimulcast=function(b,d,e,f){var g={height:720,width:1280},h={height:360,width:640},i={height:180,width:320};if(d<=e&&e<=2&&d>=0&&d<f){if(f===1)return a.getMaxEncResolution(b);if(f===2)if(d===0)return i;else return b>2?h:g;if(f===3)if(d===0)return i;else if(d===1)return h;else if(d===2)return g}c("recoverableViolation")("Unsupported simulcast parameters passed to getMaxEncResolutionSimulcast","rtc_www");return null};a.getScalingFactor=function(b,c,d,e,f){f===void 0&&(f=!1);if(b.width==null||b.width<=0||b.height==null||b.height<=0||c.width==null||c.width<=0||c.height==null||c.height<=0)return null;var g=c.width;c=c.height;var h=b.width;b=b.height;if(f){f=[1,2,4];var i=Math.sqrt(g*c/(h*b));if(i<1+e)return 1;var j=1,k=Number.MAX_VALUE;for(var l=0;l<f.length;l++){var m=f[l],n=Math.abs(m-i);(a.shouldUseConservativeWayWhenSearchingForScalingRatio()?n<k:n<=k)&&Math.floor(g/m)%2===0&&Math.floor(c/m)%2===0&&(j=m,k=Math.abs(m-i))}return j}else{n=Math.sqrt(g*c/(h*b));if(n<1+e)return 1;return d?Math.floor(n+e):n}};a.maybeLimitEncodingResolutionByParticipantCountHelper=function(b,c,d,e,f,g){g===void 0&&(g=!1);if(!a.encoderScalingEnabled()||f)return;if(d!=null&&d.length>0){f=d.filter(function(a){var b;return((b=a.receiver.track)==null?void 0:b.kind)==="video"&&a.currentDirection!=="inactive"&&((b=a.receiver.track)==null?void 0:b.readyState)==="live"});d=f.length;g&&(d-=1)}else{f=c.filter(function(a){return((a=a.track)==null?void 0:a.kind)==="video"});g=f.length;d=g+1}c=a.getMaxEncResolution(d);if(!c)return;f=[c];a.maybeLimitEncodingResolution(b,f,h,i/100,e,a.shouldUseSupportedScaleFactorList())};a.maybeLimitEncodingResolution=function(b,c,d,e,f,g){g===void 0&&(g=!1);b=b.filter(function(a){return((a=a.track)==null?void 0:a.kind)==="video"});if(b.length>0){var h;b=b[0];var i=b.getParameters();h=(h=b.track)==null?void 0:h.getSettings();if(!h)return;if(i.encodings==null||c.length!==i.encodings.length)return;for(var c=c.entries(),j=Array.isArray(c),k=0,c=j?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=c.length)break;l=c[k++]}else{k=c.next();if(k.done)break;l=k.value}l=l;var m=l[0];l=l[1];var n=f?1:a.getScalingFactor(l,{height:h.height,width:h.width},d,e,g);if(n==null)continue;n===1?delete i.encodings[m].scaleResolutionDownBy:i.encodings[m].scaleResolutionDownBy=n;if(!f&&l.width!=null&&l.height!=null){n=Math.min(l.width,l.height);l=a.getMaxBitrateForResolution(n);l>0&&(i.encodings[m].maxBitrate=l)}else f&&delete i.encodings[m].maxBitrate}b.setParameters(i)}};a.maybeLimitEncodingResolutionByParticipantCount=function(b,c,d,e,f){f===void 0&&(f=!1);return a.maybeLimitEncodingResolutionByParticipantCountHelper(b,c,d,a.$1>0,e,f)};a.handleStartScreenSharing=function(b,c,d,e){a.$1++;return a.maybeLimitEncodingResolutionByParticipantCountHelper(b,c,d,a.$1>0,e)};a.handleStopScreenSharing=function(b,c,d,e){a.$1--;return a.maybeLimitEncodingResolutionByParticipantCountHelper(b,c,d,a.$1>0,e)};return a}();a.$1=0;g["default"]=a}),98);
__d("ZenonSimulcastManager",["ZenonRTCVideoResolutionHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=25e5,i=25e6,j=15,k=15e4,l=3e4,m=180*320,n=90*160;e=!1;f=0;var o=2,p=3;function a(a,b,c,d,e,f,g,k,l){e===void 0&&(e=!1);f===void 0&&(f=2);g===void 0&&(g={height:720,width:1280});k===void 0&&(k=!0);l===void 0&&(l=0);d=q(b.perSsrcTargetBitrateBpsMap,d);var m=0,n=[],o=[];for(var p=0;p<a.encodings.length;p++)if(t(p,b.qualityMask)){m++;var s=d.get(p);s!=null?o.push(s):o.push(h);if(m>=f)break}while(m<l)m++,o.push(h);for(var s=0;s<m;s++)n.push(r(s,o[s],a.encodings.length-1,c,m,g,e));for(var p=0;p<a.encodings.length;p++)p<m?(a.encodings[p].active=!0,a.encodings[p].scaleResolutionDownBy=n[p],m===1?(a.encodings[p].maxBitrate=h,delete a.encodings[p].maxFramerate):(a.encodings[p].maxBitrate=o[p],p===0&&(a.encodings[p].maxFramerate=j))):(a.encodings[p].active=!1,a.encodings[p].maxBitrate=i);e&&!k&&u(a);return{params:a}}function b(a){for(var b=0;b<a.encodings.length;b++)b===0?(a.encodings[b].active=!0,a.encodings[b].scaleResolutionDownBy=1,a.encodings[b].maxBitrate=h):(a.encodings[b].active=!1,a.encodings[b].maxBitrate=i);return a}function q(a,b){var c=new Map();if(a==null||b==null)return c;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g=a.get(g);g!=null&&c.set(f,g)}return c}function r(a,b,d,e,f,g,h){g===void 0&&(g={height:720,width:1280});h===void 0&&(h=!1);if(h)return 1;h=c("ZenonRTCVideoResolutionHelper").getMaxEncResolutionSimulcast(e,a,d,f);if(!h)return 1;h=s(a,b,h,f);return(e=c("ZenonRTCVideoResolutionHelper").getScalingFactor(h,g,!0,0,c("ZenonRTCVideoResolutionHelper").shouldUseSupportedScaleFactorList()))!=null?e:1}function s(a,b,c,d){if(d>=2&&a===0){d=c.height!=null&&c.width!=null&&c.height*c.width>n;if(d&&b<l)return{height:90,width:160};a=c.height!=null&&c.width!=null&&c.height*c.width>m;if(a&&b<k)return{height:180,width:320}}return c}function t(a,b){return(1<<a&b)!==0}function u(a){for(var b=1;b<a.encodings.length;b++)a.encodings[b].active=!1,a.encodings[b].maxBitrate=i}function d(a){var b=new Map(),c="\r\n";a=a.split(c).filter(function(a){return a.startsWith("a=ssrc-group:SIM")});if(a.length===0)return b;c=a[0].split(" ").slice(1);for(var a=0;a<c.length;a++)b.set(c[a],a);return b}g.ALLOW_SCREENSHARE_SIMULCAST=e;g.MIN_NUM_ACTIVE_LAYERS=f;g.MAX_NUM_ACTIVE_LAYERS=o;g.NUM_LAYERS=p;g.getSimulcastEncodingParameters=a;g.getSimulcastSingleLayerParameters=b;g.getSimulcastLayerToTargetBitrateMap=q;g.getSimulcastSsrcToLayerMap=d}),98);
__d("ZenonVideoDurationTracker",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.startedAt==null&&(a.startedAt=c("performanceNow")())}function i(a){a.startedAt!=null&&(a.duration=k(a),a.startedAt=null)}function j(a,b){b=b.filter(function(a){return a.enabled&&a.webrtcTrack.readyState!=="ended"});b.length>0?h(a):i(a)}function k(a){var b=a.startedAt;return b!=null?a.duration+c("performanceNow")()-b:a.duration}a=function(){function a(){this.$1={localScreenShareDuration:{duration:0,startedAt:null},localVideoDuration:{duration:0,startedAt:null},remoteVideoDuration:{duration:0,startedAt:null}}}var b=a.prototype;b.getLocalVideoDuration=function(){return k(this.$1.localVideoDuration)};b.getLocalScreenShareDuration=function(){return k(this.$1.localScreenShareDuration)};b.getRemoteVideoDuration=function(){return k(this.$1.remoteVideoDuration)};b.update=function(a){var b=this.$1.localVideoDuration,c=Array.from(a.values()).filter(function(a){var b=a.contentType==="video"||a.contentType==="screen";return b&&!a.remote});j(b,c);b=this.$1.localScreenShareDuration;c=Array.from(a.values()).filter(function(a){var b=a.contentType==="screen";return b&&!a.remote});j(b,c);b=this.$1.remoteVideoDuration;c=Array.from(a.values()).filter(function(a){var b=a.contentType==="video"||a.contentType==="screen";return b&&a.remote});j(b,c)};return a}();g["default"]=a}),98);
__d("RefCountedAudioContextSingleton",["ZenonDebugLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null,j=new Set(),k=0;function a(){if(c("gkx")("3330"))return{audioContext:null,destroy:c("emptyFunction")};(i===null||i.state==="closed")&&(i=new h());var a=k++;j.add(a);return{audioContext:i,destroy:function(){j["delete"](a),i!==null&&j.size<1&&(i.state!=="closed"&&i.close(),i=null)}}}g.get=a}),98);
__d("ZenonMediaLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";var g=typeof ((a=window.MediaStreamTrack)==null?void 0:(b=a.prototype)==null?void 0:b.getSettings)==="function";c={serializeMediaStreamTrack:function(a){var b=g?a.getSettings():null;return JSON.stringify({contentHint:a.contentHint,enabled:a.enabled,id:a.id,kind:a.kind,label:a.label,muted:a.muted,readyState:a.readyState,remote:a.remote,settings:{deviceId:b==null?void 0:b.deviceId,groupId:b==null?void 0:b.groupId}})}};d=c;f["default"]=d}),66);
__d("ZenonNoiseSuppressionAudioWorkletNode",["FBLogger","NoiseSuppressionConfig","RefCountedAudioContextSingleton","expectationViolation","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=null,k=null;function a(a){if(h==null){if(!a)return;c("expectationViolation")("Unable to toggle Noise Suppression. Make sure you initialize the AudioWorkletNode first by calling getNoiseSuppressionNodeInstance");return}if(i&&a){c("FBLogger")("rtc_www").mustfix("Failed to enable noise suppression node because it is permanently disabled");return}h.port.postMessage({enabledByUser:a});a===!1&&(k==null?void 0:k(),j=null,k=null,h=null)}function l(){return h!=null}function e(a,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:if(!i){g.next=3;break}c("FBLogger")("rtc_www").mustfix("Failed to get noise suppression node because it is permanently disabled");return g.abrupt("return",a);case 3:if(l()){g.next=13;break}f=d("RefCountedAudioContextSingleton").get();j=f.audioContext;k=f.destroy;if(!(j==null)){g.next=9;break}return g.abrupt("return",a);case 9:g.next=11;return b("regeneratorRuntime").awrap(j.audioWorklet.addModule(c("NoiseSuppressionConfig").module_url));case 11:h=new AudioWorkletNode(j,"noise-suppression"),h.onprocessorerror=function(a){i=!0,c("FBLogger")("rtc_www").mustfix("Noise suppression node failed with error",a.message),c("FBLogger")("rtc_www").catching(a),e(h)};case 13:a.connect(h);return g.abrupt("return",h);case 15:case"end":return g.stop()}},null,this)}g.toggleNoiseSuppressionNode=a;g.isNoiseSuppressionNodeInitialized=l;g.connectNoiseSuppressionNode=e}),98);
__d("ZenonWebAudioManager",["FBLogger","RefCountedAudioContextSingleton","ZenonMediaActionLogger","ZenonMediaLoggingUtils","ZenonNoiseSuppressionAudioWorkletNode","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=null,this.$2=null}var e=a.prototype;e.setupProcessedTrack=function(a,b){if(a.label==="MediaStreamAudioDestinationNode")return a;if(this.$3(b)!==!0){d("ZenonNoiseSuppressionAudioWorkletNode").toggleNoiseSuppressionNode(b.wasmNoiseSuppression===!0);this.$4();return a}if(b.wasmNoiseSuppression!=null)return a;if(!this.$1){this.$1=this.$5();if(this.$1==null)return a}var e=this.$1,f=e.createMediaStreamSource(a.webrtcStream);e=e.createMediaStreamDestination();f.connect(e);this.connectFeatureNodesToSink(b,f,e);if(e.stream.getAudioTracks().length<=0){c("FBLogger")("rtc_www").warn("Web Audio destinationNode did not contain a media track");this.$4();return a}b=e.stream.getAudioTracks()[0];f=c("ZenonMediaLoggingUtils").serializeMediaStreamTrack(b);var g=c("ZenonMediaLoggingUtils").serializeMediaStreamTrack(a.webrtcTrack);c("ZenonMediaActionLogger").logEvent({checkpoint:"Returning processedTrack: "+f+", sourceTrack: "+g});return a.merge({label:"MediaStreamAudioDestinationNode",trackId:b.id,webrtcStream:e.stream,webrtcTrack:b})};e.$3=function(a){return Object.values(a).some(function(a){return a})};e.buildFeatureNodes=function(a,c,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(d("ZenonNoiseSuppressionAudioWorkletNode").connectNoiseSuppressionNode(c,e));case 2:f=g.sent;d("ZenonNoiseSuppressionAudioWorkletNode").toggleNoiseSuppressionNode(a.wasmNoiseSuppression===!0);return g.abrupt("return",f);case 5:case"end":return g.stop()}},null,this)};e.connectFeatureNodesToSink=function(a,d,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(this.buildFeatureNodes(a,d,function(a){c("FBLogger")("rtc_www").mustfix("Web Audio pipeline reset due to processor error. One or more AudioWorkletNode might be failing"),a.disconnect(e),d.connect(e)}));case 2:f=g.sent,d.disconnect(e),f.connect(e);case 5:case"end":return g.stop()}},null,this)};e.$5=function(){var a=d("RefCountedAudioContextSingleton").get(),b=a.audioContext;a=a.destroy;this.$1=b;this.$2=a;return b};e.$4=function(){this.$2==null?void 0:this.$2(),this.$1=null,this.$2=null};return a}();g["default"]=a}),98);
__d("ZenonMediaChannelManager",["FBLogger","ZenonBrowsers","ZenonImmutableMediaTrack","ZenonInfraActionsLogger","ZenonInsertableStreamsManager","ZenonMediaStatsManager","ZenonMediaUtils","ZenonRTCVideoResolutionHelper","ZenonScreenShare","ZenonSimulcastManager","ZenonVideoDurationTracker","ZenonWebAudioManager","err","gkx","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="negotiationOffStreamId";a=function(){function a(a,b,d,e,f){var g=this;this.$1=null;this.$14=!1;this.$2=a;this.$5=new Map();this.$10=new Map();this.$11=new Map();this.$16=new Map();this.$8=[];this.$7=new(c("ZenonVideoDurationTracker"))();this.$6=new(c("ZenonMediaStatsManager"))(this.$2,b,this.$5,this.$16,d,this.$7);this.$15=new(c("ZenonWebAudioManager"))();this.$6.listen();this.$2.addEventListener("track",function(a){g.transformReceiverFromEvent(a),g.addRemoteTrackFromEvent(a),g.$17(),g.$18()});this.$2.addEventListener("signalingstatechange",function(){g.$18(),g.$19(),g.getCodecFromEvent()});this.$2.addEventListener("removestream",function(){g.$17(!0)});this.$12=!0;this.$13=new Map();e!=null&&f!=null&&(this.$3=e,this.$4=f,this.$1=new(c("ZenonInsertableStreamsManager"))(e))}var e=a.prototype;e.onLocalSdpSet=function(a){var b;(b=this.$4)==null?void 0:b.onLocalSdpSet(a)};e.stopStatsPolling=function(){var a;this.$6.stopPolling();(a=this.$4)==null?void 0:a.stopStatsPoll()};e.getTracks=function(){return this.$5};e.clearTracks=function(){this.$5.clear(),this.$16.clear(),this.$19()};e.$17=function(a){a===void 0&&(a=!1),c("ZenonRTCVideoResolutionHelper").maybeLimitEncodingResolutionByParticipantCount(this.$2.getSenders(),this.$2.getReceivers(),this.$2.getTransceivers(),this.$2.supportsSimulcast(),a)};e.removeMissingTracks=function(a){var b=this;this.$5.forEach(function(c,d){c.remote&&a.find(function(a){return a===d})==null&&b.removeTrack(d)})};e.updateTrackInfo=function(a){var b=this.$5.get(a.trackID);if(b==null){this.$13.set(a.trackID,a);return}b=this.$20(b,a);this.$5.set(a.trackID,b);this.$19()};e.$20=function(a,b){if(a.contentType==="audio"&&b.type!=="screen_audio"||d("ZenonScreenShare").screenShareWithReplaceTrack())return a;var e=a.webrtcStream,f=e.getVideoTracks().length>1;b.type==="screen"&&f&&(e=c("ZenonMediaUtils").createStreamWithTrack(a.webrtcTrack),a.webrtcStream.removeTrack(a.webrtcTrack));return new(c("ZenonImmutableMediaTrack"))({contentHint:a.contentHint,contentType:(f=b.type)!=null?f:a.contentType,enabled:a.enabled,label:a.label,remote:a.remote,trackId:b.trackID,webrtcStream:e,webrtcTrack:a.webrtcTrack})};e.getLocalTracksForMWS=function(){var a=this,b=new Map(),c=this.$2.getTransceivers();this.$5.forEach(function(d,e){if(!d.remote){var f,g=(f=(f=a.$16.get(e))==null?void 0:f.trackId)!=null?f:e;f=(f=(f=c.find(function(a){return((a=a.sender.track)==null?void 0:a.id)===g}))==null?void 0:f.mid)!=null?f:null;var h=(f=a.$2.getLocalMWTrackId(f))!=null?f:e;f=d.update("trackId",function(){return h});b.set(h,f)}});return b};e.addTrack=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a.contentType==="video"&&a.remote===!1&&(this.$9=a);d.next=3;return b("regeneratorRuntime").awrap(this.$21(a,c));case 3:this.$19();case 4:case"end":return d.stop()}},null,this)};e.transformSender=function(a){if(this.$1==null)return;this.$1.setupSenderTransform(a)};e.transformReceiverFromEvent=function(a){var b=a.receiver,d=this.$2.getCnameFromTrackId(a.track.id);if(this.$1==null)return;d==null&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Failed to find Cname for the remote track: "+a.track.id});this.$1.setupReceiverTransform((a=d)!=null?a:h,b)};e.addReceiveOnlyVideoTransceiverIfNeeded=function(a,b){this.$22("video","recvonly",a,b)};e.addInactiveAudioTransceiverIfNeeded=function(){this.$22("audio","inactive")};e.$22=function(a,b,c,e){var f=!1;this.$5.forEach(function(b,c){if(b.contentType===a){f=!0;return}});if(f||d("ZenonBrowsers").noTransceiverForNegotiations()&&e!==!0&&c==="p2p")return;this.$2.addTransceiver(a,{direction:b})};e.removeTrack=function(a){var c,d;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:d=this.$5.get(a);if(!(d==null)){b.next=3;break}return b.abrupt("return");case 3:this.$23(d),this.$19(),(c=this.$3)==null?void 0:c.freeEncryptorAndDecryptorForId(a);case 6:case"end":return b.stop()}},null,this)};e.replaceTrack=function(a,e){var f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:g=this.$5.get(a);if(!(g==null)){m.next=3;break}return m.abrupt("return");case 3:if(!(d("ZenonScreenShare").isScreenSharingTrack([g])&&!d("ZenonScreenShare").isScreenSharingTrack([e])&&this.$9!=null)){m.next=12;break}m.next=6;return b("regeneratorRuntime").awrap(this.$24(g,this.$9));case 6:this.$12?this.unmuteTrack((h=(i=this.$9)==null?void 0:i.trackId)!=null?h:""):this.muteTrack((j=(k=this.$9)==null?void 0:k.trackId)!=null?j:"");c("ZenonRTCVideoResolutionHelper").handleStopScreenSharing(this.$2.getSenders(),this.$2.getReceivers(),this.$2.getTransceivers(),this.$2.supportsSimulcast());g.webrtcTrack.stop();g.webrtcTrack.readyState!=="ended"&&c("ZenonInfraActionsLogger").logError({errorDomain:"stopping trackToReplace failed: "+g.label});m.next=25;break;case 12:if(!(e!=null&&d("ZenonScreenShare").isScreenSharingTrack([e])&&a===((f=this.$9)==null?void 0:f.trackId)&&this.$9!=null)){m.next=20;break}this.$12=this.$9.enabled&&this.$9.webrtcTrack.enabled;m.next=16;return b("regeneratorRuntime").awrap(this.$24(this.$9,e));case 16:this.unmuteTrack(e.trackId);c("ZenonRTCVideoResolutionHelper").handleStartScreenSharing(this.$2.getSenders(),this.$2.getReceivers(),this.$2.getTransceivers(),this.$2.supportsSimulcast());m.next=25;break;case 20:if(!(e!=null)){m.next=25;break}(this.$9==null&&e.contentType==="video"||((l=this.$9)==null?void 0:l.trackId)===a)&&(this.$9=e);m.next=24;return b("regeneratorRuntime").awrap(this.$24(g,e));case 24:g.trackId!==e.trackId&&(g.webrtcTrack.stop(),g.webrtcTrack.readyState!=="ended"&&c("ZenonInfraActionsLogger").logError({errorDomain:"stopping trackToReplace failed: "+g.label}));case 25:this.$17(),this.$19();case 27:case"end":return m.stop()}},null,this)};e.addRemoteTrackFromEvent=function(a){var b=a.transceiver;b=this.$2.getRemoteMWTrackId(b.mid);a=c("ZenonMediaUtils").convertToZenonImmutableMediaTrack(a.track,{isRemote:!0,isUserMuted:!1,stream:a.streams?a.streams[0]:null},b);b=this.$13.get(a.trackId);b!=null&&(a=this.$20(a,b),this.$13["delete"](a.trackId));b=this.$10.get(a.trackId);b!=null&&(a.contentType!=="audio"&&(a.webrtcTrack.enabled=b.enabled,a=a.set("enabled",b.enabled)),a=a.set("userMuted",b.userMuted),this.$10["delete"](a.trackId));this.$5=this.$5.set(a.trackId,a);this.$19();this.$6.onRemoteTrackAdded(a)};e.createDataChannel=function(a,b,c,d){this.$2.createDataChannel(a,b,c,d)};e.muteTrack=function(a){var b=this.$5.get(a),c=b===this.$9;if(b==null){this.$10.set(a,{enabled:!1,userMuted:!0});return}a=b;b.userMuted||(a=a.set("userMuted",!0));var d=Boolean((b==null?void 0:b.remote)&&b.contentType==="audio");!d&&!(!a.enabled&&!a.webrtcTrack.enabled)&&(a.webrtcTrack.enabled=!1,a=a.set("enabled",!1));c&&(this.$9=a);b!==a&&(this.$5=this.$5.set(a.trackId,a),this.$19())};e.unmuteTrack=function(a){var b=this.$5.get(a),c=b===this.$9;if(b==null){this.$10.set(a,{enabled:!0,userMuted:!1});return}a=b;b.userMuted&&(a=a.set("userMuted",!1));var d=Boolean((b==null?void 0:b.remote)&&b.contentType==="audio");!d&&!(a.enabled&&a.webrtcTrack.enabled)&&(a.webrtcTrack.enabled=!0,a=a.set("enabled",!0));c&&(this.$9=a);b!==a&&(this.$5=this.$5.set(a.trackId,a),this.$19())};e.forceEncodingEnabled=function(a){if(a===this.$14)return;this.$14=a;this.$18()};e.getSdpFormat=function(){return this.$2.getSdpFormat()};e.setSimulcastSingleLayerParams=function(){if(this.$2.supportsSimulcast()&&!this.$2.getSimulcastInitialized()){var a=this.$2.getSenders().filter(function(a){return a.track&&a.track.kind==="video"});if(a.length!==0){a=a[0];var b=d("ZenonSimulcastManager").getSimulcastSingleLayerParameters(a.getParameters());if(this.$25(a))return;a.setParameters(b);this.$2.setSimulcastInitialized(!0)}}};e.stopLocalTracks=function(){this.$5.forEach(function(a){a.remote===!1&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"stopping track: "+a.label}),a.webrtcTrack.stop(),a.webrtcTrack.readyState!=="ended"&&c("ZenonInfraActionsLogger").logError({errorDomain:"stopping track failed: "+a.label}))});if(this.$9!=null&&!this.$5.has(this.$9.trackId)){var a;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"stopping local video track: "+this.$9.label});(a=this.$9)==null?void 0:a.webrtcTrack.stop();this.$9&&this.$9.webrtcTrack.readyState!=="ended"&&c("ZenonInfraActionsLogger").logError({errorDomain:"stopping local video track failed: "+this.$9.label})}this.$19();(a=this.$4)==null?void 0:a.freeWasmMemory()};e.stopLocalTrack=function(a){a=this.$5.get(a);if(a==null)return;if(a.remote)return;a.webrtcTrack.stop();a.webrtcTrack.readyState!=="ended"&&c("ZenonInfraActionsLogger").logError({errorDomain:"stopping local track failed: "+a.label})};e.registerNetworkStatusListener=function(a){this.$6.registerNetworkStatusListener(a)};e.registerTrackListener=function(a){this.$8.push(a)};e.setTrackListenersFromManager=function(a){this.$8=a.$8};e.timeSeries=function(){return this.$6.timeSeries()};e.resetTimeSeries=function(){this.$6.resetTimeSeries()};e.$21=function(a,c){var d,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:d=a;a.contentType==="audio"&&(d=this.$15.setupProcessedTrack(a,{wasmNoiseSuppression:(e=(f=a.flags)==null?void 0:f.wasmNoiseSuppression)!=null?e:!1}));this.$11.set(a.trackId,d.trackId);this.$16.set(a.trackId,d);h.next=6;return b("regeneratorRuntime").awrap(this.$26(d,c));case 6:g=h.sent,this.transformSender(g),this.$5=this.$5.set(a.trackId,a);case 9:case"end":return h.stop()}},null,this)};e.$26=function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(c==="p2p")){e.next=8;break}d=this.$2.getTransceivers().find(function(b){var c=b.sender.track,d=b.receiver.track;if(b.currentDirection==="inactive")return!1;if(c!==null&&d==null&&c.kind===a.contentType&&a.remote)return!0;else if(d!==null&&c==null&&d.kind===a.contentType&&a.remote===!1)return!0;return!1});if(!(d!=null)){e.next=7;break}d.direction="sendrecv";e.next=6;return b("regeneratorRuntime").awrap(d.sender.replaceTrack(a.webrtcTrack));case 6:return e.abrupt("return",d.sender);case 7:return e.abrupt("return",this.$2.addTrack(a.webrtcTrack,a.webrtcStream));case 8:return e.abrupt("return",this.$2.addTransceiver(a.webrtcTrack,{direction:"sendonly",streams:[a.webrtcStream]}).sender);case 9:case"end":return e.stop()}},null,this)};e.$23=function(a){this.$5["delete"](a.trackId),this.$16["delete"](a.trackId),a.remote||(this.$2.removeTrack(a.webrtcTrack),a.webrtcTrack.stop())};e.$24=function(a,d){var e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:g=(e=this.$16.get(a.trackId))!=null?e:a;h=this.$2.getSenders().find(function(b){var c;return((c=b.track)==null?void 0:c.id)===a.webrtcTrack.id||g.trackId===((c=b.track)==null?void 0:c.id)});if(!(h===void 0)){m.next=4;break}throw c("err")("track to be replaced is not found");case 4:i=this.$11.get(a.trackId);i!=null?this.$11["delete"](a.trackId):i=a.trackId;this.$16["delete"](a.trackId);j=d;j.contentType==="audio"&&(j=this.$15.setupProcessedTrack(d,{wasmNoiseSuppression:(k=(l=j.flags)==null?void 0:l.wasmNoiseSuppression)!=null?k:!1}));m.next=11;return b("regeneratorRuntime").awrap(h.replaceTrack(j.webrtcTrack));case 11:this.$11.set(d.trackId,i),this.$16.set(d.trackId,j),this.$5["delete"](a.trackId),this.$5.set(d.trackId,d),(f=this.$3)==null?void 0:f.updateLocalTrackIdForStats(i,d.trackId);case 16:case"end":return m.stop()}},null,this)};e.$19=function(){this.$7.update(this.$5),this.$8.forEach(function(a){a()})};e.$25=function(a){a=this.$2.getTransceiverFromSender(a);return a&&a.stopped?!0:!1};e.$27=function(){var a=!1,b=this.getTracks().values(),c=b.next();while(!c.done&&!a)a=c.value.remote,c=b.next();return this.$14||a};e.$18=function(){var a=this;if(c("gkx")("1923585"))return;var b=this.$27();this.$2.getSenders().forEach(function(d){if(a.$25(d))return;var e=d.getParameters(),f=!1;if(e.encodings!=null)for(var g=0;g<e.encodings.length;g++)(g===0||!b)&&e.encodings[g].active!==b&&(e.encodings[g].active=b,f=!0);f&&c("promiseDone")(d.setParameters(e),null,function(a){c("FBLogger")("rtc_www").catching(a).mustfix("Error while trying to toggle encoding")})})};e.getCodecFromEvent=function(){var a=this,b=this.$2.getSignalingState();if(b!=="stable")return;this.$2.getReceivers().forEach(function(b){var c=a.$28(b);if(b.track!=null&&c!=null){var d;(d=a.$3)==null?void 0:d.setFrameDataHandlerTypeFromCodec(b.track.id,c)}});this.$2.getSenders().forEach(function(b){var c=a.$29(b);if(b.track!=null&&c!=null){var d;(d=a.$3)==null?void 0:d.setFrameDataHandlerTypeFromCodec(b.track.id,c)}})};e.$28=function(a){if(a.getParameters&&a.track!=null){var b=a.track.id;a=a.getParameters();var c=new Set();if(a.codecs!=null&&a.codecs.length!==0){var d=a.codecs[0].mimeType;a.codecs.forEach(function(a){c.add(a.mimeType)});(a=this.$3)==null?void 0:a.onSupportedCodecListUpdate(b,c);return d}}};e.$29=function(a){if(a.getParameters&&a.track!=null){a=a.getParameters();if(a.codecs!=null&&a.codecs.length!==0)return a.codecs[0].mimeType}};return a}();g["default"]=a}),98);
__d("ZenonReceiverRenderedResolutionUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a===b)return!0;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var e=0;e<c.length;e++){var f=c[e];if(!d.includes(f))return!1;var g=a[f];f=b[f];var h=Object.keys(g);for(var i=0;i<h.length;i++){var j=h[i];if(g[j]!==f[j])return!1}}return!0}function h(a){if(!a)return 0;return!a.renderWidth||!a.renderHeight?0:a.renderWidth*a.renderHeight}function a(a,b){if(a===b)return!0;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(!Object.prototype.hasOwnProperty.call(b,e))return!1;if(!g(a[e],b[e]))return!1}return!0}function b(a,b){if(!a||!b)return 0;var c=0,d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e],g=a[f];f=b[f];if(g&&f){var i=Object.keys(g);for(var j=0;j<i.length;j++){var k=i[j],l=g[k];k=f[k];var m=0;if(l&&k){l=h(l);k=h(k);l>0&&k>0?m=l>k?l/k:k/l:m=l+l}m>c&&(c=m)}}}return c}f.areEqualRenderResolutionMaps=a;f.getMaxResolutionChangeMultiplier=b}),66);
__d("ZenonReceiverRenderedResolutionManager",["ZenonCallsContext","ZenonReceiverRenderedResolutionUtils","qex","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useMemo,j=200,k=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$5={};this.updateTrackIdToUserIdMap=function(a){var b=a.get(c.$1).participants,d=a.get(c.$1).mediaTracks;if(b===c.$3)return;c.$3=b;c.$4.clear();b.forEach(function(a,b,e){a.trackIDs.forEach(function(a){var e=d.get(a);if(e&&!e.remote)return;c.$4.set(a,b)})})};this.updateRenderedResolutions=function(a){var b={};a.forEach(function(a,d){if(a.contentType!=="video")return;var e=c.$4.get(d);if(e==null)return;a={renderHeight:a.renderHeight,renderWidth:a.renderWidth,streamId:d,streamType:1,userId:e};d={1:a};b[e]=d});c.updateRenderedResolutionMap(b)};this.$1=a;this.$2=b;this.$2.addListener("callsModelUpdate",this.updateTrackIdToUserIdMap)}var b=a.prototype;b.updateRenderedResolutionMap=function(a){var b=this;if(d("ZenonReceiverRenderedResolutionUtils").areEqualRenderResolutionMaps(a,this.$5))return;var e=c("qex")._("416")||2;if(Object.keys(this.$5||{}).length>0&&Object.keys(a||{}).length>0&&d("ZenonReceiverRenderedResolutionUtils").getMaxResolutionChangeMultiplier(a,this.$5)<e)return;this.$5=a;var f={renderResolutionMap:this.$5};window.setTimeout(function(){b.$2.updateStateSyncTopic(b.$1,"config_engine",f)},this.getJitterMs())};b.getJitterMs=function(){return Math.floor(Math.random()*j)};b.getTrackIdToUserIdMap=function(){return this.$4};b.getRenderedResolutionMap=function(){return this.$5};return a}(),l=c("qex")._("417")||!1;function a(){var a=h(c("ZenonCallsContext")),b=a.callSDK,d=a.currentClientCallId;return i(function(){if(!l)return function(){};var a=new k(d,b);return a.updateRenderedResolutions},[d,b])}g.ReceiverRenderedResolutionManager=k;g.useReceiverRenderedResolutionManager=a}),98);
__d("ZenonMediaElementTracker",["FBLogger","ZenonReceiverRenderedResolutionManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=new Map(),j;function k(a,b){i.has(a)&&c("FBLogger")("rtc_www").warn("ZenonMediaElementTracker already has a stream associated with the given element"),i.set(a,b)}function l(a){i["delete"](a)||c("FBLogger")("rtc_www").warn("ZenonMediaElementTracker did not have a stream associated with the given element")}function a(a){var b=new Map();for(var d=i,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=g.getTracks(),k=Array.isArray(g),l=0,g=k?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=g.length)break;m=g[l++]}else{l=g.next();if(l.done)break;m=l.value}m=m;var n=a.get(m.id);if(n==null)continue;if(m.kind==="video"&&h instanceof HTMLVideoElement){if(h.videoWidth===0||h.videoHeight===0)continue;var o=h.getBoundingClientRect();n.renderedWidth=o.width;n.renderedHeight=o.height;var p=o.width/h.videoWidth,q=o.height/h.videoHeight,r=getComputedStyle(h);r=r.objectFit;var s=1,t=1;switch(r){case"cover":s=Math.max(p,q);t=o.width*o.height/(s*s*h.videoWidth*h.videoHeight);break;case"contain":s=Math.min(p,q);break;default:c("FBLogger")("rtc_www").warn("Unknown object-fit type %s",r)}n.scaleRatio=s*s;n.croppingRatio=t;b.set(m.id,{contentType:"video",renderHeight:o.height,renderWidth:o.width})}}}j&&j(b)}function b(a,b){j=d("ZenonReceiverRenderedResolutionManager").useReceiverRenderedResolutionManager(),h(function(){var c=a.current;if(!b||!c)return;k(c,b);return function(){l(c)}},[a,b])}g.trackElement=k;g.untrackElement=l;g.updateStats=a;g.useMediaElementTracker=b}),98);
__d("percentile",[],(function(a,b,c,d,e,f){function g(a,b){return(a||0)-(b||0)}function a(a,b){return h(a.slice().sort(g),b)}function h(a,b){b=(a.length-1)*b;var c=Math.floor(b),d=Math.ceil(b);if(c===d)return a[b];var e=a[c]*(d-b);a=a[d]*(b-c);return e+a}e.exports=a;e.exports.fromSorted=h}),null);
__d("median",["percentile"],(function(a,b,c,d,e,f){function a(a){return b("percentile")(a,.5)}e.exports=a}),null);
__d("ZenonDeltaMediaStat",["median"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=0,this.$3=null}var b=a.prototype;b.add=function(a){this.$1.push(a),this.$2++,this.$3=a};b.getLastAddedValue=function(){return this.$3};b.getTotal=function(){var a=this.$1.reduce(function(a,b){return a+b},0);return a};b.getCount=function(){return this.$1.length};b.getAverage=function(){return this.getTotal()/this.getCount()};b.getMin=function(){return Math.min.apply(Math,this.$1)};b.getMax=function(){return Math.max.apply(Math,this.$1)};b.getMedian=function(){return c("median")(this.$1)};return a}();g["default"]=a}),98);
__d("ZenonFirstMediaPacketFinder",["Promise","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=500;a=function(){function a(a){this.$1={audio:null,screen:null,screen_audio:null,video:null},this.$2={audio:!1,screen:!1,screen_audio:!1,video:!1},this.$3=null,this.$4=a}var d=a.prototype;d.setUpForTrackType=function(a){var b=this;this.$2[a]=this.$1[a]==null;this.$2[a]&&this.$3==null&&(this.$3=window.setInterval(function(){b.$5()},h),this.$5())};d.getFirstPacketTimes=function(){return this.$1};d.$6=function(){return this.$4.getTransceivers().filter(function(a){return a.currentDirection==="sendrecv"||a.currentDirection==="recvonly"}).map(function(a){return a.receiver})};d.$7=function(){var a=this;return Object.keys(this.$2).some(function(b){return a.$2[b]&&a.$1[b]==null})};d.$5=function(){var a=this,d=this.$6().filter(function(a){return a.track!=null});d=d.map(function(b){var d=b.track;return d!=null?b.getStats().then(function(b){if(b.values)for(var b=b.values(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;g.type==="inbound-rtp"&&Number(g.packetsReceived)>0&&a.$1[d.kind]==null&&(a.$1[d.kind]=c("performanceNow")(),a.$3!=null&&!a.$7()&&(window.clearInterval(a.$3),a.$3=null))}}):null});b("Promise").all(d)};return a}();g["default"]=a}),98);
__d("ZenonHistogramCounter",[],(function(a,b,c,d,e,f){"use strict";var g=1e4;a=function(){function a(a,b,c){this.$1=[];this.$2=0;this.$3=0;this.$4=0;this.$5=!1;this.$6=1;if(a>b||c<=0)return;(Math.floor(a)!==a||Math.floor(b)!==b||Math.floor(c)!==c)&&(this.$6=g);this.$3=Math.floor(a*this.$6+.5);this.$2=Math.floor(c*this.$6+.5);a=Math.floor((Math.floor(b*this.$6+.5)-this.$3)/this.$2)+2;this.$1=new Array(a).fill(0);this.$4=this.$3+(a-2)*this.$2;this.$5=!0}var b=a.prototype;b.update=function(a){if(!this.$5||this.$1.length===0)return;a=Math.floor(a*this.$6+.5);if(a<this.$3)++this.$1[0];else if(a>=this.$4)this.$1[this.$1.length-1]++;else{a=Math.floor((a-this.$3+.5)/this.$2)+1;this.$1[a]++}};b.getStats=function(){return this.$5?this.$1:null};return a}();f["default"]=a}),66);
__d("ZenonCumulativeMediaStat",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=this.$5=this.$1=a,this.$7=this.$8=a,this.$9=!1,this.$4=this.$6=this.$2=c("performanceNow")(),this.$10=1}var b=a.prototype;b.$11=function(a){this.$5=this.$1,this.$6=this.$2,this.$1=a,this.$2=c("performanceNow")(),this.$10++};b.update=function(a){this.$7=this.$8;this.$8=a;a=this.$8-this.$7;a<0?(a=this.$8,this.$9=!0):this.$9=!1;this.$11(this.$1+a)};b.updateNonStrictCumulative=function(a){this.$7=this.$8,this.$8=a,this.$9=!1,this.$11(a)};b.isReset=function(){return this.$9};b.getCurrentValue=function(){return this.$1};b.getDeltaValue=function(){return this.$1-this.$3};b.getDeltaFromLastUpdate=function(){return this.$1-this.$5};b.getTimeSinceLastUpdate=function(){return this.$2-this.$6};b.getElapsedTime=function(){return this.$2-this.$4};b.getPreviousTime=function(){return this.$6};b.getCurrentTime=function(){return this.$2};b.getAverageOverTime=function(){return this.getDeltaValue()/this.getElapsedTime()};b.getCurrentTimeSinceLastUpdate=function(){return c("performanceNow")()-this.$2};b.getCount=function(){return this.$10};b.getFirstValue=function(){return this.$3};return a}();g["default"]=a}),98);
__d("ZenonMediaStatsSerializer",["ZenonCallFalcoEventUtils","ZenonCumulativeMediaStat","ZenonMediaStatsConfig","ZenonRenderedView"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACKID,d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID,d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID,d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID,d("ZenonMediaStatsConfig").PINNED_AUDIO_STATS_TRACK_INFO.trackId,d("ZenonMediaStatsConfig").PINNED_VIDEO_STATS_TRACK_INFO.trackId],i=1e4,j={tet:1e3,tpsd:1e3};function a(a,b,e,f,g,h,i){e={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},extraInfo:{mediaPacketTimes:e.getFirstPacketTimes()},receiver:{},receiver_pct:{audio:{}},sender:{},sender_pct:{screen:{},video:{}},video:{}};var j={},p=b.get(d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACKID);p!=null&&(s(p,e.sender),z(p,e.CoreAudioMetrics));p=b.get(d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID);p!=null&&(w(f,e.video,p),u(f,e.video,p,j),C(e.sender_pct.screen,p,c("ZenonRenderedView").GRID,"screen"));var t=b.get(d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID);t!=null&&(u(f,e.video,t,j),C(e.sender_pct.video,t,c("ZenonRenderedView").GRID,"video"));(p!=null||t!=null)&&x(e.video,t,p);o(b,e);k(b,e);m(a,b,e,h,i);l(b,e,j,f);q(b,e,j);r(e,j);n(e,g);return e}function k(a,b){a.forEach(function(a){var c=a.localIceCandidateStats;a=a.remoteIceCandidateStats;!b.extraInfo.localIceCandidate&&c&&(b.extraInfo.localIceCandidate=c);!b.extraInfo.remoteIceCandidate&&a&&(b.extraInfo.remoteIceCandidate=a)})}function l(a,b,c,d){a.forEach(function(a,e){!h.includes(e)&&a.remote===!0&&(a.contentType==="audio"?(t(a,e,b,c),y(a,c)):a.contentType==="video"&&v(d,b.video,a,c))})}function m(a,b,c,d,e){b.forEach(function(b,f){if(b.remote===!1){b=(b=d.get(f))!=null?b:a.get(f);if(b==null)return;b.enabled===!0&&b.webrtcTrack.readyState==="live"&&(b.contentType==="audio"?p(e.audioDevices,b):b.contentType==="video"&&p(e.videoDevices,b));e.audioDevices.length>0&&(c.CoreAudioMetrics.audio_device=e.audioDevices[e.audioDevices.length-1]);e.videoDevices.length>0&&(c.CoreVideoMetrics.video_device=e.videoDevices[e.videoDevices.length-1]);return}})}function n(a,b){b=(b=b.getStats())!=null?b:[];var c=b.some(function(a){return a>0});if(c){a.video.receiver=(c=a.video.receiver)!=null?c:{};a.video.receiver.avhist=b}}function o(a,b){var c=a.get(d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID);a=a.get(d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID);c!=null&&A(c,b.CoreVideoMetrics.video);a!=null&&A(a,b.CoreVideoMetrics.screen)}function p(a,b){a.length===0?a.push(b.label):b.label!==a[a.length-1]&&a.push(b.label)}function q(a,b,c){c.totalRxLevel!=null&&c.totalRxLevelCount!=null&&c.totalRxLevelCount>0&&(b.CoreAudioMetrics.rx_chan_proc_lvl=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(c.totalRxLevel/c.totalRxLevelCount)));c=a.get(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID);if(c==null)return;a=c.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL];c=c.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];a&&c&&(b.receiver.rx_sum_lvl=a.getCurrentValue(),b.receiver.taulc=c.getCurrentValue())}function r(a,b){var c={},e=a.receiver,f=e.jbd;e=e.jbec;if(f!=null&&e!=null&&e>0){f=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(f/e));c.neteq={meanWait:f}}e=b.maxSpeechExpandRate!=null?Math.round(b.maxSpeechExpandRate*i):null;f=b.minSpeechExpandRate!=null?Math.round(b.minSpeechExpandRate*i):null;b=b.countSpeechExpandRate!=null&&b.countSpeechExpandRate>0&&b.sumSpeechExpandRate!=null?Math.round(b.sumSpeechExpandRate*i/b.countSpeechExpandRate):null;(e!=null||b!=null||f!=null)&&(c.speech_expand_rate={M:d("ZenonCallFalcoEventUtils").nonNullIntNumber(e),avg:d("ZenonCallFalcoEventUtils").nonNullIntNumber(b),m:d("ZenonCallFalcoEventUtils").nonNullIntNumber(f)});a.DebugAudioMetrics.NetworkReceive={jb_nm:c}}function s(a,b){var c=a.cumulativeStat,e=c.bytesSent;c=c.packetsSent;var f=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],g=a.deltaStat.googRtt,h=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL],i=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];f=new Map([["bytes",e],["plost",f],["psent",c]]);f.forEach(function(a,c){a!=null&&c!=="codec"&&c!=="ice"&&c!=="ice_g0"&&(b[c]=a.getCurrentValue())});if(e){c=e.getElapsedTime();c>0&&(b.ube_avg=Math.round(e.getDeltaValue()*8/c*1e3))}if(g){f=g.getTotal();e=g.getCount();if(e>0){b.avgrtt=Math.round(f/e);b.maxrtt=Math.max((c=b.maxrtt)!=null?c:Number.MIN_SAFE_INTEGER,g.getMax());b.minrtt=Math.min((f=b.minrtt)!=null?f:Number.MAX_SAFE_INTEGER,g.getMin())}}a.codec!=null&&a.codec!==""&&(b.codec={www:a.codec});h&&i&&(b.tx_sum_lvl=h.getCurrentValue(),b.taulc=i.getCurrentValue());return b}function t(a,b,e,f){var g=e.receiver;a.codec!=null&&a.codec!==""&&(g.codec==null&&(g.codec={}),g.codec[b]=a.codec);b=a.cumulativeStat;var h=b.bytesReceived,i=b.fecPacketsDiscarded,j=b.fecPacketsReceived,k=b.googDecodingCNG,l=b.googDecodingCTN,m=b.googDecodingNormal,n=b.googDecodingPLC,o=b.googDecodingPLCCNG,p=b.insertedSamplesForDeceleration,q=b.jitterBufferDelay,r=b.jitterBufferEmittedCount,s=b.packetsReceived,t=b.removedSamplesForAcceleration,u=b.totalAudioEnergy,v=b.totalSamplesDuration;b=b.totalSamplesReceived;var w=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],x=a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY],y=a.deltaStat,z=y.googRtt,A=y.googSpeechExpandRate;y=y.jitter;if(h){var B=h.getElapsedTime();if(B>0){var C=E(g.dbe_total_bytes,h.getDeltaValue());g.dbe_total_bytes=C;B=E(g.dbe_total_time,B);g.dbe_total_time=B;g.dbe_avg=Math.round(C*8/B*1e3)}}if(x!=null&&s!=null){f.sumAudioE2eLatency=((C=f.sumAudioE2eLatency)!=null?C:0)+x.getAverage()*s.getCurrentValue();f.countAudioE2eLatency=((B=f.countAudioE2eLatency)!=null?B:0)+s.getCurrentValue();f.sumAudioE2eLatency!=null&&f.countAudioE2eLatency>0&&(g.e2el=Math.round(f.sumAudioE2eLatency/f.countAudioE2eLatency))}if(z){f.sumrtt=((C=f.sumrtt)!=null?C:0)+z.getTotal();f.countrtt=((x=f.countrtt)!=null?x:0)+z.getCount();f.sumrtt!=null&&f.countrtt>0&&(g.avgrtt=Math.round(f.sumrtt/f.countrtt));g.maxrtt=Math.max((B=g.maxrtt)!=null?B:Number.MIN_SAFE_INTEGER,z.getMax());g.minrtt=Math.min((C=g.minrtt)!=null?C:Number.MAX_SAFE_INTEGER,z.getMin());D(e.receiver_pct.audio,a,c("ZenonRenderedView").GRID,"audio")}if(A){f.sumSpeechExpandRate=((x=f.sumSpeechExpandRate)!=null?x:0)+A.getTotal();f.countSpeechExpandRate=((B=f.countSpeechExpandRate)!=null?B:0)+A.getCount();f.maxSpeechExpandRate=Math.max((C=f.maxSpeechExpandRate)!=null?C:Number.MIN_SAFE_INTEGER,A.getMax());f.minSpeechExpandRate=Math.min((z=f.minSpeechExpandRate)!=null?z:Number.MAX_SAFE_INTEGER,A.getMin())}q&&(g.jbd=E(g.jbd,1e3*q.getCurrentValue()));u&&(g.taue=E(g.taue,1e5*u.getCurrentValue()),g.taut=E(g.taut,u.getElapsedTime()));v&&(g.sp_dur=E(g.sp_dur,1e3*v.getCurrentValue()));if(b){e=b.getCurrentValue();if(e>0&&l!=null){if(t!=null){a=Math.round(t.getCurrentValue()*l.getCurrentValue()/e);g.dec_ar=E(g.dec_ar,a)}if(p){x=Math.round(p.getCurrentValue()*l.getCurrentValue()/e);g.dec_per=E(g.dec_per,x)}}}B=new Map([["dec_plc",n],["dec_plc_cng",o],["dec_cng",k],["dec_normal",m],["neteq_calls",l],["decel_cnt",p],["bytes",h],["plost",w],["precv",s],["fecpd",i],["fecpr",j],["jbec",r],["sp_dur",v],["sp_r",b]]);B.forEach(function(a,b){a!=null&&b!=="codec"&&b!=="ice"&&b!=="ice_g0"&&(g[b]=E(g[b],a.getCurrentValue()))});if(y&&s&&g.precv!=null&&g.precv>0){C=g.precv;z=y.getTotal()*s.getCurrentValue();f.weightedJitterSum=((A=f.weightedJitterSum)!=null?A:0)+z;g.jitter=Math.round(1e3*f.weightedJitterSum/C)}return g}function u(a,b,e,f){b.ld=Math.round(a.getLocalVideoDuration());var g=b.sender||{};e.codec!=null&&e.codec!==""&&(g.ename=e.codec);if(e.histResScale){g.histResScale==null&&(g.histResScale=new Array(5).fill(0));var h=g.histResScale;h.forEach(function(a,b){h[b]+=e.histResScale[b]})}a=e.cumulativeStat;var i=a.bytesSent,k=a.captureFrameCount,l=a.firCount,m=a.framesEncoded,n=a.framesSent,o=a.keyFramesEncoded,p=a.nackCount,q=a.packetsSent,r=a.pliCount,s=a.simulcast_layer_changes,t=a.totalEncodeTime,u=a.totalPacketSendDelay,v=a.videoConvertedQpSum,w=a.videoSumCapturePixel;a=a.videoSumPixel;var x=e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],y=e.deltaStat,z=y.frameHeight,A=y.frameWidth,B=y.height;y=y.width;i=new Map([["enc_bytes",i],["eiframes",k],["eqps",v],["plost",x],["psent",q],["pli",r],["fcsn",n],["fir",l],["tet",t],["tpsd",u],["fcap",k],["frames",m],["kframes",o],["nack",p],["sim_l_chg",s],["ah",z],["aw",A],["ch",B],["cw",y]]);i.forEach(function(a,b){if(a!=null&&b!=="ename"&&b!=="histResScale"&&b!=="ehist"&&b!=="ss")if(a instanceof c("ZenonCumulativeMediaStat")){var d;d=(d=j[b])!=null?d:1;g[b]=E(g[b],a.getCurrentValue()*d)}else{g[b]=Math.round((d=a.getLastAddedValue())!=null?d:0)}});b.ld!=null&&b.ld>0&&g.frames!=null&&g.frames>0&&(g.efrate=Math.round(g.frames*1e3/b.ld));if(w&&g.fcap!=null&&g.fcap>0){v=g.fcap;f.videoSumCapturePixel=E((x=f.videoSumCapturePixel)!=null?x:void 0,w.getCurrentValue());g.video_sum_capture_pixel=f.videoSumCapturePixel;g.eipxl=Math.round(f.videoSumCapturePixel/v)}if(a&&g.frames!=null&&g.frames>0){q=g.frames;f.videoSumPixel=E((r=f.videoSumPixel)!=null?r:void 0,a.getCurrentValue());g.video_sum_encoded_pixel=f.videoSumPixel;g.eopxl=Math.round(f.videoSumPixel/q)}e.codecHistory!=null&&(g.ehist=Object.fromEntries(e.codecHistory.map(function(a){var b=a.codec;a=a.updateTime;return[Math.round(a).toString(),b]})));b.sender=g}function v(a,b,c,e){b.rd=Math.round(a.getRemoteVideoDuration());a=b.receiver;var f=a===void 0?{}:a;c.codec!=null&&c.codec!==""&&c.lastUpdate>((a=e.lastCodecUpdate)!=null?a:Number.MIN_SAFE_INTEGER)&&(f.dname=c.codec,e.lastCodecUpdate=c.lastUpdate);a=c.cumulativeStat;var g=a.bytesReceived,h=a.firCount,i=a.framesDecoded,j=a.framesReceived,k=a.jitterBufferDelay,l=a.jitterBufferEmittedCount,m=a.jitterBufferFramesSentToDecoder,n=a.keyFramesDecoded,o=a.nackCount,p=a.packetsReceived,q=a.pliCount,r=a.totalDecodeTime,s=a.tracktimestamp,t=a.videoConvertedQpSum,u=a.videoDecodedBytes,v=a.videoDecodeTime,w=a.videoFreezeCount,x=a.videoFreezeDuration,y=a.videoFreezeDuration500ms,z=a.videoPauseCount,A=a.videoPauseDuration;a=a.videoSumPixel;var B=c.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],C=c.deltaStat,D=C.avSync,F=C.avSyncAbs,G=C.e2eLatency,H=C.frameHeight;C=C.frameWidth;if(i){if(c.maxTotalDecodeTime!=null){f.dec_time=Math.round(Math.max(c.maxTotalDecodeTime,(c=f.dec_time)!=null?c:0))}c=E(f.frd,i.getCurrentValue());if(G&&c>0){var I;G=G.getAverage()*i.getCurrentValue();f.e2el=(I=f.e2el)!=null?I:0;f.frd=(I=f.frd)!=null?I:0;f.e2el=Math.round((f.e2el*f.frd+G)/c)}if(a!=null&&c>0){G=((I=e.aggVideoSumPixel)!=null?I:0)+a.getCurrentValue();f.dpxl=Math.round(G/c);e.aggVideoSumPixel=G;f.agg_video_sum_decoded_pixel=G}if(D!=null&&F!=null&&c>0){a=((I=e.weigtedAvSync)!=null?I:0)+D.getAverage()*i.getCurrentValue();I=((G=e.weigtedAvSyncAbs)!=null?G:0)+F.getAverage()*i.getCurrentValue();f.av=Math.round(a/c);f.avabs=Math.round(I/c);e.weigtedAvSync=a;e.weigtedAvSyncAbs=I}f.frd=c;f.dec_frame=c}if(C&&H&&s.getCurrentTime()>((D=e.lastFrameUpdate)!=null?D:Number.MIN_SAFE_INTEGER)){f.rh=(G=H.getLastAddedValue())!=null?G:0;f.rw=(F=C.getLastAddedValue())!=null?F:0;e.lastFrameUpdate=s.getCurrentTime()}r&&(f.tdt=E(f.tdt,1e3*r.getCurrentValue()));k&&(f.jbd=E(f.jbd,1e3*k.getCurrentValue()));i=new Map([["recv",g],["qps",t],["plost",B],["precv",p],["pli",q],["pact",z],["padur",A],["jbec",l],["jtasb",j],["jtfrm",m],["jtkey",n],["nack",o],["fir",h],["frcnt",w],["frdur",x],["frdur500",y],["dec_time_all_streams",v],["dec_bytes",u]]);i.forEach(function(a,b){a!=null&&b!=="dname"&&b!=="avhist"&&(f[b]=E(f[b],a.getCurrentValue()))});f.jbd!=null&&f.jbec!=null&&f.jbec>0&&(f.recjbl=Math.round(f.jbd/f.jbec));b.receiver=f}function w(a,b,c){var d,e=((d=b.sender)==null?void 0:d.ss)||{};e.dur=Math.round(a.getLocalScreenShareDuration());d=c.cumulativeStat;a=d.captureFrameCount;var f=d.framesEncoded,g=d.videoBytesSent,h=d.videoConvertedQpSum,i=d.videoSumCapturePixel;d=d.videoSumPixel;c=c.deltaStat.availableOutgoingBitrate;a=new Map([["eiframes",a],["eqps",h],["frames",f]]);a.forEach(function(a,b){a!=null&&(e[b]=a.getCurrentValue())});if(i!=null&&e.eiframes!=null&&e.eiframes>0){h=e.eiframes;e.video_sum_capture_pixel=i.getCurrentValue();e.eipxl=Math.round(i.getCurrentValue()/h)}if(d!=null&&e.frames!=null&&e.frames>0){f=e.frames;e.video_sum_encoded_pixel=d.getCurrentValue();e.eopxl=Math.round(d.getCurrentValue()/f)}c&&(e.avbw=Math.round(c.getAverage()));if(g&&e.dur!=null&&e.dur>0){a=e.dur;e.avbr=Math.round(g.getCurrentValue()*8/a)}b.sender=(i=b.sender)!=null?i:{};b.sender.ss=e}function x(a,b,c){b=(b=b==null?void 0:b.deltaStat)!=null?b:{};b=b.googActualEncBitrate;c=(c=c==null?void 0:c.deltaStat)!=null?c:{};c=c.googActualEncBitrate;var d=0,e=0;b!=null&&(d+=b.getTotal(),e+=b.getCount());c!=null&&(d+=c.getTotal(),e+=c.getCount());e!==0&&(a.bwe={avg_enc_bitrate:Math.round(d/e)})}function y(a,b){var c=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL];a=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];if(c&&a){var e;b.totalRxLevel=((e=b.totalRxLevel)!=null?e:0)+c.getCurrentValue();b.totalRxLevelCount=((e=b.totalRxLevelCount)!=null?e:0)+a.getCurrentValue()}}function z(a,b){var c=a.cumulativeStat,e=c.audioDevRecStalls,f=c.audioDevStallDuration;c=c.audioDevTotalStalls;var g=a.deltaStat.audioDevIsStalled;c=new Map([["astall",c],["sdur",f],["rstall",e]]);c.forEach(function(a,c){a!=null&&c!=="audio_device"&&c!=="rx_chan_proc_lvl_hist"&&c!=="voice_detect_pct"&&(b[c]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(a.getCurrentValue())))});if(g){b.isstall=d("ZenonCallFalcoEventUtils").nonNullIntNumber((f=g.getLastAddedValue())!=null?f:0)}e=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL];c=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];c!=null&&c.getCurrentValue()>0&&e!=null&&(b.captured_lvl=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(e.getCurrentValue()/c.getCurrentValue())),b.loudness_level=String(e.getCurrentValue()),b.loudness_level_count=String(c.getCurrentValue()))}function A(a,b){var c=a.cumulativeStat,d=c.videoCaptureStallDuration,e=c.videoCaptureTotalStalls,f=c.videoEncodeStallDuration,g=c.videoEncodeTotalStalls,h=c.videoSentStallDuration;c=c.videoSentTotalStalls;a=a.deltaStat;var i=a.videoCaptureIsStalled,j=a.videoEncodeIsStalled;a=a.videoSentIsStalled;B(b.capture_stall,e,d,i);B(b.encode_stall,g,f,j);B(b.sent_stall,c,h,a)}function B(a,b,c,e){b=new Map([["nstall",b],["sdur",c]]);b.forEach(function(b,c){b!=null&&c!=="video_device"&&(a[c]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(b.getCurrentValue())))});if(e){a.is_stall=d("ZenonCallFalcoEventUtils").nonNullIntNumber((c=e.getLastAddedValue())!=null?c:0)}}function C(a,b,c,e){if(a!=null){b=b.percentStat;var f=b.encodedFrameRate,g=b.roundTripTime,h=b.videoQP;b=b.videoQuality;f=new Map([["efr",f],["vqs",b],["vrtt",g],["qp",h]]);f.forEach(function(b,f){if(b!=null){b=b.getAvgAndPercentile(d("ZenonMediaStatsConfig").PERCENTILES_REQUESTED,c,e);a[f]={};b.avg!=null&&a[f]!=null&&(a[f].avg=b.avg);b.percentiles!=null&&a[f]!=null&&(a[f].p5=b.percentiles[0],a[f].p50=b.percentiles[1],a[f].p95=b.percentiles[2])}})}}function D(a,b,c,e){if(a==null)return;b=b.percentStat;var f=b.jitterBufferDelay;b=b.roundTripTime;f=new Map([["jbd",f],["rtt",b]]);f.forEach(function(b,f){if(b!=null){b=b.getAvgAndPercentile(d("ZenonMediaStatsConfig").PERCENTILES_REQUESTED,c,e);a[f]={};b.avg!=null&&a[f]!=null&&(a[f].avg=b.avg);b.percentiles!=null&&a[f]!=null&&(a[f].p5=b.percentiles[0],a[f].p50=b.percentiles[1],a[f].p95=b.percentiles[2])}})}function E(a,b){return a===void 0?Math.round(b):Math.round(a+b)}g.getMediaStats=a;g.addAudioReceiverPercentStats=D}),98);
__d("ZenonMediaStatsManager",["FBLogger","Network","ZenonDeltaMediaStat","ZenonFirstMediaPacketFinder","ZenonHistogramCounter","ZenonMediaActionLogger","ZenonMediaStatsConfig","ZenonMediaStatsReportPoller","ZenonMediaStatsSerializer","ZenonNetworkQualityMonitor","ZenonRenderedView","cr:1234","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,e,f,g,h,i,j){j===void 0&&(j=5e3),this.$9=null,this.__iceconnectionstate="disconnected",this.$1=a,this.$2=f,this.$3=g,this.$4=e,this.$6=h,this.$7=new(b("cr:1234"))(),this.__videoDurationTracker=i,this.$8=j,this.$5=function(){},this.$10=new(d("ZenonNetworkQualityMonitor").ZenonNetworkQualityMonitor)(),this.$11={audioDevices:[],videoDevices:[]},this.$12=new(c("ZenonFirstMediaPacketFinder"))(a),this.$13=new(c("ZenonHistogramCounter"))(200,1e3,200),this.$14=new Map(),this.$15=new Map()}var e=a.prototype;e.listen=function(){var a=this;this.$1.addEventListener("iceconnectionstatechange",function(b){b=b.target;a.__iceconnectionstate=b.iceConnectionState;switch(a.__iceconnectionstate){case"connected":a.pollRecurring();break;case"failed":case"disconnected":a.updateNetworkStatus(a.$10.determineNetworkStatus(null,!0));break}})};e.pollOnce=function(){var a;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0;a=Array.from(new Set([].concat(Array.from(this.$2.values()),Array.from(this.$3.values()))));e.next=4;return b("regeneratorRuntime").awrap(d("ZenonMediaStatsReportPoller").updateStatsFromConnection(a,this.$4,this.$13,this.$1,this.$7,this.$8));case 4:this.$9!=null&&this.$6(d("ZenonMediaStatsSerializer").getMediaStats(this.$2,this.$4,this.$12,this.__videoDurationTracker,this.$13,this.$3,this.$11));e.next=7;return b("regeneratorRuntime").awrap(d("ZenonMediaStatsReportPoller").updateVideoCodecFromReceivers(a,this.$1,this.$15));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),c("FBLogger")("rtc_www").catching(e.t0).warn("Error polling media metrics.");case 12:this.updateNetworkStatus(this.$10.determineNetworkStatus(this.$4,this.__iceconnectionstate==="failed"||this.__iceconnectionstate==="disconnected")),this.updateNetworkHealthStats();case 14:case"end":return e.stop()}},null,this,[[0,9]])};e.pollRecurring=function(){var a=this;if(this.$9!=null)return;this.$9=window.setInterval(function(){return a.pollOnce()},this.$8);this.pollOnce()};e.stopPolling=function(){this.$9!=null&&(window.clearInterval(this.$9),this.$9=null),this.logNetworkHealthStats(),this.logAudioReceiverStats()};e.onRemoteTrackAdded=function(a){this.$12.setUpForTrackType(a.contentType)};e.timeSeries=function(){return this.$7.serialize()};e.resetTimeSeries=function(){this.$7=new(b("cr:1234"))()};e.registerNetworkStatusListener=function(a){this.$5=a};e.updateNetworkStatus=function(a){this.$5(a)};e.updateNetworkHealthStats=function(){if(!c("Network").containsNetworkInformation())return;for(var a=d("ZenonMediaStatsConfig").NETWORK_HEALTH_STATS.values(),b=Array.isArray(a),e=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=this.$14.get(f);g==null&&(g=new(c("ZenonDeltaMediaStat"))(),this.$14.set(f,g));this.$16(f,g)}};e.$16=function(a,b){var e=0;switch(a){case"bandwidth":e=c("Network").getBandwidth();break;case"rtt":e=c("Network").getRTT();break;default:c("FBLogger")("rtc_www").warn(a+" stats collection is not implemented")}e!=null?b.add(e):d("ZenonMediaStatsConfig").isPreChromium86()&&c("FBLogger")("rtc_www").warn(a+" in null. Skipped logging")};e.logNetworkHealthStats=function(){var a;a=JSON.stringify({bandwidth:(a=this.$14.get("bandwidth"))==null?void 0:a.getAverage(),rtt:(a=this.$14.get("rtt"))==null?void 0:a.getAverage()});c("ZenonMediaActionLogger").logEvent({checkpoint:"Network health stats "+a})};e.logAudioReceiverStats=function(){var a={jbd:{},rtt:{}};this.$4.forEach(function(b){d("ZenonMediaStatsSerializer").addAudioReceiverPercentStats(a,b,c("ZenonRenderedView").GRID,"audio")});var b=JSON.stringify({AudioPercent:a});c("ZenonMediaActionLogger").logEvent({checkpoint:"Audio Receiver_pct Stats "+b})};e.getNetworkHealthStats=function(){return this.$14};return a}();g["default"]=a}),98);
__d("ZenonAudioLevelDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=9.5/Math.log(32767);function i(a,b){a=Math.round(20+h*Math.log(a/b));a=Math.max(1,Math.min(a,20));return a}function j(a,b){var c=-127;a>0&&b>0&&(c=Math.round(10*Math.log10(a/b)),c=Math.max(-127,Math.min(c,0)));c+=127;return c}function k(a,b,e){a!=null&&(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL]==null?e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL]=new(c("ZenonCumulativeMediaStat"))(a):e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL].update(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL].getCurrentValue()+a)),b!=null&&(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL]==null?e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL]=new(c("ZenonCumulativeMediaStat"))(b):e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL].update(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL].getCurrentValue()+b)),e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT]==null?e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT]=new(c("ZenonCumulativeMediaStat"))(1):e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT].update(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT].getCurrentValue()+1)}function a(a,b){var c=0,e=0;a.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.contentType==="audio"}).forEach(function(a){if(a.remote&&a.webrtcTrack.enabled===!1)return;var d=b.get(a.trackId);if(d==null||d.cumulativeStat.totalAudioEnergy==null||d.cumulativeStat.totalSamplesDuration==null)return;var f=d.cumulativeStat,g=f.totalAudioEnergy;f=f.totalSamplesDuration;g=g.getDeltaFromLastUpdate();f=f.getDeltaFromLastUpdate();if(f===0)return;if(a.remote===!0){c+=g;e=Math.max(e,f);a=i(g,f);k(a,null,d)}else{a=j(g,f);k(null,a,d)}});a=b.get(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID);if(a==null||e===0)return;var f=j(c,e);k(null,f,a)}g.computeAudioLevels=a}),98);
__d("ZenonAudioPlaybackIssueLogger",["ZenonMediaActionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.detectAudioPlaybackIssue=function(a,b){var c=this;a.filter(function(a){return a.webrtcTrack.enabled&&a.webrtcTrack.readyState==="live"&&a.contentType==="audio"&&a.remote}).forEach(function(a){var d=b.get(a.trackId);if(d==null)return;d=d.cumulativeStat;var e=d.bytesReceived;d=d.totalAudioEnergy;if(e==null||d==null||e.getTimeSinceLastUpdate()===0)return;d=d.getDeltaFromLastUpdate();var f=e.getDeltaFromLastUpdate()*8;e=e.getTimeSinceLastUpdate()/1e3;f=f/e;c.$1.has(a.trackId)||c.$1.set(a.trackId,!1);e=c.$1.get(a.trackId);d===0&&f>h?e===!1&&(c.logAudioPlaybackIssueCheckpoint("start",a.trackId,f,d),c.$1.set(a.trackId,!0)):e===!0&&(c.logAudioPlaybackIssueCheckpoint("end",a.trackId,f,d),c.$1.set(a.trackId,!1))})};b.logAudioPlaybackIssueCheckpoint=function(a,b,d,e){c("ZenonMediaActionLogger").logEvent({checkpoint:(a==="start"?"Detected new":"No longer detecting")+" audio playback issue for track "+b+". Bitrate is "+d+" bps, audio energy delta is "+e+".",mediaID:b})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonHistogram",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return(a.value||0)-(b.value||0)}a=function(){function a(){this.$1=[],this.$2=!0}var b=a.prototype;b.$3=function(){this.$2===!1&&this.$1.sort(g),this.$2=!0};b.add=function(a){this.$1.push(a),this.$2=!1};b.getAvgAndPercentile=function(a,b){this.$2||this.$3();var c=b?this.$1.filter(b):this.$1;if(c.length===0)return{avg:null,percentiles:null};b=c.reduce(function(a,b){return a+b.value},0)/c.length;a=a.map(function(a){a=Math.min(100,Math.max(0,a));a=(c.length-1)*a/100;var b=Math.floor(a),d=Math.ceil(a);if(b===d)return c[b].value;var e=c[b].value*(d-a);d=c[d].value*(a-b);return e+d});return{avg:b,percentiles:a}};return a}();f["default"]=a}),66);
__d("ZenonPercentMediaStat",["ZenonHistogram","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("ZenonHistogram"))()}var b=a.prototype;b.add=function(a,b,c,d){c={contentType:c,value:a,view:b,voiceEnergy:d};this.$1.add(c)};b.getAvgAndPercentile=function(a,b,c,e){var f;e==null?f=function(a){return a.view===b&&a.contentType===c}:f=function(a){var f=a.voiceEnergy>d("ZenonMediaStatsConfig").VOICE_ENERGY_THRESHOLD;return a.view===b&&a.contentType===c&&f===e};return this.$1.getAvgAndPercentile(a,f)};return a}();g["default"]=a}),98);
__d("ZenonAudioReceiverStatsUtils",["ZenonMediaStatsConfig","ZenonPercentMediaStat"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.forEach(function(a){a=b.get(a.trackId);a!=null&&(h(a,"roundTripTime",i(a,"googRtt",1),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType?a.contentType:d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,0),h(a,"jitterBufferDelay",j(a,"jitterBufferDelay","jitterBufferEmittedCount",1e3),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType?a.contentType:d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,0))})}function h(a,b,d,e,f,g){if(d==null)return;a.percentStat[b]==null&&(a.percentStat[b]=new(c("ZenonPercentMediaStat"))());a.percentStat[b].add(d,e,f,g)}function i(a,b,c){if(a.deltaStat[b]){a=a.deltaStat[b].getLastAddedValue();return a!=null?a*((b=c)!=null?b:1):null}return null}function j(a,b,c,d){if(a.cumulativeStat[c]&&a.cumulativeStat[c].getDeltaFromLastUpdate()!==0&&a.cumulativeStat[b]!=null){b=a.cumulativeStat[b].getDeltaFromLastUpdate()/a.cumulativeStat[c].getDeltaFromLastUpdate();return b*((a=d)!=null?a:1)}return null}g.updateTracksWithAudioReceivePercentStats=a;g.addPercentStatToTracker=h;g.getValueFromDelta=i;g.getRateFromCumulative=j}),98);
__d("ZenonSimulcastStats",[],(function(a,b,c,d,e,f){"use strict";b=function(){function a(){this.$1=0,this.$2=new Map(),this.$3=new Map()}var b=a.prototype;b.update=function(a){a=g(a,this.$2,this.$3);var b=0;for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];f&&b++}if(this.$3.size===0)b>0&&this.$1++;else{f=!1;for(var e=a,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;b=e[c++]}else{c=e.next();if(c.done)break;b=c.value}b=b;var h=b[0];b=b[1];(!this.$3.has(h)||this.$3.get(h)!==b)&&(f=!0)}f&&this.$1++}this.$3=a};b.getNumLayerChanges=function(){return this.isSimulcastCall()?this.$1:0};b.isSimulcastCall=function(){return this.$3.size>1};return a}();function g(a,b,c){var d=new Map();for(var a=a.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(g.ssrc===void 0||g.framesSent===void 0)continue;var h=String(g.ssrc);g=Number(g.framesSent);if(b.has(h)){var i=b.get(h);i!==void 0&&d.set(h,g>i)}else d.set(h,g>0);b.set(h,g)}for(var i=c,h=Array.isArray(i),g=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=i.length)break;f=i[g++]}else{g=i.next();if(g.done)break;f=g.value}e=f;a=e[0];e[1];d.has(a)||d.set(a,!1)}return d}function a(a){if(a.length===1)return a[0];var b=null,c=null,d=0;for(var e=0;e<a.length;e++){var f=a[e];if(f.frameWidth){var g=Number(f.frameWidth),h=!1;(c==null||g<c)&&(c=g,h=!0);var i=!1;if(f.framesEncoded){var j=Number(f.framesEncoded);j>d&&(i=!0,d=j)}(h||g===c&&i)&&(b=f)}}return b}f.ZenonSimulcastStats=b;f.getBaseLayerReport=a}),66);
__d("ZenonVideoScaleHistogram",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a>=.765625)return 0;else if(a>=.390625)return 1;else if(a>=.19140625)return 2;else if(a>=.09765625)return 3;return 4}function a(a,b){var c=["video","screen"];a.filter(function(a){return c.includes(a.contentType)&&a.remote===!1}).forEach(function(a){a=b.get(a.trackId);if(!a||!a.cumulativeStat||!a.histResScale)return;var c=a.cumulativeStat,d=c.framesEncoded;c=c.tracktimestamp;var e=a.deltaStat,f=e.frameHeight,h=e.frameWidth,i=e.height;e=e.width;if(d!=null&&e!=null&&i!=null&&h!=null&&f!=null&&d.getDeltaFromLastUpdate()>0&&c.getCurrentValue()>a.lastUpdate){c=d.getDeltaFromLastUpdate();d=((d=e.getLastAddedValue())!=null?d:0)*((e=i.getLastAddedValue())!=null?e:0);h=((i=h.getLastAddedValue())!=null?i:0)*((e=f.getLastAddedValue())!=null?e:0);if(d>0){i=h/d;f=g(i);a.histResScale[f]+=c}}})}f.getBinFromScale=g;f.updateTrackerWithScaleHistogram=a}),66);
__d("ZenonMediaStatsParser",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonSimulcastStats","ZenonVideoScaleHistogram","isTruthy","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=["inbound-rtp","outbound-rtp","track","media-source","candidate-pair"];function i(a,b){var c=new Map();b.forEach(function(b,d){(b.type==="ssrc"&&b.googTrackId!=null&&b.googTrackId===a.webrtcTrack.id||b.type==="VideoBwe"||b.type==="googCandidatePair"&&b.googActiveConnection==="true"&&b.googRtt!=null)&&c.set(d,b)});return c}function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];h.includes(e.type)&&b.set(f,e)}return b}function j(a,b){var e=b.contentType,f=b.remote;b=b.trackId;var g=a.get(b);g==null&&(g={codec:null,contentType:e,cumulativeStat:{},deltaStat:{},duration:0,histResScale:new Array(d("ZenonVideoScaleHistogram").getBinFromScale(0)+1).fill(0),lastUpdate:0,maxTotalDecodeTime:0,percentStat:{},remote:f,startTime:c("performanceNow")()},a.set(b,g));return g}function k(a){return d("ZenonMediaStatsConfig").CUMULATIVE_STATS.includes(a)}function l(a){return d("ZenonMediaStatsConfig").DELTA_STATS.includes(a)}function b(a){if(a instanceof Map)return a;var b=new Map();if(a.result)for(var c=a.result(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g={id:f.id,timestamp:f.timestamp,type:f.type};for(var h=f.names(),i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;g[k]==null&&(g[k]=f.stat(k))}b.set(g.id,g)}else for(var k=a.values(),j=Array.isArray(k),i=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(i>=k.length)break;h=k[i++]}else{i=k.next();if(i.done)break;h=i.value}f=h;b.set(f.id,f)}return b}function e(a,b,c){c=i(a,c);for(var c=c.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=j(b,a);p(a,g,f);f=n(f);f!=null&&(g.codec=f)}}function f(a,b,c){var e=null,f=[];for(var c=c.values(),g=Array.isArray(c),h=0,c=g?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;i.type==="outbound-rtp"&&i.trackId&&(e=j(b,a),typeof i.trackId==="string"&&(e.sender=i.trackId));switch(i.type){case"inbound-rtp":e=j(b,a);q(e,i,d("ZenonMediaStatsConfig").getInboundRtpStats().concat(d("ZenonMediaStatsConfig").getRtpStats()));break;case"outbound-rtp":i.kind==="video"?f.push(i):(e=j(b,a),q(e,i,d("ZenonMediaStatsConfig").getOutboundRtpStats().concat(d("ZenonMediaStatsConfig").getRtpStats())));break;case"media-source":e=j(b,a);q(e,i,d("ZenonMediaStatsConfig").getMediaSourceStats());break;case"track":e=j(b,a);q(e,i,d("ZenonMediaStatsConfig").getTrackStats());break;case"candidate-pair":e=j(b,a);q(e,i,d("ZenonMediaStatsConfig").getCandidatePairStats());break;case"codec":var k=String(i.mimeType).split("/")[1];k!=null&&k!==""&&(e=j(b,a),o(e,k));break;case"local-candidate":e=j(b,a);e.localIceCandidateStats=s(i);break;case"remote-candidate":e=j(b,a);e.remoteIceCandidateStats=s(i);break;default:break}}if(f.length>0){e=j(b,a);r(e,f);k=d("ZenonSimulcastStats").getBaseLayerReport(f);k!=null&&q(e,k,d("ZenonMediaStatsConfig").getOutboundRtpStats().concat(d("ZenonMediaStatsConfig").getRtpStats()))}}function m(a,b,c){b=j(b,a);if(typeof c.getParameters==="function"){c=c.getParameters();c=c.encodings;var d=b.audioEncoding,e=b.videoEncoding;if(Array.isArray(c)){c=c.some(function(a){return a.active});a.contentType==="audio"?!d?b.audioEncoding={enabled:c,prevState:null}:(d.prevState=d.enabled,d.enabled=c):!e?b.videoEncoding={enabled:c,prevState:null}:(e.prevState=e.enabled,e.enabled=c)}}}function n(a){var b=null;a.googCodecName!=null&&a.googCodecName!==""&&(b=String(a.googCodecName),a.codecImplementationName!=null&&(b+=String(a.codecImplementationName)));return b}function o(a,b){a.startTime==null&&(a.startTime=c("performanceNow")());var d=a.startTime;a.codecHistory==null&&(a.codecHistory=[]);b.length>0&&(a.codecHistory.length===0||a.codecHistory[a.codecHistory.length-1].codec!==b)&&a.codecHistory.push({codec:b,updateTime:c("performanceNow")()-d});a.codec=b}function p(a,b,e){Object.entries(e).forEach(function(f){var g=f[0];f=Number(f[1]);if(e.type==="ssrc"&&d("ZenonMediaStatsConfig").STATS_REQUESTED.includes(g)&&d("ZenonMediaStatsConfig").getSsrcStats().includes(g)||e.type==="VideoBwe"&&d("ZenonMediaStatsConfig").getVideoBweStats().includes(g)&&a.contentType!=="audio"&&a.remote===!1||e.type==="googCandidatePair"&&d("ZenonMediaStatsConfig").getGoogCandidatePairStats().includes(g))if(d("ZenonMediaStatsConfig").CUMULATIVE_STATS.includes(g)){if(g==="packetsLost"&&a.remote)return;b.cumulativeStat[g]!=null?g==="packetsLost"?b.cumulativeStat[g].updateNonStrictCumulative(f):b.cumulativeStat[g].update(f):b.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(f)}else d("ZenonMediaStatsConfig").DELTA_STATS.includes(g)&&(b.deltaStat[g]==null&&(b.deltaStat[g]=new(c("ZenonDeltaMediaStat"))()),b.deltaStat[g].add(f))})}function q(a,b,e){Object.entries(b).forEach(function(f){var g=f[0];f=Number(f[1]);if(!e||e.includes(g))if(k(g))a.cumulativeStat[g]!=null?g==="packetsLost"?a.cumulativeStat[g].updateNonStrictCumulative(f):a.cumulativeStat[g].update(f):a.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(f);else if(g==="timestamp"){var h=b.type+g;a.cumulativeStat[h]!=null?a.cumulativeStat[h].update(f):a.cumulativeStat[h]=new(c("ZenonCumulativeMediaStat"))(f)}else if(g===d("ZenonMediaStatsConfig").DERIVED_METRICS.FRAME_RATE_MEAN){h=null;b.framesEncoded!=null?h=Number(b.framesEncoded):b.framesDecoded!=null&&(h=Number(b.framesDecoded));c("isTruthy")(h)&&(a.deltaStat[g]==null&&(a.deltaStat[g]=new(c("ZenonDeltaMediaStat"))()),a.deltaStat[g].add(f))}else l(g)&&(a.deltaStat[g]==null&&(a.deltaStat[g]=new(c("ZenonDeltaMediaStat"))()),a.deltaStat[g].add(f))})}function r(a,b){var e;a.simulcastStats===void 0&&(a.simulcastStats=new(d("ZenonSimulcastStats").ZenonSimulcastStats)());(e=a.simulcastStats)==null?void 0:e.update(b);b=(e=a.simulcastStats)==null?void 0:e.getNumLayerChanges();if(b!=null){e=d("ZenonMediaStatsConfig").DERIVED_METRICS.SIMULCAST_LAYER_CHANGES;a.cumulativeStat[e]!=null?a.cumulativeStat[e].update(b):a.cumulativeStat[e]=new(c("ZenonCumulativeMediaStat"))(b)}}function s(a){var b=a.candidateType,c=a.networkType;a=a.protocol;var d={};b&&typeof b==="string"&&(d.candidateType=b);c&&typeof c==="string"&&(d.networkType=c);a&&typeof a==="string"&&(d.protocol=a);return d}g.filterLegacyMediaReports=i;g.filterMediaReports=a;g.getOrCreateTrackerFromMap=j;g.isCumulativeStat=k;g.isDeltaStat=l;g.makeStatsReportMap=b;g.updateTrackStatsWithChromiumLegacyReport=e;g.updateTrackStatsWithReport=f;g.updateTrackStatsFromSender=m}),98);
__d("ZenonAudioStallStatsDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaActionLogger","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;function i(a){var b=a.audioEncoding;a=a.cumulativeStat;var e=a.bytesSent,f=a["media-sourcetimestamp"];a=a[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION];var g=(b==null?void 0:b.enabled)===!1||(b==null?void 0:b.enabled)===!0&&(b==null?void 0:b.prevState)===!1;if(!g&&e!=null&&f!=null){if(e.getCurrentTimeSinceLastUpdate()>h&&a!=null){if(a.getCurrentTimeSinceLastUpdate()!==0){c("ZenonMediaActionLogger").logEvent({checkpoint:"[audio stall deriver] calculated a stall due to byteSent update time "+e.getCurrentTimeSinceLastUpdate()+" greater than threshold. audioEncoding: "+JSON.stringify((g=b)!=null?g:{})})}return a.getCurrentTimeSinceLastUpdate()}if((e.getCurrentValue()===0||e.getDeltaFromLastUpdate()===0)&&f.getDeltaFromLastUpdate()!==0){c("ZenonMediaActionLogger").logEvent({checkpoint:"[audio stall deriver] calculated a stall due to no "+(e.getCurrentValue()===0?"current bytes":"delta bytes")+".  audioEncoding: "+JSON.stringify((g=b)!=null?g:{})})}return e.getCurrentValue()===0||e.getDeltaFromLastUpdate()===0?f.getDeltaFromLastUpdate():0}return 0}function j(a){a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED]==null&&(a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED]=new(c("ZenonDeltaMediaStat"))()),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS]==null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS]=new(c("ZenonCumulativeMediaStat"))(0)),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS]==null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS]=new(c("ZenonCumulativeMediaStat"))(0)),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION]==null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION]=new(c("ZenonCumulativeMediaStat"))(0))}function k(a){var b=i(a),c=b===0?0:1;j(a);var e=!m(a)&&c?1:0;a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].getCurrentValue()+e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].getCurrentValue()+e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].getCurrentValue()+b);a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED].add(c)}function l(a,b){b=b?0:1;var e=!m(a)&&b?1:0;a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].getCurrentValue()+e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].getCurrentValue()+e);a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED].add(b);var f=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION];b=b&&f?f.getCurrentTimeSinceLastUpdate():0;a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].getCurrentValue()+b);e!==0&&c("ZenonMediaActionLogger").logEvent({checkpoint:"[audio stall deriver] calculated additional stall due no tracks"})}function m(a){return a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED]!=null&&a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED].getLastAddedValue()===1}function a(a,b){var c=0;a.filter(function(a){return a.contentType==="audio"&&!a.remote&&a.webrtcTrack.readyState==="live"}).forEach(function(a){c++;a=b.get(a.trackId);a!=null&&k(a)});a=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACK_INFO);a!=null&&(j(a),c===0?l(a,!1):l(a,!0))}g.updateStatsWithDerivedMetric=a}),98);
__d("ZenonAvSyncDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.webrtcStream.getAudioTracks();return a!=null&&a.length>0?a[0].id:null}function i(a){var b;if(a.cumulativeStat.totalAudioEnergy!=null&&a.cumulativeStat.totalAudioEnergy.getDeltaFromLastUpdate()<=d("ZenonMediaStatsConfig").VOICE_ENERGY_THRESHOLD){a.isAudioEnergyLow=!0;return!0}b=(b=a.isAudioEnergyLow)!=null?b:!1;a.isAudioEnergyLow=!1;return b}function a(a,b,e){a.filter(function(a){return a.contentType==="video"&&a.remote}).forEach(function(f){var g=h(f),k=a.find(function(a){return a.webrtcTrack.id===g});if(k!=null){k=b.get(k.trackId);var l=b.get(f.trackId);if(k!=null&&k.cumulativeStat.estimatedPlayoutTimestamp!=null&&l!=null&&l.cumulativeStat.estimatedPlayoutTimestamp!=null){var m,n,o;f=l.cumulativeStat.estimatedPlayoutTimestamp;var p=k.cumulativeStat.estimatedPlayoutTimestamp;m=(m=l.lastEstimatedPlayoutTimestamp)!=null?m:0;n=(n=k.lastEstimatedPlayoutTimestamp)!=null?n:0;l.lastEstimatedPlayoutTimestamp=f.getCurrentValue();k.lastEstimatedPlayoutTimestamp=p.getCurrentValue();var q=l.cumulativeStat.packetsReceived?l.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()>0:!1,r=k.cumulativeStat.packetsReceived?k.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()>0:!1;if(((o=l.lastEstimatedPlayoutTimestamp)!=null?o:0)<=m||((o=k.lastEstimatedPlayoutTimestamp)!=null?o:0)<=n||i(k)||!q||!r){j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT,0);j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB,0);return}j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT,1);m=p.getCurrentValue()-f.getCurrentValue();o=Math.abs(m);if(o>d("ZenonMediaStatsConfig").AV_SYNC_CUTOFF){j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB,1);return}j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB,0);n=[{key:d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC,value:m},{key:d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_ABS,value:o}];n.forEach(function(a){l.deltaStat[a.key]==null&&(l.deltaStat[a.key]=new(c("ZenonDeltaMediaStat"))()),l.deltaStat[a.key].add(a.value)});e.update(o)}}})}function j(a,b,d){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0)),a.cumulativeStat[b].update(a.cumulativeStat[b].getCurrentValue()+d)}g.findAssociatedAudioTrackId=h;g.isMutedDuringInterval=i;g.updateTrackerWithAvSync=a}),98);
__d("ZenonE2ELatencyDeriver",["ZenonDeltaMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=-22089888e5;function a(a,b){a.filter(function(a){return a.remote}).forEach(function(a){a=b.get(a.trackId);var e=d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY;if(a!=null&&a.cumulativeStat.estimatedPlayoutTimestamp!=null&&a.cumulativeStat.estimatedPlayoutTimestamp.getDeltaFromLastUpdate()>0){var f=Date.now()-h-a.cumulativeStat.estimatedPlayoutTimestamp.getCurrentValue();a.deltaStat[e]==null&&(a.deltaStat[e]=new(c("ZenonDeltaMediaStat"))());a.deltaStat[e].add(f)}})}g.updateTrackerWithE2ELatency=a}),98);
__d("ZenonMuteStateDeriver",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.forEach(function(a){var c=b.get(a.trackId);if(c==null)return;c.isMuted=!a.enabled||a.webrtcTrack.readyState==="ended"})}f.updateMuteState=a}),66);
__d("ZenonOutboundStatsWriter",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({audio:d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACK_INFO,screen:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACK_INFO,screen_audio:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO,video:d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACK_INFO});function i(a,b,e){if(e==null)return;a.cumulativeStat[b]==null?a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(e.getCurrentValue()):b==="packetsLost"||b===d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED?a.cumulativeStat[b].updateNonStrictCumulative(a.cumulativeStat[b].getCurrentValue()+e.getDeltaFromLastUpdate()):a.cumulativeStat[b].update(a.cumulativeStat[b].getCurrentValue()+e.getDeltaFromLastUpdate())}function j(a,b,d){if(d==null)return;a.deltaStat[b]==null&&(a.deltaStat[b]=new(c("ZenonDeltaMediaStat"))());d=d.getLastAddedValue();d!=null&&a.deltaStat[b].add(d)}function a(a,b){a.filter(function(a){return a.remote===!1&&a.webrtcTrack.readyState==="live"}).forEach(function(a){var c=b.get(a.trackId);if(c!=null){a=h[a.contentType];a=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,a);var e=c.cumulativeStat,f=c.deltaStat,g=c.histResScale;c.percentStat;c.simulcastStats;c=babelHelpers.objectWithoutPropertiesLoose(c,["cumulativeStat","deltaStat","histResScale","percentStat","simulcastStats"]);Object.assign(a,c);a.histResScale=[].concat(g);for(var c in e)i(a,c,e[c]);for(var g in f)j(a,g,f[g])}})}g.updateOutboundStats=a}),98);
__d("ZenonPacketsLostDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.filter(function(a){return a.webrtcTrack.enabled===!0&&a.webrtcTrack.readyState==="live"}).forEach(function(a){var e=b.get(a.trackId);if(e==null||e.cumulativeStat.packetsLost==null)return;var f=e.cumulativeStat.packetsLost;a.remote?a=e.cumulativeStat.packetsReceived:a=e.cumulativeStat.packetsSent;if(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED]==null)e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED]=new(c("ZenonCumulativeMediaStat"))(f.getCurrentValue());else{a=a!=null&&a.isReset()?f.getCurrentValue():f.getDeltaFromLastUpdate();e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED].updateNonStrictCumulative(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED].getCurrentValue()+a)}})}g.updatePacketsLost=a}),98);
__d("ZenonVideoQualityDeriver",["ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=1280*720;b=160*96;var i=Math.log2(h/b);c=51;var j=16,k=c-j,l=k+Math.floor(i*6);function m(a){var b=Math.max(1,Math.min(63,a));a=[1,5,12,28,42,53,64];var c=a.findIndex(function(a){return a>b});return c==null?0:Math.min(51,Math.floor(12+6*c+6*(b-a[c-1])/(a[c]-a[c-1])))}function a(a){var b=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CONVERTED_QP_SUM],c=a.cumulativeStat.framesEncoded,e=a.deltaStat,f=e.frameHeight;e=e.frameWidth;if(b==null||c==null||f==null||e==null)return;c=c.getDeltaFromLastUpdate();b=b.getDeltaFromLastUpdate();e=e.getLastAddedValue();f=f.getLastAddedValue();if(c===0||f==null||e==null||e<=0||f<=0)return;b=b/c;if(b<=0)return;((c=a.codec)==null?void 0:c.indexOf("264"))===-1&&((c=a.codec)==null?void 0:c.indexOf("265"))===-1?a=m(b):a=b;c=Math.max(0,Math.min(k,a-j));b=e*f;a=Math.max(0,Math.min(i,Math.log2(h/b)));return Math.max(0,l-c-a*6)/l*100}g._convertToH264QP=m;g.computeVideoQuality=a}),98);
__d("ZenonPerStreamAggregator",["ZenonAvSyncDeriver","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser","ZenonPercentMediaStat","ZenonRenderedView","ZenonVideoQualityDeriver"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({audio:d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACK_INFO,screen:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACK_INFO,screen_audio:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO,video:d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACK_INFO});function a(a,b){s(a,b),r(a,b),q(a,b)}function i(a,b,d,e,f,g){if(d==null)return;a.percentStat[b]==null&&(a.percentStat[b]=new(c("ZenonPercentMediaStat"))());a.percentStat[b].add(d,e,f,g)}function j(a,b){return a<b?a:b}function k(a,b){var c=b.get(a.trackId),e=0;if(c==null)return e;if(a.contentType==="audio")c.cumulativeStat.totalAudioEnergy!=null&&(e=c.cumulativeStat.totalAudioEnergy.getDeltaFromLastUpdate());else{c=d("ZenonAvSyncDeriver").findAssociatedAudioTrackId(a);if(c!=null){a=b.get(c);a!=null&&a.cumulativeStat.totalAudioEnergy!=null&&(e=a.cumulativeStat.totalAudioEnergy.getDeltaFromLastUpdate(),d("ZenonAvSyncDeriver").isMutedDuringInterval(a)&&(e=0))}}return e}function l(a,b){var e,f=d("ZenonMediaStatsConfig").DERIVED_METRICS.RENDERED_VIEW;b=b.get(a.trackId);if(b==null)return c("ZenonRenderedView").GRID;b.deltaStat[f]==null&&(b.deltaStat[f]=new(c("ZenonDeltaMediaStat"))());a=(a=b.renderedView)!=null?a:c("ZenonRenderedView").GRID;e=(e=c("ZenonRenderedView").cast(b.deltaStat[f].getLastAddedValue()))!=null?e:a;b.deltaStat[f].add(a);b=j(a,e);return b}function m(a,b,c,d){if(a.cumulativeStat[c]&&a.cumulativeStat[c].getDeltaFromLastUpdate()!==0&&a.cumulativeStat[b]!=null){b=a.cumulativeStat[b].getDeltaFromLastUpdate()/a.cumulativeStat[c].getDeltaFromLastUpdate();return b*((a=d)!=null?a:1)}return null}function n(a){var b=null,c=d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED;a.cumulativeStat.packetsReceived!=null&&a.cumulativeStat[c]!=null&&a.cumulativeStat[c].getDeltaFromLastUpdate()+a.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()!==0&&(b=a.cumulativeStat[c].getDeltaFromLastUpdate()/(a.cumulativeStat[c].getDeltaFromLastUpdate()+a.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()));return b}function o(a,b,c){if(a.cumulativeStat[b]&&a.cumulativeStat[b].getTimeSinceLastUpdate()!==0){a=a.cumulativeStat[b].getDeltaFromLastUpdate()/a.cumulativeStat[b].getTimeSinceLastUpdate();return a*((b=c)!=null?b:1)}return null}function p(a,b,c){if(a.deltaStat[b]){a=a.deltaStat[b].getLastAddedValue();return a!=null?a*((b=c)!=null?b:1):null}return null}function q(a,b){var c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACK_INFO),e=0,f=0,g=0,h=0,j=0,k=0;a.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.webrtcTrack.muted===!1}).forEach(function(a){var c=b.get(a.trackId);if(c!=null)if(a.remote===!1)c.cumulativeStat.totalEncodeTime!=null&&c.cumulativeStat.totalEncodeTime.getTimeSinceLastUpdate()>0&&(h+=c.cumulativeStat.totalEncodeTime.getDeltaFromLastUpdate(),j+=c.cumulativeStat.totalEncodeTime.getTimeSinceLastUpdate(),k++);else{var d=o(c,"bytesReceived",8e3);if(d==null)return;a.contentType==="audio"?f+=d:g+=d;c.cumulativeStat.totalDecodeTime!=null&&c.cumulativeStat.totalDecodeTime.getTimeSinceLastUpdate()>0&&(h+=c.cumulativeStat.totalDecodeTime.getDeltaFromLastUpdate(),j+=c.cumulativeStat.totalDecodeTime.getTimeSinceLastUpdate(),k++)}});if(k>0){a=j/k;a=h*1e3/a;i(c,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.GLOBAL_CPU_USAGE,a,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,e)}f+g>0&&(i(c,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.GLOBAL_AUDIO_BITRATE,f,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,e),i(c,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.GLOBAL_VIDEO_BITRATE,g,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,e))}function r(a,b){a.filter(function(a){return a.remote===!1&&a.webrtcTrack.readyState==="live"}).forEach(function(a){var c=b.get(a.trackId);if(c!=null){var e=h[a.contentType];e=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,e);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.ROUND_TRIP_TIME,p(c,"googRtt",1),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0);var f=d("ZenonVideoQualityDeriver").computeVideoQuality(c);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_QUALITY,f,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_ENCODED_FRAME_RATE,o(c,"framesEncoded",1e3),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_QP,m(c,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CONVERTED_QP_SUM,"framesEncoded",1),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0)}})}function s(a,b){var e=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").PINNED_AUDIO_STATS_TRACK_INFO),f=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").PINNED_VIDEO_STATS_TRACK_INFO);a.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.remote===!0}).forEach(function(a){var g=b.get(a.trackId);if(g!=null){var h=k(a,b),j=l(a,b);if(a.contentType==="audio"){var q=j===c("ZenonRenderedView").PINNED?e:g;i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_PLC_RATE,m(g,"googDecodingPLC","googDecodingCTN"),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_PLC_CNG_RATE,m(g,"googDecodingPLCCNG","googDecodingCTN"),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_NETEQ_WAIT_TIME,m(g,"jitterBufferDelay","jitterBufferEmittedCount",1e3),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_PACKET_LOSS_RATE,n(g),j,a.contentType,h)}else if(a.contentType==="video"){q=j===c("ZenonRenderedView").PINNED?f:g;i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_NETEQ_WAIT_TIME,m(g,"jitterBufferDelay","jitterBufferEmittedCount",1e3),j,a.contentType,h);if(g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT]!=null&&g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT].getDeltaFromLastUpdate()>0){var r=0;g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB]==null||g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB].getDeltaFromLastUpdate()===0?i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_AV_SYNC_ABS,p(g,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_ABS,1),j,a.contentType,h):r=1;i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_AV_SYNC_OOB,r,j,a.contentType,h)}i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_FRAME_RATE,o(g,"framesDecoded",1e3),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_FREEZE_COUNT_PER_MIN,o(g,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_COUNT,6e4),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_FREEZE_DURATION_PER_MIN,o(g,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_DURATION,6e4),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_PACKET_LOSS_RATE,n(g),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_RENDER_SCALE_RATIO,g.scaleRatio,j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_CROPPING_RATIO,g.croppingRatio,j,a.contentType,h)}}})}g.aggregatePerStream=a}),98);
__d("ZenonVideoQpConversion",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,2,3,4,5,7,8,9,10,12,13,15,17,18,19,20,21,23,24,25,26,27,28,29,30,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127],h=[1,5,12,28,42,53,64];function i(a){for(var b=0;b<g.length;b++)if(g[b]>=a)return b;return 63}function j(a){a=i(a);a=Math.max(1,Math.min(63,a));var b=h.length-1;for(var c=0;c<h.length;c++)if(h[c]>a){b=c;break}return Math.min(51,Math.floor(12+6*b+6*(a-h[b-1])/(h[b]-h[b-1])))}function a(a,b,c){if(a===0)return 0;else b=b/a;a=b;c||(a=j(a));return Math.round(a)}f.convertQp=a}),66);
__d("ZenonReceiverVideoQualityScoreDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig","ZenonVideoQpConversion"],(function(a,b,c,d,e,f,g){"use strict";var h=["video"];a=160*96;var i=1280*720,j=Math.log(i/a)/Math.log(2);b=51;var k=16,l=b-k,m=l+Math.floor(j*6),n={getVideoQualityIndex:function(a,b,c,e,f){if(a<=0||c==null||e==null||c===0||e===0)return null;a=d("ZenonVideoQpConversion").convertQp(a,b,!f);b=Math.max(0,Math.min(a-k,l));f=c*e;a=Math.max(0,Math.min(Math.log(i/f)/Math.log(2),j));c=6*1.6;e=100*(m-b-a*c)/m;return Math.max(0,e)},updateStatsWithDerivedMetric:function(a,b){a.filter(function(a){return h.includes(a.contentType)&&a.remote===!0}).forEach(function(a){if(a!==null){a=b.get(a.trackId);if(a!=null){var e=a.cumulativeStat,f=e.framesDecoded;e=e.qpSum;var g=a.deltaStat,h=g.frameHeight;g=g.frameWidth;if(f==null||e==null||h==null||g==null)return;f=f.getCurrentValue();if(g&&h&&f>0){var i=a.codec,j=!0;if(i==null)return;else i!=="unknown"&&(j=!(i.includes("264")||i.includes("265")));i=n.getVideoQualityIndex(e.getDeltaFromLastUpdate(),f,g.getLastAddedValue(),h.getLastAddedValue(),j);i!=null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVER_QUALITY_SCORE]==null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVER_QUALITY_SCORE]=new(c("ZenonCumulativeMediaStat"))(i):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVER_QUALITY_SCORE].update(i))}}}})}};e=n;g["default"]=e}),98);
__d("ZenonResourceUsageStatsTracker",["FBLogger","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function d(){var a;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(h());case 3:a=d.sent;return d.abrupt("return",a);case 7:d.prev=7,d.t0=d["catch"](0),c("FBLogger")("rtc_www").catching(d.t0).info("Exception logging monitor extension stats");case 10:return d.abrupt("return",null);case 11:case"end":return d.stop()}},null,this,[[0,7]])}function h(){var c,d="gdpnckbgamaigmkbcklkeoipnfaalgad";c=(c=(c=a.chrome)==null?void 0:c.runtime)!=null?c:null;return c===null?b("Promise").resolve(null):c.sendMessage(d,"",function(c){var d;if((d=a.chrome)==null?void 0:(d=d.runtime)==null?void 0:d.lastError)return b("Promise").resolve(null);if(((d=c)!=null?d:null)===null)return b("Promise").resolve(null);if(Object.keys(c).length===0)return b("Promise").resolve(null);var e=[];Object.keys(c).forEach(function(a){a=c[a];e.push.apply(e,a)});d=0;var f=0,g=0,h=0;e.length>0&&(e.sort(function(a,b){return a.timestamp>b.timestamp?1:-1}),d=Math.round(e.reduce(function(a,b){return a+b.cpu},0)/e.length),h=Math.round(e[e.length-1].cpu),f=Math.round(Math.max.apply(Math,e.map(function(a){return a.cpu}).concat([0]))),g=Math.round(Math.min.apply(Math,e.map(function(a){return a.cpu}))));d={avgCpu:d,maxCpu:f,minCpu:g,mostRecentCpu:h};return b("Promise").resolve(d)})}g.getProcessStats=d}),98);
__d("ZenonVideoCaptureMetricDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h={VIDEO_CAPTURE_FRAME_COUNT_STAT_KEY:d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT,VIDEO_SUM_CAPTURE_PIXEL_STAT_KEY:d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL,calculateVideoCaptureFrameCount:function(a){var b=a.cumulativeStat.tracktimestamp,c=a.deltaStat.framesPerSecond;if(c!=null&&b!=null&&b.getCurrentValue()>a.lastUpdate&&b.getDeltaFromLastUpdate()!==b.getCurrentValue()){a=c.getLastAddedValue();c=b.getDeltaFromLastUpdate();if(typeof a==="number"){b=Math.round(a*c/1e3);return b}}return 0},calculateVideoSumCapturePixel:function(a,b){var c=a.cumulativeStat,d=c.captureFrameCount;c=c.tracktimestamp;var e=a.deltaStat,f=e.height;e=e.width;if(d!=null&&e!=null&&f!=null&&c!=null&&c.getCurrentValue()>a.lastUpdate){c=b?d.getCurrentValue():d.getDeltaFromLastUpdate();b=(a=e.getLastAddedValue())!=null?a:0;e=(d=f.getLastAddedValue())!=null?d:0;a=c*b*e;return a}return 0},updateStatsWithDerivedMetric:function(a,b){var e=["video","screen"];a.filter(function(a){return e.includes(a.contentType)&&a.remote===!1}).forEach(function(a){a=b.get(a.trackId);if(a!=null){if(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT]!=null){var e=a.cumulativeStat.framesEncoded;if(e!=null)if(e.getDeltaFromLastUpdate()<0)a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].update(0);else{e=h.calculateVideoCaptureFrameCount(a);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].getCurrentValue()===0&&(e+=e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].getCurrentValue()+e)}}else a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT]=new(c("ZenonCumulativeMediaStat"))(0);if(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL]!=null){e=a.cumulativeStat.captureFrameCount;e=e.getDeltaFromLastUpdate()<0;var f=h.calculateVideoSumCapturePixel(a,e);e?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL].update(f):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL].getCurrentValue()+f)}else{e=h.calculateVideoSumCapturePixel(a,!0);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL]=new(c("ZenonCumulativeMediaStat"))(e)}}})}};a=h;g["default"]=a}),98);
__d("ZenonVideoConvertedQpDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig","ZenonVideoQpConversion"],(function(a,b,c,d,e,f,g){"use strict";var h=["video","screen"],i={calculateVideoConvertedQP:function(a){var b=a.cumulativeStat,c=b.framesDecoded,e=b.framesEncoded,f=b.qpSum;b=b.tracktimestamp;var g=a.codec;e=e!=null?e:c;if(f!=null&&e!=null&&g!=null&&b!=null&&b.getCurrentValue()>a.lastUpdate){c=e.getCount()===1||f.getCount()===1;c?(b=f.getCurrentValue(),a=e.getCurrentValue()):(b=f.getDeltaFromLastUpdate(),a=e.getDeltaFromLastUpdate());c=g.includes("264");f=d("ZenonVideoQpConversion").convertQp(a,b,c);return f*a}return 0},updateStatsWithDerivedMetric:function(a,b){a.filter(function(a){return h.includes(a.contentType)&&a.webrtcTrack.readyState==="live"&&a.webrtcTrack.muted===!1}).forEach(function(a){a=b.get(a.trackId);if(a!=null){var e=a.cumulativeStat.qpSum;if(e!=null){e=e.getDeltaFromLastUpdate()<0;var f=i.calculateVideoConvertedQP(a),g=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CONVERTED_QP_SUM;a.cumulativeStat[g]!=null?e?a.cumulativeStat[g].update(f):a.cumulativeStat[g].update(a.cumulativeStat[g].getCurrentValue()+f):a.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(f)}}})}};a=i;g["default"]=a}),98);
__d("ZenonVideoDecodeTimeDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var d=a.filter(function(a){return a.contentType!=="audio"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).reduce(function(a,d){d=b.get(d.trackId);if(d!=null&&d.cumulativeStat.framesDecoded!=null&&d.cumulativeStat.framesDecoded.getDeltaFromLastUpdate()>0){var e=d.cumulativeStat.framesDecoded.getTimeSinceLastUpdate();d.cumulativeStat.framesDecoded.getCount()===2&&(e+=h(d.cumulativeStat.framesDecoded,c));return Math.max(e,a)}return a},0);b.forEach(function(a){if(a.cumulativeStat.framesDecoded!=null){a.maxTotalDecodeTime=((a=a.maxTotalDecodeTime)!=null?a:0)+d}})}function b(a,b,e){a.filter(function(a){return a.contentType!=="audio"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).forEach(function(a){a=b.get(a.trackId);if(a!=null&&a.cumulativeStat.framesDecoded!=null&&a.cumulativeStat.framesDecoded.getDeltaFromLastUpdate()>0){var f=a.cumulativeStat.framesDecoded.getTimeSinceLastUpdate();a.cumulativeStat.framesDecoded.getCount()===2&&(f+=h(a.cumulativeStat.framesDecoded,e));a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME]==null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME]=new(c("ZenonCumulativeMediaStat"))(f):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME].getCurrentValue()+f)}})}function h(a,b){return a.getDeltaFromLastUpdate()>0?Math.round(b*a.getFirstValue()/a.getDeltaFromLastUpdate()):0}g.findMaxDecodeTime=a;g.updateTrackerWithDecodeTime=b}),98);
__d("ZenonVideoDecodedBytesDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.filter(function(a){return a.contentType!=="audio"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).forEach(function(a){a=b.get(a.trackId);if(a!=null){var e=a.cumulativeStat,f=e.bytesReceived;e=e.framesDecoded;if(f&&e){var g=e.getElapsedTime()===0&&e.getCurrentValue()>0;if(g||e.getDeltaFromLastUpdate()>0){e=f.getDeltaFromLastUpdate();g&&(e=f.getCurrentValue());a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES]==null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES]=new(c("ZenonCumulativeMediaStat"))(e):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES].getCurrentValue()+e)}}}})}g.updateTrackerWithDecodedBytes=a}),98);
__d("ZenonVideoFreezeCountDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=.5,j={aggregateFreezes:function(a,b,c,d){if(a){a=d.getDeltaFromLastUpdate();d=b-c*c/3;return Math.sqrt(d*(a-1))*1e3}return 0},calculateVideoFreeze:function(a){a=a.cumulativeStat;var b=a.framesDecoded,c=a.totalInterFrameDelay;a=a.totalSquaredInterFrameDelay;if(b!=null&&c!=null&&a!=null&&b.getDeltaFromLastUpdate()>1){var d=b.getDeltaFromLastUpdate(),e=b.getAverageOverTime()*1e3;c=c.getDeltaFromLastUpdate();a=a.getDeltaFromLastUpdate();e=1/e;var f=e*h/100;e=Math.max(3*e,e+.15);e=f*f/3+e*e/(d-1);var g=f*f/3+i*i/(d-1);a=(a-c*c/d)/d;c=a>e?1:0;d=a>g?1:0;e=j.aggregateFreezes(c,a,f,b);g=j.aggregateFreezes(d,a,f,b);return{count:c,duration:e,duration500ms:g}}return{count:0,duration:0,duration500ms:0}},updateStatsWithDerivedMetric:function(a,b){var e=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_COUNT,f=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_DURATION,g=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_DURATION_500MS;a.filter(function(a){return a.contentType==="video"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).forEach(function(a){a=b.get(a.trackId);if(a!=null){var d=j.calculateVideoFreeze(a);a.cumulativeStat[e]!=null?a.cumulativeStat[e].update(a.cumulativeStat[e].getCurrentValue()+d.count):a.cumulativeStat[e]=new(c("ZenonCumulativeMediaStat"))(d.count);a.cumulativeStat[f]!=null?a.cumulativeStat[f].update(a.cumulativeStat[f].getCurrentValue()+d.duration):a.cumulativeStat[f]=new(c("ZenonCumulativeMediaStat"))(d.duration);a.cumulativeStat[g]!=null?a.cumulativeStat[g].update(a.cumulativeStat[g].getCurrentValue()+d.duration500ms):a.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(d.duration500ms)}})}};a=j;g["default"]=a}),98);
__d("ZenonVideoPauseDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;function a(a,b){a.filter(function(a){return a.contentType==="video"&&a.remote}).forEach(function(a){a=b.get(a.trackId);a!=null&&i(a)})}function i(a){var b=a.cumulativeStat,e=b.framesDecoded;b=b.packetsReceived;if(b!=null){var f;f=(f=a.isVideoPaused)!=null?f:!1;if(!f)b.getDeltaFromLastUpdate()===0&&b.getTimeSinceLastUpdate()>1e3&&(a.isVideoPaused=!0,a.lastVideoPacketTime=b.getPreviousTime());else if(e!=null&&e.getDeltaFromLastUpdate()>0){a.isVideoPaused=!1;e=(b.getCurrentTime()+b.getPreviousTime())/2-((f=a.lastVideoPacketTime)!=null?f:b.getPreviousTime());a.lastVideoPacketTime=void 0;e>=h&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT]!=null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT].getCurrentValue()+1):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT]=new(c("ZenonCumulativeMediaStat"))(1),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION]!=null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION].getCurrentValue()+e):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION]=new(c("ZenonCumulativeMediaStat"))(e))}}}g.updateVideoPause=a}),98);
__d("ZenonVideoStallStatsDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=1500,j=6e3,k=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_IS_STALLED],l=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_STALL_DURATION],m=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_TOTAL_STALLS,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_TOTAL_STALLS,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_TOTAL_STALLS],n=function(a){return((a=a==null?void 0:a.getCurrentTimeSinceLastUpdate())!=null?a:0)>j};function o(a,b){var c=0;b!=null&&r(a)&&(c=b.getDeltaFromLastUpdate());return c}function p(a,b){var c=0;b!=null&&s(a)&&(c=b.getDeltaFromLastUpdate());return c}function q(a,b,c){var d=0;c!=null&&t(a,b)&&(d=c.getDeltaFromLastUpdate());return d}function r(a){var b=!1;a!=null&&a.getElapsedTime()!==0&&(b=n(a)||a.getDeltaFromLastUpdate()===0||a.getCurrentValue()===0);return b}function s(a){var b=!1;a!=null&&a.getElapsedTime()!==0&&(b=n(a)||a.getDeltaFromLastUpdate()===0||a.getCurrentValue()===0);return b}function t(a,b){var c=!1;if(b!=null&&b.getElapsedTime()!==0){var d=h;a.contentType==="screen"&&(d=i);c=n(b)||b.getDeltaFromLastUpdate()<=d||b.getCurrentValue()===0}return c}function u(a){k.forEach(function(b){a.deltaStat[b]==null&&(a.deltaStat[b]=new(c("ZenonDeltaMediaStat"))())}),l.forEach(function(b){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0))}),m.forEach(function(b){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0))})}function v(a,b){var c=b.cumulativeStat,e=c.bytesSent,f=c.captureFrameCount,g=c.framesEncoded;c=c["media-sourcetimestamp"];var h=b.videoEncoding;if(a.webrtcTrack.enabled===!1)return;else if((h==null?void 0:h.enabled)===!1)return;h=o(f,c);w(b,h,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_TOTAL_STALLS);f=p(g,c);w(b,f,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_TOTAL_STALLS);h=q(a,e,c);w(b,h,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_TOTAL_STALLS)}function w(a,b,c,d,e){var f=b===0?0:1,g=!x(a,c)&&f?1:0;a.cumulativeStat[e].update(a.cumulativeStat[e].getCurrentValue()+g);a.cumulativeStat[d].update(a.cumulativeStat[d].getCurrentValue()+b);a.deltaStat[c].add(f)}function x(a,b){return a.deltaStat[b]!=null&&a.deltaStat[b].getLastAddedValue()===1}function a(a,b){a.filter(function(a){return(a.contentType==="video"||a.contentType==="screen")&&!a.remote}).forEach(function(a){var c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACK_INFO);a.contentType==="screen"&&(c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACK_INFO));c!=null&&(u(c),v(a,c))})}g.updateStatsWithDerivedMetric=a}),98);
__d("ZenonVideoSumPixelDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=["video","screen"],i={calculateVideoSumPixel:function(a,b,c){var d=a.cumulativeStat,e=d.framesDecoded,f=d.framesEncoded;d=d.tracktimestamp;var g=a.deltaStat,h=g.frameHeight;g=g.frameWidth;c=c?e:f;if(c!=null&&g!=null&&h!=null&&d!=null&&d.getCurrentValue()>a.lastUpdate){e=b?c.getCurrentValue():c.getDeltaFromLastUpdate();d=(f=g.getLastAddedValue())!=null?f:0;b=(a=h.getLastAddedValue())!=null?a:0;c=e*d*b;return c}return 0},updateStatsWithDerivedMetric:function(a,b){a.filter(function(a){return h.includes(a.contentType)}).forEach(function(a){var e=a.remote;a=b.get(a.trackId);if(a!=null)if(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL]!=null){var f=a.cumulativeStat,g=f.framesDecoded;f=f.framesEncoded;g=e?g:f;if(g!=null){f=g.getDeltaFromLastUpdate()<0;g=i.calculateVideoSumPixel(a,f,e);f?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL].update(g):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL].getCurrentValue()+g)}}else{f=i.calculateVideoSumPixel(a,!0,e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL]=new(c("ZenonCumulativeMediaStat"))(f)}})}};a=i;g["default"]=a}),98);
__d("ZenonMediaStatsReportPoller",["Promise","UserAgent","ZenonAudioLevelDeriver","ZenonAudioPlaybackIssueLogger","ZenonAudioReceiverStatsUtils","ZenonAudioStallStatsDeriver","ZenonAvSyncDeriver","ZenonE2ELatencyDeriver","ZenonMediaElementTracker","ZenonMediaStatsConfig","ZenonMediaStatsParser","ZenonMuteStateDeriver","ZenonOutboundStatsWriter","ZenonPacketsLostDeriver","ZenonPerStreamAggregator","ZenonReceiverVideoQualityScoreDeriver","ZenonResourceUsageStatsTracker","ZenonSpeakerTracker","ZenonVideoCaptureMetricDeriver","ZenonVideoConvertedQpDeriver","ZenonVideoDecodeTimeDeriver","ZenonVideoDecodedBytesDeriver","ZenonVideoFreezeCountDeriver","ZenonVideoPauseDeriver","ZenonVideoScaleHistogram","ZenonVideoStallStatsDeriver","ZenonVideoSumPixelDeriver","gkx","immutable","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return b.toArray().find(function(b){return b.trackIDs.contains(a.trackId)})}function i(a,e,f,g,i,j,k){var l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:l=f.getSenders().map(function(f){var j,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:l=(j=f.track)==null?void 0:j.id;if(!(l!=null)){p.next=12;break}m=a.find(function(a){return a.webrtcTrack.id===l});if(!(m!=null&&m.webrtcTrack.readyState!=="ended")){p.next=12;break}p.next=6;return b("regeneratorRuntime").awrap(f.getStats());case 6:n=p.sent,o=d("ZenonMediaStatsParser").makeStatsReportMap(n),c("gkx")("965758")&&g.addData(m.enabled,d("ZenonMediaStatsParser").filterMediaReports(o),d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED,m.contentType,h(m,i)),d("ZenonMediaStatsParser").updateTrackStatsWithReport(m,e,o),d("ZenonMediaStatsParser").updateTrackStatsFromSender(m,e,f),k.push(m);case 12:case"end":return p.stop()}},null,this)});n.next=3;return b("regeneratorRuntime").awrap(b("Promise").all(l));case 3:m=f.getReceivers().map(function(f){var k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:l=(k=f.track)==null?void 0:k.id;if(!(l!=null)){q.next=11;break}m=a.find(function(a){return a.webrtcTrack.id===l});if(!(m!=null&&m.webrtcTrack.readyState!=="ended")){q.next=11;break}q.next=6;return b("regeneratorRuntime").awrap(f.getStats());case 6:n=q.sent,o=d("ZenonMediaStatsParser").makeStatsReportMap(n),c("gkx")("965758")&&(p=m.contentType==="audio"?m.userMuted:m.enabled,g.addData(p,d("ZenonMediaStatsParser").filterMediaReports(o),d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED,m.contentType,h(m,i))),d("ZenonMediaStatsParser").updateTrackStatsWithReport(m,e,o),j.push(m);case 11:case"end":return q.stop()}},null,this)});n.next=6;return b("regeneratorRuntime").awrap(b("Promise").all(m));case 6:case"end":return n.stop()}},null,this)}function j(a,e,f,g,i){var j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:j=function(){return new(b("Promise"))(function(a){f.getStats(a)})};m.next=3;return b("regeneratorRuntime").awrap(j());case 3:k=m.sent,l=d("ZenonMediaStatsParser").makeStatsReportMap(k),a.forEach(function(a){a.webrtcTrack.readyState!=="ended"&&(c("gkx")("965758")&&g.addData(a.enabled,d("ZenonMediaStatsParser").filterLegacyMediaReports(a,l),d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED,a.contentType,h(a,i)),d("ZenonMediaStatsParser").updateTrackStatsWithChromiumLegacyReport(a,e,l))});case 6:case"end":return m.stop()}},null,this)}function k(a,b){a.forEach(function(a){a=b.get(a.trackId);a!=null&&a.cumulativeStat.tracktimestamp!=null&&(a.lastUpdate=a.cumulativeStat.tracktimestamp.getCurrentValue())})}function a(a,e,f,g,h,l,m){var n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:m===void 0&&(m=c("immutable").Map());n=[];o=[];s.next=5;return b("regeneratorRuntime").awrap(i(a,e,g,h,m,n,o));case 5:if(!(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Edge (Chromium Based)"))){s.next=8;break}s.next=8;return b("regeneratorRuntime").awrap(j(a,e,g,h,m));case 8:d("ZenonMediaElementTracker").updateStats(e);if(!c("gkx")("965758")){s.next=23;break}s.next=12;return b("regeneratorRuntime").awrap(g.getStats());case 12:p=s.sent;q=d("ZenonMediaStatsParser").makeStatsReportMap(p);h.addCandidatePairStats(q);h.addNonMediaStates();h.addRenderedFrameData(e,q);s.next=19;return b("regeneratorRuntime").awrap(d("ZenonResourceUsageStatsTracker").getProcessStats());case 19:r=s.sent,r!=null&&h.addCallCpuData(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID,r),h.addSenderVideoStallData(e),h.advance();case 23:d("ZenonSpeakerTracker").updateStats(a,e),d("ZenonPacketsLostDeriver").updatePacketsLost(a,e),d("ZenonMuteStateDeriver").updateMuteState(a,e),c("ZenonVideoFreezeCountDeriver").updateStatsWithDerivedMetric(a,e),d("ZenonVideoPauseDeriver").updateVideoPause(a,e),c("ZenonVideoCaptureMetricDeriver").updateStatsWithDerivedMetric(a,e),c("ZenonVideoSumPixelDeriver").updateStatsWithDerivedMetric(a,e),c("ZenonVideoConvertedQpDeriver").updateStatsWithDerivedMetric(a,e),d("ZenonVideoDecodedBytesDeriver").updateTrackerWithDecodedBytes(a,e),d("ZenonVideoDecodeTimeDeriver").findMaxDecodeTime(a,e,l),d("ZenonVideoDecodeTimeDeriver").updateTrackerWithDecodeTime(a,e,l),d("ZenonVideoScaleHistogram").updateTrackerWithScaleHistogram(a,e),d("ZenonE2ELatencyDeriver").updateTrackerWithE2ELatency(a,e),d("ZenonAudioLevelDeriver").computeAudioLevels(a,e),d("ZenonAudioStallStatsDeriver").updateStatsWithDerivedMetric(a,e),d("ZenonVideoStallStatsDeriver").updateStatsWithDerivedMetric(a,e),d("ZenonAvSyncDeriver").updateTrackerWithAvSync(a,e,f),c("ZenonReceiverVideoQualityScoreDeriver").updateStatsWithDerivedMetric(a,e),d("ZenonAudioReceiverStatsUtils").updateTracksWithAudioReceivePercentStats(a,e),d("ZenonOutboundStatsWriter").updateOutboundStats(o,e),d("ZenonPerStreamAggregator").aggregatePerStream([].concat(n,o),e),c("ZenonAudioPlaybackIssueLogger").detectAudioPlaybackIssue(a,e),k(a,e);case 46:case"end":return s.stop()}},null,this)}function e(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=c.getReceivers().map(function(c){var e,f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:f=(e=c.track)==null?void 0:e.id;if(!(f!=null)){o.next=23;break}g=a.find(function(a){return a.webrtcTrack.id===f});if(!(g!=null&&g.webrtcTrack.readyState!=="ended")){o.next=23;break}o.next=6;return b("regeneratorRuntime").awrap(c.getStats());case 6:h=o.sent;if(h instanceof Map||h.result){o.next=23;break}i=h.values(),j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 9:if(!j){o.next=15;break}if(!(k>=i.length)){o.next=12;break}return o.abrupt("break",23);case 12:l=i[k++];o.next=19;break;case 15:k=i.next();if(!k.done){o.next=18;break}return o.abrupt("break",23);case 18:l=k.value;case 19:m=l,m.type==="inbound-rtp"&&m.kind==="video"&&m.codecId!=null&&typeof m.codecId==="string"&&(n=h.get(m.codecId),(n==null?void 0:n.type)==="codec"&&d.set(f,n.mimeType.toString()));case 21:o.next=9;break;case 23:case"end":return o.stop()}},null,this)});f.next=3;return b("regeneratorRuntime").awrap(b("Promise").all(e));case 3:case"end":return f.stop()}},null,this)}g.updateStatsFromConnection=a;g.updateVideoCodecFromReceivers=e}),98);
__d("ZenonLayout",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Grid","DominantSpeaker"]);c=a;f["default"]=c}),66);
__d("ZenonSpeakerTracker",["ZenonCallsHooks","ZenonLayout","ZenonRenderedView","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=null,j=[],k=[];function l(a,b,c){i=a,j=b,k=c}function a(a,b){for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(!f.remote)continue;var g=b.get(f.trackId);if(!g)continue;g.isDominantSpeaker=j.indexOf(f.trackId)!==-1;if(i!=null)switch(i){case c("ZenonLayout").Grid:g.renderedView=c("ZenonRenderedView").GRID;break;case c("ZenonLayout").DominantSpeaker:f=k.indexOf(f.trackId)!==-1;g.renderedView=f?c("ZenonRenderedView").PINNED:c("ZenonRenderedView").THUMBNAIL;break}}}function b(a,b,d){var e,f=(e=c("ZenonCallsHooks").useLiveMediaTrack((e=b)!=null?e:"","video"))==null?void 0:e.trackId,g=(b=c("ZenonCallsHooks").useLiveMediaTrack((e=b)!=null?e:"","audio"))==null?void 0:b.trackId,i=(b=c("ZenonCallsHooks").useLiveMediaTrack((e=d)!=null?e:"","video"))==null?void 0:b.trackId,j=(b=c("ZenonCallsHooks").useLiveMediaTrack((e=d)!=null?e:"","audio"))==null?void 0:b.trackId;h(function(){l(a,[f,g],[i,j])},[i,j,a,f,g])}g.updateLayout=l;g.updateStats=a;g.useUpdateSpeakerTracker=b}),98);
__d("StructuredConfigBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a){return this.$1.getValue(a)>0};b.getInt=function(a){return this.$1.getValue(a)};return a}();f["default"]=a}),66);
__d("Configs",["StructuredConfigBase"],(function(a,b,c,d,e,f){"use strict";c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ExampleConfig1=c.getBool(0),c.$ExampleConfig2=c.getBool(2),c.$ExampleConfig3=c.getBool(1724),c.$ExampleConfig4=c.getBool(2044),c.$ExampleConfig5=c.getInt(1),c.$ExampleConfig6=c.getInt(3),c.$ExampleConfig7=c.getInt(2011),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ExampleConfig1=this.getBool(0),this.$ExampleConfig2=this.getBool(2),this.$ExampleConfig3=this.getBool(1724),this.$ExampleConfig4=this.getBool(2044),this.$ExampleConfig5=this.getInt(1),this.$ExampleConfig6=this.getInt(3),this.$ExampleConfig7=this.getInt(2011)};c.isEnabled=function(){return this.$ExampleConfig1};c.isSomeBoolean=function(){return this.$ExampleConfig2};c.isSomeOtherIntegerHasValue=function(){return this.$ExampleConfig3};c.isSomeOtherBoolean=function(){return this.$ExampleConfig4};c.getSomeInteger=function(){return this.$ExampleConfig5};c.getSomeOtherInteger=function(){return this.$ExampleConfig6};c.getSomeDouble=function(){return this.$ExampleConfig7};return b}(a=b("StructuredConfigBase"));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SimulcastOverSignalingConfig1=c.getBool(651),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$SimulcastOverSignalingConfig1=this.getBool(651)};c.isSimulcastOverSignalingEnabled=function(){return this.$SimulcastOverSignalingConfig1};return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonSdpTransformConfig1=c.getBool(244),c.$ZenonSdpTransformConfig2=c.getBool(420),c.$ZenonSdpTransformConfig3=c.getBool(421),c.$ZenonSdpTransformConfig4=c.getBool(245),c.$ZenonSdpTransformConfig5=c.getBool(246),c.$ZenonSdpTransformConfig6=c.getBool(248),c.$ZenonSdpTransformConfig7=c.getBool(1448),c.$ZenonSdpTransformConfig8=c.getBool(1444),c.$ZenonSdpTransformConfig9=c.getBool(1445),c.$ZenonSdpTransformConfig10=c.getInt(1446),c.$ZenonSdpTransformConfig11=c.getInt(1447),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ZenonSdpTransformConfig1=this.getBool(244),this.$ZenonSdpTransformConfig2=this.getBool(420),this.$ZenonSdpTransformConfig3=this.getBool(421),this.$ZenonSdpTransformConfig4=this.getBool(245),this.$ZenonSdpTransformConfig5=this.getBool(246),this.$ZenonSdpTransformConfig6=this.getBool(248),this.$ZenonSdpTransformConfig7=this.getBool(1448),this.$ZenonSdpTransformConfig8=this.getBool(1444),this.$ZenonSdpTransformConfig9=this.getBool(1445),this.$ZenonSdpTransformConfig10=this.getInt(1446),this.$ZenonSdpTransformConfig11=this.getInt(1447)};c.isPreserveH264=function(){return this.$ZenonSdpTransformConfig1};c.isPreferH264ForMwCall=function(){return this.$ZenonSdpTransformConfig2};c.isPreferSwH264=function(){return this.$ZenonSdpTransformConfig3};c.isAddAudioNack=function(){return this.$ZenonSdpTransformConfig4};c.isDisableOpusStereo=function(){return this.$ZenonSdpTransformConfig5};c.isPreferIsacForGroupAudio=function(){return this.$ZenonSdpTransformConfig6};c.isEnableOpusFmtpMunging=function(){return this.$ZenonSdpTransformConfig7};c.isSetOpusUsedtx=function(){return this.$ZenonSdpTransformConfig8};c.isSetOpusUseinbandfec=function(){return this.$ZenonSdpTransformConfig9};c.getSetOpusMaxplaybackrate=function(){return this.$ZenonSdpTransformConfig10};c.getSetOpusMaxaveragebitrate=function(){return this.$ZenonSdpTransformConfig11};return b}(a);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonPeerConnectionConfig1=c.getBool(302),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ZenonPeerConnectionConfig1=this.getBool(302)};c.isRtpDataChannels=function(){return this.$ZenonPeerConnectionConfig1};return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonStartCallImmediatelyConfig1=c.getBool(308),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonStartCallImmediatelyConfig1=this.getBool(308)};c.isEnabled=function(){return this.$ZenonStartCallImmediatelyConfig1};return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonGeneralizedIdentityConfig1=c.getInt(1891),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonGeneralizedIdentityConfig1=this.getInt(1891)};c.getDuplicatedParticipantsProcessingMode=function(){return this.$ZenonGeneralizedIdentityConfig1};return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonMultiCallSupportConfig1=c.getInt(309),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonMultiCallSupportConfig1=this.getInt(309)};c.getMaxConnectedCalls=function(){return this.$ZenonMultiCallSupportConfig1};return a}(a),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonPlatformSupportConfig1=c.getBool(316),c.$ZenonPlatformSupportConfig2=c.getBool(318),c.$ZenonPlatformSupportConfig3=c.getBool(2251),c.$ZenonPlatformSupportConfig4=c.getBool(1900),c.$ZenonPlatformSupportConfig5=c.getInt(317),c.$ZenonPlatformSupportConfig6=c.getInt(319),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonPlatformSupportConfig1=this.getBool(316),this.$ZenonPlatformSupportConfig2=this.getBool(318),this.$ZenonPlatformSupportConfig3=this.getBool(2251),this.$ZenonPlatformSupportConfig4=this.getBool(1900),this.$ZenonPlatformSupportConfig5=this.getInt(317),this.$ZenonPlatformSupportConfig6=this.getInt(319)};c.isSupportsZenonPlatform=function(){return this.$ZenonPlatformSupportConfig1};c.isStartImmediatelyEnabled=function(){return this.$ZenonPlatformSupportConfig2};c.isUploadSummaryOnCallEnded=function(){return this.$ZenonPlatformSupportConfig3};c.isMultiwayAvEscalationEnabled=function(){return this.$ZenonPlatformSupportConfig4};c.getMaxConnectedCalls=function(){return this.$ZenonPlatformSupportConfig5};c.getParentWindowConnectionTimeoutMs=function(){return this.$ZenonPlatformSupportConfig6};return a}(a),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonSimulcastConfig1=c.getBool(453),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonSimulcastConfig1=this.getBool(453)};c.isSimulcastEnabled=function(){return this.$ZenonSimulcastConfig1};return a}(a),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$DynamicRuleConfig1=c.getBool(1342),c.$DynamicRuleConfig2=c.getBool(1597),c.$DynamicRuleConfig3=c.getBool(1821),c.$DynamicRuleConfig4=c.getBool(1820),c.$DynamicRuleConfig5=c.getInt(1359),c.$DynamicRuleConfig6=c.getInt(1510),c.$DynamicRuleConfig7=c.getInt(1612),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$DynamicRuleConfig1=this.getBool(1342),this.$DynamicRuleConfig2=this.getBool(1597),this.$DynamicRuleConfig3=this.getBool(1821),this.$DynamicRuleConfig4=this.getBool(1820),this.$DynamicRuleConfig5=this.getInt(1359),this.$DynamicRuleConfig6=this.getInt(1510),this.$DynamicRuleConfig7=this.getInt(1612)};c.isEnabled=function(){return this.$DynamicRuleConfig1};c.isDebugLoggingEnabled=function(){return this.$DynamicRuleConfig2};c.isDisableCallTypeConditional=function(){return this.$DynamicRuleConfig3};c.isDisableAbweSubscriber=function(){return this.$DynamicRuleConfig4};c.getProcessIntervalMs=function(){return this.$DynamicRuleConfig5};c.getNetworkProcessIntervalMs=function(){return this.$DynamicRuleConfig6};c.getDebugLoggingIntervalMs=function(){return this.$DynamicRuleConfig7};return a}(a);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SignalingPingConfig1=c.getInt(1470),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$SignalingPingConfig1=this.getInt(1470)};c.getPingIntervalMs=function(){return this.$SignalingPingConfig1};return b}(a);e.exports={ExampleConfig:c,SimulcastOverSignalingConfig:d,ZenonSdpTransformConfig:f,ZenonPeerConnectionConfig:b,ZenonStartCallImmediatelyConfig:g,ZenonGeneralizedIdentityConfig:h,ZenonMultiCallSupportConfig:i,ZenonPlatformSupportConfig:j,ZenonSimulcastConfig:k,DynamicRuleConfig:l,SignalingPingConfig:a}}),null);
__d("OverlayConfigDefaults",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze([1,0,0,20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,0,1,-1,-1,-1,-1,-1,-1,1,1,0,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,16e3,2e4,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6e4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0]);e.exports=a}),null);
__d("OverlayConfigDefaultsLayer",["OverlayConfigDefaults","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").DEFAULT};b.getValue=function(a){return c("OverlayConfigDefaults")[a]};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("OverlayConfigLayerManager",["OverlayConfigConstants","OverlayConfigDefaultsLayer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[new(c("OverlayConfigDefaultsLayer"))()]}var b=a.prototype;b.getValue=function(a){for(var b=this.$1.length-1;b>=0;b--){var e=this.$1[b].getValue(a);if(e>d("OverlayConfigConstants").OverlayConfigNotPresentFlagValue)return e}throw c("unrecoverableViolation")("OverlayConfigLayerManager: No value found for id "+String(a),"rtc_www")};b.addLayer=function(a){this.$1.push(a);return this.$1.length-1};b.replaceLayer=function(a,b){if(a===0)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Tried to replace default layer!","rtc_www");else if(this.$1[a]==null)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Layer does not exist at index "+String(a),"rtc_www");this.$1[a]=b};b.clone=function(){var b=new a();b.$1=this.$1.slice();return b};return a}();g["default"]=a}),98);
__d("OverlayConfigManager",["Configs","OverlayConfigLayerManager"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("Configs")).ExampleConfig,h=a.SimulcastOverSignalingConfig,i=a.ZenonSdpTransformConfig,j=a.ZenonPeerConnectionConfig,k=a.ZenonStartCallImmediatelyConfig,l=a.ZenonGeneralizedIdentityConfig,m=a.ZenonMultiCallSupportConfig,n=a.ZenonPlatformSupportConfig,o=a.ZenonSimulcastConfig,p=a.DynamicRuleConfig,q=a.SignalingPingConfig;c=function(){function a(){this.layerManager=new(b("OverlayConfigLayerManager"))()}var c=a.prototype;c.getExampleConfig=function(){return new g(this.layerManager)};c.getSimulcastOverSignalingConfig=function(){return new h(this.layerManager)};c.getZenonSdpTransformConfig=function(){return new i(this.layerManager)};c.getZenonPeerConnectionConfig=function(){return new j(this.layerManager)};c.getZenonStartCallImmediatelyConfig=function(){return new k(this.layerManager)};c.getZenonGeneralizedIdentityConfig=function(){return new l(this.layerManager)};c.getZenonMultiCallSupportConfig=function(){return new m(this.layerManager)};c.getZenonPlatformSupportConfig=function(){return new n(this.layerManager)};c.getZenonSimulcastConfig=function(){return new o(this.layerManager)};c.getDynamicRuleConfig=function(){return new p(this.layerManager)};c.getSignalingPingConfig=function(){return new q(this.layerManager)};return a}();e.exports=c}),null);
__d("OverlayConfigManagerWithServerLayer",["OverlayConfigManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OverlayConfigManagerWithServerLayer1=-1;b!=null&&(c.layerManager=b.layerManager.clone());return c}var c=b.prototype;c.setServerLayer=function(a){if(this.$OverlayConfigManagerWithServerLayer1>-1){this.layerManager.replaceLayer(this.$OverlayConfigManagerWithServerLayer1,a);return}this.$OverlayConfigManagerWithServerLayer1=this.layerManager.addLayer(a)};return b}(c("OverlayConfigManager"));g["default"]=a}),98);
__d("SCTPSignalingListener",["FBLogger","ZenonDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonSignalingConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(a,b){this.$2=a,this.$1.createDataMessageSubscription(d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC,this.$3(a))};b.unsubscribe=function(){this.$2!=null&&this.$1.removeDataMessageSubscription(d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC,this.$3(this.$2))};b.$3=function(a){return function(b){try{b=JSON.parse(b);var e=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logReceivedMessage(b);e.logMWMessage("RECEIVED","SCTP",b);e=d("ZenonMWMessageTranslator").toSignalingMessage(b);a(e);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(b)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving SCTP message from Signaling Listener")}}};return a}();g["default"]=a}),98);
__d("ZenonAlwaysTrustIdentityStore",["Promise","WASignalKeys"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a,this.$2=d("WASignalKeys").makeSerializedKeyPair()}var c=a.prototype;c.getLocalUserId=function(){return this.$1};c.getLocalPublicPrivateIdentityKey=function(){return b("Promise").resolve(this.$2)};c.getShortDescription=function(){return"Always trust"};c.getRemotePublicIdentityKey=function(a,c){return b("Promise").resolve(d("WASignalKeys").serializeIdentity(new Uint8Array(32)))};c.saveRemotePublicIdentityKey=function(a,c,d){return b("Promise").resolve(0)};c.getLocalDeviceId=function(){return b("Promise").resolve(0)};return a}();function a(a){return new h(a)}g.createNewAlwaysTrustIdentityStore=a}),98);
__d("ZenonRelayEnvironment",["RelayFBEnvironment","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=null;function a(){var a=d("RelayHooks").useRelayEnvironment();h(function(){i=a},[a])}function b(){var a;return(a=i)!=null?a:c("RelayFBEnvironment")}g.useUpdateZenonRelayEnvironment=a;g.getZenonRelayEnvironment=b}),98);
__d("WASortedLists",[],(function(a,b,c,d,e,f){function a(){return[]}function b(){return[]}function c(a,b){return a.filter(b)}function d(a,b){return l(a.map(b))}function e(a,b){var c=a.length===b.length;for(var d=0;c&&d<a.length;d++)a[d]!==b[d]&&(c=!1);return c}function g(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return a;return a.concat([b]).sort()}function h(a,b){if(a.length<b.length)return!1;var c=!0;for(var d=0,e=0;c&&e<b.length;e++)do c=a[d]===b[e];while(!c&&++d<a.length);return c}function i(a,b){var c=[];for(var d=0,e=0;d<a.length;d++){var f=a[d];while(e<b.length&&f>b[e])e++;(e===b.length||f<b[e])&&c.push(f)}return c}function j(a,b){var c=[],d=0,e=0;while(d<a.length&&e<b.length){var f=a[d],g=b[e];f<g?d++:f===g?(c.push(f),d++,e++):e++}return c}function k(a,b){var c=[],d=0,e=0;while(d<a.length&&e<b.length)a[d]<b[e]?c.push(a[d++]):a[d]===b[e]?(c.push(a[d++]),e++):c.push(b[e++]);while(d<a.length)c.push(a[d++]);while(e<b.length)c.push(b[e++]);return c}function l(a){return m(a.slice().sort())}function m(a){var b=!1;for(var c=0;c<a.length-1;c++)a[c]===a[c+1]&&(b=!0);if(!b)return a;c=[];for(var b=0;b<a.length-1;b++)a[b]!==a[b+1]&&c.push(a[b]);c.push(a[a.length-1]);return c}function n(a){return Array.from(a).sort()}function o(a){return a.slice().sort()}function p(a,b,c){var d=null;for(var e=0;!d&&e<a.length;e++)a[e]===b&&(d=a.slice(),d[e]=c,d=m(d.sort()));return d||a}function q(a){return[a]}function r(a){return a.length<1}function s(a,b,c){return a.slice(b,c)}f.emptySet=a;f.emptyList=b;f.filter=c;f.map=d;f.areEqual=e;f.addToSet=g;f.contains=h;f.subtract=i;f.intersect=j;f.joinUniq=k;f.sortAndDedupe=l;f.asSortedSet=n;f.sort=o;f.swapIn=p;f.singleElement=q;f.isEmpty=r;f.slice=s}),66);
__d("ZenonMAWIdentityStore",["MAWGetLocalDeviceIdApi","MAWGetLocalPublicPrivateIdentityKeyApi","MAWGetRemotePublicIdentityKeyApi","MAWJids","MAWRemotePresenceSetup","MAWSaveRemotePublicIdentityKeyApi","ODS","WAJids","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a}var b=a.prototype;b.getLocalUserId=function(){return this.$1};b.getShortDescription=function(){return"MAW"};b.getLocalPublicPrivateIdentityKey=function(){this.$2==null&&(this.$2=d("MAWGetLocalPublicPrivateIdentityKeyApi").getLocalPublicPrivateIdentityKey());return this.$2};b.getRemotePublicIdentityKey=function(a,b){b=d("WAJids").unsafeCoerceToDeviceId(b);return d("MAWGetRemotePublicIdentityKeyApi").getRemotePublicIdentityKey(b,a)};b.saveRemotePublicIdentityKey=function(a,b,c){b=d("WAJids").unsafeCoerceToDeviceId(b);var e=d("MAWJids").toUserJid(this.getLocalUserId());return d("MAWSaveRemotePublicIdentityKeyApi").saveRemotePublicIdentityKey(b,a,c,e)};b.getLocalDeviceId=function(){this.$3==null&&(this.$3=d("MAWGetLocalDeviceIdApi").getLocalDeviceId());return this.$3};return a}();function a(a){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;f.next=3;return b("regeneratorRuntime").awrap(d("MAWRemotePresenceSetup").setupArmadilloWebForRP(a));case 3:e=new h(a);return f.abrupt("return",e);case 7:f.prev=7,f.t0=f["catch"](0),d("ODS").bumpEntityKey(4083,"zenon_e2ee","identity_store_initialization_error"),c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__E2EE,checkpoint:"[ZSFM] [E2EE] Error initializing identity store: "+f.t0});case 11:case"end":return f.stop()}},null,this,[[0,7]])}g.createNewMAWIdentityStore=a}),98);
__d("ZenonIdentityStoreFactory",["ZenonActorHooks","ZenonAlwaysTrustIdentityStore","ZenonMAWIdentityStore","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}return f.abrupt("return",d("ZenonAlwaysTrustIdentityStore").createNewAlwaysTrustIdentityStore(d("ZenonActorHooks").ZenonActor.getID()));case 2:f.next=4;return b("regeneratorRuntime").awrap(d("ZenonMAWIdentityStore").createNewMAWIdentityStore(d("ZenonActorHooks").ZenonActor.getID()));case 4:e=f.sent;if(!(e==null)){f.next=7;break}throw c("err")("could not create a MAW identity store on an e2ee-mandated call");case 7:return f.abrupt("return",e);case 8:case"end":return f.stop()}},null,this)}e={create:a};g.ZenonIdentityStoreFactory=e}),98);
__d("ZenonMultiwayReliabilityLogProcessor",["ChannelClientID","RtcInfraReliabilityFalcoEvent","ZenonActorHooks","ZenonPeerID","ZenonSignalingProtocolUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h={version:"1",web_app_id:d("ZenonActorHooks").ZenonActor.getAppID(),web_device_id:c("ChannelClientID").getID()},i={beginRemoteSdpMunging:"BEGIN_REMOTE_SDP_MUNGING",connectionReady:"CONNECTION_READY",endRemoteSdpMunging:"END_REMOTE_SDP_MUNGING",endSetRemoteDescription:"END_SET_REMOTE_DESCRIPTION",inviteResponseReceived:"INVITE_RESPONSE_RECEIVED",mediaConnected:"RELAY_CONNECTED",setRemoteSdpAnswer:"BEGIN_SET_REMOTE_DESCRIPTION"};a=function(){function a(a){c("ZenonSignalingProtocolUtils").isMwSupportedProtocol(a.protocol)&&(a.peerID=d("ZenonPeerID").ZenonMWPeerID),this.$1=a.conferenceName,this.$3=a.signalingID,this.$2=a.serverInfoData}var e=a.prototype;e.processEvent=function(a){var d=this;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:a.name in i&&c("RtcInfraReliabilityFalcoEvent").log(function(){return babelHelpers["extends"]({client_session_id:d.$3,conference_name:d.$1,event_name:i[a.name],server_info_data:d.$2,tc:Date.now().toString()},h)});case 1:case"end":return b.stop()}},null,this)};return a}();g["default"]=a}),98);
__d("ZenonRTCConfig",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=null,j=null,k=0,l=null,m="https://www.facebook.com/help/211644178877843",n="https://www.facebook.com/help/work/919532078125908",o="https://www.facebook.com/help/232232800134371",p="https://www.facebook.com/help/work/180714775754632";function a(a){var b=a.isVCEndpointCall,c=a.meetingID,d=a.meetingPassword,e=a.peerID;a=a.serverConfig;h=b;i=c;j=d;k=e;l=a}function b(){return h}function d(){return i}function e(){return j}function f(){return k}function q(){return{bad_score_count:3,frr_weight:800,plr_weight:500,rtt_weight:2,score_threshold:1e3}}function r(){var a;return(a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.unsupported_browser)!=null?a:c("CurrentUser").isWorkUser()?n:m}function s(){var a;return(a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.user_media_error)!=null?a:c("CurrentUser").isWorkUser()?p:o}function t(){var a;return(a=(a=l)==null?void 0:(a=a.troubleshooting_urls)==null?void 0:a.user_media_permission_error)!=null?a:c("CurrentUser").isWorkUser()?p:o}function u(){var a;return((a=l)==null?void 0:a.is_messenger_dot_com)===!0}function v(){var a;return((a=l)==null?void 0:a.messenger_call_ui)===!0}function w(){var a;return((a=l)==null?void 0:a.use_hd_video_quality)===!0}function x(){var a;return((a=l)==null?void 0:a.data_channel)===!0}function y(){var a;return((a=l)==null?void 0:a.disable_url_manager)===!0}g.setConfig=a;g.getIsVCEndpointCall=b;g.getMeetingID=d;g.getMeetingPassword=e;g.getPeerID=f;g.statsInterpreterConfig=q;g.unsupportedBrowserUrl=r;g.userMediaErrorUrl=s;g.userMediaPermissionErrorUrl=t;g.isMessengerDotCom=u;g.useMessengerCallUI=v;g.shouldUseHDVideoQuality=w;g.shouldCreateDataChannel=x;g.disableURLManager=y}),98);
__d("ZenonSdpFormat",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNIFIED_PLAN:"unified-plan"});c=a;f["default"]=c}),66);
__d("ZenonRTCPeerConnectionConfig",["ZenonBrowsers","ZenonRTCConfig","ZenonRTWebBrowserFeatureSupport","ZenonSdpFormat","qex"],(function(a,b,c,d,e,f,g){"use strict";var h="stun:stun.fbsbx.com:3478";function i(a,b,c){a={urls:a};b!==void 0&&c!==void 0&&(a.username=b,a.credential=c);return[a]}function j(a,b,c){if(d("ZenonBrowsers").isChromium()&&d("ZenonBrowsers").webrtcVersion()>=34){var e={urls:a};b!==void 0&&c!==void 0&&(e.username=b,e.credential=c);return[e]}e=[];for(var f=0;f<a.length;f++)b!==void 0&&c!==void 0?e.push({credential:c,url:a[f],username:b}):e.push({url:a[f]});return e}a=function(){function a(){this.sslPort="",this.tcpPort="",this.turnIP="",this.turnPassword="",this.turnUsername="",this.udpPort=""}var b=a.prototype;b.setTurnCredentials=function(a){this.turnIP=a.ip,this.udpPort=a.udp_port,this.tcpPort=a.tcp_port,this.sslPort=a.ssl_tcp_port,this.turnUsername=a.username,this.turnPassword=a.password};b.getConfig=function(){if(d("ZenonRTCConfig").getIsVCEndpointCall())return{iceServers:[]};var a=j([h]).concat(j(this.$1(),this.turnUsername,this.turnPassword));return{iceServers:a}};b.getConfigZenonPlatform=function(){var a;a=(a=c("qex")._("1722"))!=null?a:!1;a=d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&a;var b="max-compat",e=this.turnIP==="",f=c("ZenonSdpFormat").UNIFIED_PLAN;e?e=i([h]):e=i([h]).concat(i(this.$1(),this.turnUsername,this.turnPassword));return{bundlePolicy:b,encodedInsertableStreams:a,iceServers:e,sdpSemantics:f}};b.getConstraints=function(a){a===void 0&&(a=!1);var b=!0;d("ZenonBrowsers").isChromium()&&d("ZenonBrowsers").webrtcVersion()<57&&a&&(b=!1);return{mandatory:{},optional:[{DtlsSrtpKeyAgreement:b}]}};b.$2=function(a){var b=this.turnIP,c,d=a;switch(a){case"tcp":c=this.tcpPort;break;case"udp":c=this.udpPort;break;case"ssl":c=this.sslPort;d="tcp";break;default:c=this.udpPort;d=null;break}return!((b==null?void 0:b.length)&&((a=c)==null?void 0:a.length))?null:d!=null&&d.length>0?"turn:"+b+":"+c+"?transport="+d:"turn:"+b+":"+c};b.$1=function(){if(d("ZenonBrowsers").isFirefox()&&d("ZenonBrowsers").webrtcVersion()<27)return[this.$2()].filter(Boolean);else return[this.$2("udp"),this.$2("tcp"),this.$2("ssl")].filter(Boolean)};return a}();b=new a();g["default"]=b}),98);
__d("ZenonSctpMWMessageSender",["Promise","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonSignalingConstants","ZenonValidateMWMessage","err","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=15e3,i="SCTP not opened";a=function(){function a(a){this.$3=a}var e=a.prototype;e.waitForSctpOpened=function(a){var e=this;return new(b("Promise"))(function(b,f){var g=e.$3.getDataChannelState(a,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC);switch((g=g)!=null?g:"does-not-exist"){case"open":b();break;case"closed":case"closing":f("channel is closed");break;case"does-not-exist":case"connecting":c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"SCTP not opened, deferring sending MWS message"});c("ZenonInfraActionsLogger").startTimer(i);var j=function f(){c("ZenonInfraActionsLogger").stopTimer(i),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"SCTP not opened, deferring sending MWS message"}),e.$3.unsubscribeDataChannelOpen(a,f,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC),window.clearTimeout(k),b()},k=window.setTimeout(function(){e.$3.unsubscribeDataChannelOpen(a,j,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC),c("ZenonInfraActionsLogger").stopTimer(i),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"SCTP never opened."}),f("timeout")},h);e.$3.subscribeDataChannelOpen(a,j,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC);break}})};e.asyncSendMessage=function(a){var e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:f=(e=a.jsonPayload.header.clientSessionId)!=null?e:"";i.prev=1;i.next=4;return b("regeneratorRuntime").awrap(this.waitForSctpOpened(f));case 4:i.next=10;break;case 6:i.prev=6;i.t0=i["catch"](1);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Not sending MWS message through SCTP because SCTP could not connect. Error: "+i.t0});return i.abrupt("return");case 10:g=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);g.logMWMessage("SENDING","SCTP",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);h=this.$4(a);if(h)try{this.$3.sendDataMessage(f,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC,JSON.stringify(h)),d("ZenonMWMessageReliabilityLogger").logSentMessage(a)}catch(b){this.$5(a,b.toString())}else this.$5(a,"Invalid message type sent through datachannel");case 16:case"end":return i.stop()}},null,this,[[1,6]])};e.$4=function(a){if(a.jsonPayload.body.serverMediaUpdateResponse!=null){var b=a.jsonPayload.body.serverMediaUpdateResponse.currentVersion;a=a.jsonPayload.body;a={signalingMessagePayload:JSON.stringify(a),version:b};return a}};e.$5=function(a,b){var e=c("ZenonDebugLogger").getInstance();b=b!=null?b:"SCTP Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[SCTP] "+b);e.logSendMultiwayMessageFailure(b,a.jsonPayload.header.type)};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return b("Promise").reject(c("err")("Invalid MW message"));var e=a.jsonPayload.header.type;return c("gkx")("3864")&&e===d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE?this.asyncSendMessage(a):b("Promise").reject(c("err")("SCTP only supports SMU"))};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonSctpMWMessageSenderHelper",["ZenonInfraActionsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.setupSctpChannelApi=function(a,b){this.$1.set(a,b)};b.sendDataMessage=function(a,b,c){a=this.$1.get(a);a!=null?a.sendDataMessage(b,c):this.$2()};b.getDataChannelState=function(a,b){a=this.$1.get(a);if(a!=null)return a.getDataChannelState(b);else this.$2()};b.subscribeDataChannelOpen=function(a,b,c){a=this.$1.get(a);a!=null?a.subscribeDataChannelOpen(b,c):this.$2()};b.unsubscribeDataChannelOpen=function(a,b,c){a=this.$1.get(a);a!=null?a.unsubscribeDataChannelOpen(b,c):this.$2()};b.$2=function(){var a="ZenonSctpMessageSenderHelper",b="[ZP] Peer Connection Manager was not setup for SCTP communication yet";c("ZenonInfraActionsLogger").logError({checkpoint:b,errorDomain:a})};return a}();g["default"]=a}),98);
__d("ZenonSignalingChildTransport",["Promise","Random","SecurePostMessage","URI","ZenonSignalingTransportTypes","gkx","isEmpty","isFacebookishURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f){var g=this;this.$6=null;this.$10=function(a){a.data.type!=null&&a.data.type===d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL&&a.data.nonce===g.$1&&(g.$6&&g.$6(a.data.mwRingRequest))};this.$2=a;this.$1=this.$8();this.$3=b;this.$7=c;this.$4=e;this.$5=f}var e=a.prototype;e.connect=function(){var a=this,c=b("Promise").race([new(b("Promise"))(function(b){a.$6=function(a){return b({isTimeout:!1,mwRingRequest:a})},a.$9()}),new(b("Promise"))(function(b){window.setTimeout(function(){b({isTimeout:!0,mwRingRequest:null})},a.$7)})]);return c.then(function(b){var c;a.$6=null;if((c=b.isTimeout)!=null?c:!0)return{state:"join_unavailable"};else return{mwRingRequest:b.mwRingRequest,state:"join_ready"}})};e.$9=function(){var a=this;if(window.opener&&window.opener.postMessage){window.addEventListener("message",this.$10,!1);var b={childNonce:this.$1,nonce:this.$2,peerID:this.$3,roomID:this.$4,serverInfoData:this.$5,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY},e=new MessageChannel();e.port1.onmessage=function(b){a.$10(b)};var f=window.location.origin;c("gkx")("1443572")||!c("isEmpty")(document.referrer)&&f!==document.referrer&&(c("isFacebookishURI")(new(c("URI"))(document.referrer))&&(f=document.referrer));d("SecurePostMessage").sendMessageToSpecificOrigin(window.opener,b,f,[e.port2])}};e.$8=function(){return String(d("Random").random())};return a}();g["default"]=a}),98);
__d("ZenonSignalingInitState",["setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4;function a(a,b){if(b.type==="receiveInviteRequest"){a.onInviteReceived(b.payload,b.configuration);return{inviteMessageID:b.messageID}}return{}}function b(a,b){b.type==="sendInviteRequest"&&a.sendSignalingEvent(b.payload)}function d(a){if(!a.pingTimer){var b;b=(b=(b=a.config)==null?void 0:b.getConfigManager().getSignalingPingConfig().getPingIntervalMs())!=null?b:h;var d={eventName:"pingRequest"};b=c("setInterval")(function(){a.sendSignalingEvent(d)},b);return{pingTimer:b}}return{}}g.onReceiveInvite=a;g.onSendInvite=b;g.startPingTimer=d}),98);
__d("ZenonSignalingInviteReceivedState",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.type==="sendInviteResponse"&&(a.inviteMessageID!=null?b.payload.status!=="OK"&&(b.payload.ackMessageId=a.inviteMessageID,a.sendSignalingEvent(b.payload)):c("FBLogger")("rtc_www").mustfix("onSendInviteResponse handler invoked without populated inviteMessageID in signaling state machine context."))}g.onSendInviteResponse=a}),98);
__d("ZenonSignalingNegotiationCompleteState",["ZenonDebugLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type==="receiveRemoteSdpRequest"){var d,e=b.payload,f=e.fromVersion;f=f===void 0?-1:f;var g=e.mediaPath,h=e.mediaStates,i=e.onProcessed,j=e.sdp;e=e.source;d=(d=a.lastAckedLocalSdpVersion)!=null?d:-1;c("ZenonDebugLogger").getInstance().logConsole("negotiationComplete receiveAnswer: lastAckedLocalSdpVersion: "+d+", fromVersion: "+f+", source: "+e);a.onSdpReceived(j,g,h,(d=e)!=null?d:null,null,i,b.payload.ackMessageId);return{lastRemoteMediaUpdateVersion:j.version}}return{}}function b(a,b){if(b.type==="sendMediaUpdateRequest")if(a.isMediaUpdateResponsePending===!0)return{mediaUpdateRequestToSend:b.payload};else{a=a.sendSignalingEvent(b.payload);return{isMediaUpdateResponsePending:!0,mediaUpdateRequestToSend:null,mediaUpdateRequestTransactionId:a}}return{}}g.onReceiveAnswer=a;g.onSendMediaUpdateRequest=b}),98);
__d("ZenonSignalingSharedActions",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonSignalingTypes","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.type!=="messageSent"&&a.sendSignalingEvent(b.payload)}function b(a,b){if(b.type!=="receiveCapabilitiesRequest")return;a.onCapabilitiesReceived(b.payload.capabilities,(a=b.payload.escalationConferenceName)!=null?a:null)}function e(a,b){if(b.type!=="receiveClientInfoRequest")return;a.onClientInfoReceived(b.payload.userCapabilities,b.payload.actorRepresentatives)}function f(a,b){if(b.type!=="receiveGenericDataMessageRequest")return;a.sendSignalingEvent({ackMessageId:b.messageID,eventName:"genericDataMessageResponse"});a.onGenericDataMessageReceived(b.payload.topic,b.payload.data)}function h(a,b){if(b.type!=="receiveIceCandidateRequest")return;var c={ackMessageId:b.messageID,eventName:"iceCandidateResponse"};a.sendSignalingEvent(c);var d=a.onIceCandidateReceived;b.payload.iceCandidates.forEach(function(a){return d(a)})}function i(a,b){var e;if(b.type!=="receiveInitiateRenegotiationRequest")return{};var f=b.payload,g=f.hasRemoteOffer;f=f.messageTags;var h=x(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion);e={ackMessageId:b.messageID,acknowledgedVersion:h?(e=a.lastRemoteMediaUpdateVersion)!=null?e:0:b.payload.version,eventName:"initiateRenegotiationResponse",hasRemoteOffer:g,messageTags:f,statusCode:h?d("ZenonSignalingTypes").ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH:d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK};a.sendSignalingEvent(e);b.payload.onProcessed();if(h)return{};f=a.signalingModel.getMediaModeManager();b.payload.mediaPath===d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P?(f.onDeescalated(),g?(a.logEvent({name:"renegotiationSmuReqWithOfferReceived"}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"initiateRenegotiationRequest: De-escalation callee"})):(a.logEvent({name:"renegotiationSmuReqWithAnswerReceived"}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"initiateRenegotiationRequest: De-escalation caller"}))):(f.onSfuEscalated(),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"initiateRenegotiationRequest: SFU escalation"}));a.onRenegotiationRequested(g);return g?{}:C((e=a.lastRemoteMediaUpdateVersion)!=null?e:null,b.payload.version)}function j(a,b){if(b.type!=="receiveLocalSdpResponse")return;b.payload.source==="joinResponse"&&a.logEvent({name:"inviteResponseReceived"});b=b.payload.hasAnswerInJoinResponse;!b?a.logEvent({name:"inviteResponseProcessed"}):a.signalingModel.getMediaModeManager().onSfuEscalated();a.logEvent({hasAnswerInJoinResponse:b,name:"setHasAnswerInJoinResponse"});a.logEvent({name:"startHeartbeat"})}function k(a,b){if(b.type!=="receiveMediaUpdateRequest")return{};var c=a.lastRemoteMediaUpdateVersion,e=b.payload,f=e.mediaStates,g=f.fromVersion;f=f.version;var h=e.messageTags;e=e.onProcessed;e&&e();e=c!=null&&g!=null&&c!==g;g={ackMessageId:b.messageID,acknowledgedVersion:e&&a.lastRemoteMediaUpdateVersion!=null?a.lastRemoteMediaUpdateVersion:b.payload.mediaStates.version,eventName:"mediaUpdateResponse",messageTags:h,responseStatusCode:e?d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK};a.sendSignalingEvent(g);if(!e){a.onMediaUpdateReceived(b.payload.mediaStates);if(c==null||f>c)return{lastRemoteMediaUpdateVersion:f}}return{}}function l(a,b){if(b.type!=="receiveParticipantUpdateRequest")return;var c={ackMessageId:b.messageID,eventName:"participantUpdateResponse",requestVersionId:b.payload.versionId};a.sendSignalingEvent(c);a.onParticipantUpdateReceived(b.payload.participantStates)}function m(a){a.onPendingApprovalReceived(),a.logEvent({name:"pendingApproval"})}function n(a){a.onServerRenegotiationFinished()}function o(a,b){var c;if(b.type!=="receiveRemoteSdpRequest")return{};var e=x(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion);if(((c=b.payload)==null?void 0:c.source)!=="joinResponse"){c={ackMessageId:b.messageID,acknowledgedVersion:e?a.lastRemoteMediaUpdateVersion:b.payload.sdp.version,eventName:"remoteSdpResponse",messageTags:b.payload.messageTags,negotiateType:b.payload.negotiateType,statusCode:e?d("ZenonSignalingTypes").ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH:d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:b.payload.sdp.type};a.sendSignalingEvent(c)}if(e){b.payload.onProcessed&&b.payload.onProcessed();return{}}b.payload.source==="serverMediaUpdateRequest"&&b.payload.sdp.type==="answer"&&a.logEvent({name:"smuWithAnswerReceived"});a.onSdpReceived(b.payload.sdp,b.payload.mediaPath,b.payload.mediaStates,(c=b.payload.source)!=null?c:null,b.payload.renegotiationOffer,b.payload.onProcessed,b.payload.ackMessageId);return babelHelpers["extends"]({},C((e=a.lastRemoteMediaUpdateVersion)!=null?e:null,b.payload.sdp.version),{lastRemoteSdpResponseMessageId:b.messageID})}function p(a,b){if(b.type!=="receiveRoomContextUpdateRequest")return;a.onRoomContextUpdateReceived(b.payload.context)}function q(a,b){if(b.type!=="receiveStateSyncNotifyRequest")return;var c=a.signalingModel,d=b.payload,e=d.data,f=d.responseRequired,g=d.topic;d=d.version;c.getStateSyncStore().updateOutputState(g,{data:e,version:d});c.notify();if(f){e={ackMessageId:b.messageID,eventName:"stateSyncNotifyResponse",topic:g,version:d};a.sendSignalingEvent(e)}}function r(a,b){if(b.type!=="receiveOverlayConfigServerUpdateRequest")return;if(c("killswitch")("RP_ZENON_OVERLAYCONFIG_SERVER_LAYER"))return;a=a.signalingModel;a.updateOverlayConfigServerLayer(b.payload.serverLayer);a.notify()}function s(a,b){if(b.type!=="receiveTerminateRequest")return;b.payload.fromJoinResponse===!0&&a.logEvent({name:"inviteResponseReceived"});if(b.payload.shouldInformPeer){var c={ackMessageId:b.messageID,eventName:"dismissResponse"};a.sendSignalingEvent(c)}a.onDismissReceived(a.signalingModel.getSignalingID(),b.payload.reason,(c=b.payload.subreason)!=null?c:null)}function t(a,b){if(b.type!=="sendSubscriptionRequest")return{};var c=a.lastSubscriptions;a=a.sendSignalingEvent;var d=[].concat(b.payload.subscriptions).sort(D);d=JSON.stringify(d);c!==d&&a(b.payload);return{lastSubscriptions:d}}function u(a,b){if(b.type!=="sendClientRenegotiationRequest")return;b=b.payload.negotiationEvent;a.onClientRenegotiationReceived(b)}function v(a,b){b.type==="sendTerminateRequest"&&b.payload.shouldInformPeer&&a.sendSignalingEvent(b.payload)}function w(a,b){if(b.type!=="sendUsersApprovalRequest")return;a.sendSignalingEvent(b.payload)}function x(a,b){return a!=null&&b!=null&&a!==b}function y(a,b){return A(a,b,!1)}function z(a,b){return A(a,b,!0)}function A(a,b,d){if(b.type==="receiveMediaUpdateResponse"){var e;e=(e=a==null?void 0:a.lastAckedLocalSdpVersion)!=null?e:-1;var f=b.payload.acknowledgedVersion;c("ZenonDebugLogger").getInstance().logConsole("receiveMediaUpdate: lastAckedSdpVersion "+String(e)+", remoteAckedVersion: "+String(f));if(f>=e){a.lastAckedLocalSdpVersion=f;a.onMediaUpdateResponseReceived({cancelNegotiations:d,responseStatusCode:(e=b.payload.responseStatusCode)!=null?e:null,responseSubCode:(f=b.payload.responseSubCode)!=null?f:null,retryAfter:(d=b.payload.retryAfter)!=null?d:null})}else c("ZenonDebugLogger").getInstance().logConsole("mediaUpdateResponse: Ignoring old message response");e=a.mediaUpdateRequestToSend;if(e){f=a.sendSignalingEvent(e);return{isMediaUpdateResponsePending:!0,lastAckedLocalSdpVersion:a.lastAckedLocalSdpVersion,mediaUpdateRequestToSend:null,mediaUpdateRequestTransactionId:f}}else return{isMediaUpdateResponsePending:!1,lastAckedLocalSdpVersion:a.lastAckedLocalSdpVersion,mediaUpdateRequestTransactionId:""}}return{}}function B(a,b){if(b.type!=="sendLocalSdpRequest")return{};a=a.sendSignalingEvent(b.payload);return{mediaUpdateRequestTransactionId:a}}function C(a,b){return a==null||b>a?{lastRemoteMediaUpdateVersion:b}:{}}function D(a,b){if(a.type!==b.type)return a.type-b.type;a=(a=a.trackId)!=null?a:null;b=(b=b.trackId)!=null?b:null;if(a===null||b===null)return 0;else return a.localeCompare(b)}g.genericEventSender=a;g.onReceiveCapabilitiesRequest=b;g.onReceiveClientInfoRequest=e;g.onReceiveGenericDataMessageRequest=f;g.onReceiveIceCandidateRequest=h;g.onReceiveInitiateRenegotiationRequest=i;g.onReceiveLocalSdpResponse=j;g.onReceiveMediaUpdateRequest=k;g.onReceiveParticipantUpdateRequest=l;g.onReceivePendingApprovalRequest=m;g.onServerRenegotiationFinished=n;g.onReceiveRemoteSdpRequest=o;g.onReceiveRoomContextUpdateRequest=p;g.onReceiveStateSyncNotifyRequest=q;g.onReceiveOverlayConfigServerUpdateRequest=r;g.onReceiveTerminateRequest=s;g.onSendSubscriptionRequest=t;g.onSendClientRenegotiationRequest=u;g.onSendTerminateRequest=v;g.onSendUsersApprovalRequest=w;g.shouldRejectRequest=x;g.onNonSDPReceiveMediaUpdateResponse=y;g.onReceiveMediaUpdateResponse=z;g.onSendLocalSdpRequestOffer=B}),98);
__d("ZenonSignalingSMGuards",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonSignalingSharedActions","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="offer"&&d("ZenonSignalingSharedActions").shouldRejectRequest(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion)===!1;c("ZenonDebugLogger").getInstance().logGuardsResults("sdpOfferReceiveNotRejectedGuard",a);return a}function b(a,b){a=b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="offer"&&d("ZenonSignalingSharedActions").shouldRejectRequest(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion);c("ZenonDebugLogger").getInstance().logGuardsResults("sdpOfferReceiveRejectedGuard",a);return a}function e(a,b){if(!c("qex")._("1748"))return!1;a=b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="pranswer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpPrAnswerReceiveGuard",a);return a}function f(a,b){a=b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="answer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpAnswerReceiveGuard",a);return a}function h(a,b){a=b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="answer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpAnswerSendGuard",a);return a}function i(a,b){a=b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="answer"&&c("justknobx")._("545");c("ZenonDebugLogger").getInstance().logGuardsResults("negotiationCompleteDelayFixGuard",a);return a}function j(a,b){a=b.type==="receiveLocalSdpResponse"&&b.payload.source==="joinResponse";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpJoinResponseReceiveGuard",a);return a}function k(a,b){a=b.type==="receiveRemoteSdpRequest"&&(b.payload.source==="serverMediaUpdateRequest"||b.payload.source==="clientMediaUpdateResponse");b.type==="receiveRemoteSdpRequest"&&!a&&c("gkx")("891")&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Calling the processed function for transaction id: "+String(b.payload.ackMessageId)+". Payload source: "+String(b.payload.source)+"."}),b.payload.onProcessed&&b.payload.onProcessed());return a}function l(a,b){a=b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="offer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpOfferReceiveGuard",a);return a}function m(a,b){a=b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="offer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpOfferSendGuard",a);return a}function n(a,b){a=b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="offer";c("ZenonDebugLogger").getInstance().logGuardsResults("sdpOfferSendGuardNegotiationComplete",a);return a}function o(a,b){var e=b.type==="receiveMediaUpdateResponse"&&b.payload.responseStatusCode!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK&&b.payload.ackMessageId===a.mediaUpdateRequestTransactionId;c("ZenonDebugLogger").getInstance().logGuardsResults("receiveNonOkMediaUpdateResponseGuard",e);b.type==="receiveMediaUpdateResponse"&&b.payload.responseStatusCode!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Server rejected offer with code: "+String(b.payload.responseStatusCode)+". Outgoing transaction id was: "+String(a.mediaUpdateRequestTransactionId)+". Incoming transaction id was: "+String(b.payload.ackMessageId)+". Transaction should be canceled: "+String(e)+"."});return e}function p(a,b){var d=b.type==="messageSent"&&b.messageID===a.lastRemoteSdpResponseMessageId;b=b.messageID;if(c("gkx")("2890")){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"lastRemoteSdpResponseMessageIdSentGuard: "+(d?"Passed":"Failed")+" Last ID: "+((a=a.lastRemoteSdpResponseMessageId)!=null?a:"null")+". 'Incoming ID: "+((a=b)!=null?a:"null")})}return d}g.sdpOfferReceiveNotRejectedGuard=a;g.sdpOfferReceiveRejectedGuard=b;g.sdpPrAnswerReceiveGuard=e;g.sdpAnswerReceiveGuard=f;g.sdpAnswerSendGuard=h;g.negotiationCompleteDelayFixGuard=i;g.sdpJoinResponseReceiveGuard=j;g.receiveRemoteSdpRequestSmuOrCmuGuard=k;g.sdpOfferReceiveGuard=l;g.sdpOfferSendGuard=m;g.sdpOfferSendGuardNegotiationComplete=n;g.receiveNonOkMediaUpdateResponseGuard=o;g.lastRemoteSdpResponseMessageIdSentGuard=p}),98);
__d("ZenonSignalingTerminatedState",["ZenonMWMessageReliabilityLogger","ZenonMWMessageTypes","ZenonSignalingTypes","clearInterval"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.pingTimer){c("clearInterval")(a.pingTimer);delete a.pingTimer;return a}return{}}function b(a,b){var c;if(b.type!=="receiveRemoteSdpRequest")return;b.payload.ackMessageId!=null&&d("ZenonMWMessageReliabilityLogger").logEventForTxid(b.payload.ackMessageId,d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.RECEIVED_REQUEST_IN_TERMINATED_STATE,{signalingState:"terminated"});b.payload.onProcessed&&b.payload.onProcessed();c={ackMessageId:(c=b.payload.ackMessageId)!=null?c:b.messageID,acknowledgedVersion:b.payload.sdp.version,eventName:"remoteSdpResponse",messageTags:b.payload.messageTags,negotiateType:b.payload.negotiateType,statusCode:d("ZenonSignalingTypes").ZenonSignalingStatusCode.METHOD_NOT_ALLOWED,subCode:d("ZenonSignalingTypes").ZenonSignalingStatusSubCode.CLIENT_TERMINATED,type:b.payload.sdp.type};a.sendSignalingEvent(c)}function e(a,b){if(b.type!=="receiveInitiateRenegotiationRequest")return;b.payload.onProcessed&&b.payload.onProcessed();b={ackMessageId:b.messageID,acknowledgedVersion:b.payload.version,eventName:"initiateRenegotiationResponse",hasRemoteOffer:!1,statusCode:d("ZenonSignalingTypes").ZenonSignalingStatusCode.METHOD_NOT_ALLOWED,subCode:d("ZenonSignalingTypes").ZenonSignalingStatusSubCode.CLIENT_TERMINATED};a.sendSignalingEvent(b)}function f(a,b){if(b.type!=="receiveMediaUpdateRequest")return;b.payload.onProcessed&&b.payload.onProcessed();b={ackMessageId:b.messageID,acknowledgedVersion:b.payload.mediaStates.version,eventName:"mediaUpdateResponse",responseStatusCode:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED,responseSubCode:d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_TERMINATED};a.sendSignalingEvent(b)}g.stopPingTimer=a;g.onReceiveRemoteSdpRequest=b;g.onReceiveInitiateRenegotiationRequest=e;g.onReceiveMediaUpdateRequest=f}),98);
__d("getReceiveEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){switch(a.eventName){case"addParticipantsRequest":return{payload:a,type:"receiveAddParticipantsRequest"};case"addParticipantsResponse":return{payload:a,type:"receiveAddParticipantsResponse"};case"pendingApprovalRequest":return{configuration:c,messageID:b,payload:a,type:"receivePendingApprovalRequest"};case"answerIntentRequest":return null;case"clientEventRequest":return null;case"clientRenegotiationRequest":return null;case"capabilitiesRequest":return{configuration:c,messageID:b,payload:a,type:"receiveCapabilitiesRequest"};case"clientInfoRequest":return{configuration:c,messageID:b,payload:a,type:"receiveClientInfoRequest"};case"dismissResponse":return{configuration:c,messageID:b,payload:a,type:"receiveDismissResponse"};case"iceCandidateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveIceCandidateRequest"};case"iceCandidateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveIceCandidateResponse"};case"initiateRenegotiationRequest":return{configuration:c,messageID:b,payload:a,type:"receiveInitiateRenegotiationRequest"};case"initiateRenegotiationResponse":return null;case"inviteRequest":return{configuration:c,messageID:b,payload:a,type:"receiveInviteRequest"};case"inviteResponse":return{configuration:c,messageID:b,payload:a,type:"receiveInviteResponse"};case"localSdpRequest":return null;case"localSdpResponse":return{configuration:c,messageID:b,payload:a,type:"receiveLocalSdpResponse"};case"mediaUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveMediaUpdateRequest"};case"mediaUpdateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveMediaUpdateResponse"};case"overlayConfigServerUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveOverlayConfigServerUpdateRequest"};case"participantUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveParticipantUpdateRequest"};case"participantUpdateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveParticipantUpdateResponse"};case"pingResponse":return{configuration:c,messageID:b,payload:a,type:"receivePingResponse"};case"pingRequest":return null;case"remoteSdpRequest":return{configuration:c,messageID:b,payload:a,type:"receiveRemoteSdpRequest"};case"remoteSdpResponse":return{configuration:c,messageID:b,payload:a,type:"receiveRemoteSdpResponse"};case"stateSyncNotifyRequest":return{configuration:c,messageID:b,payload:a,type:"receiveStateSyncNotifyRequest"};case"stateSyncNotifyResponse":return null;case"stateSyncUnsubscribeRequest":return null;case"stateSyncUnsubscribeResponse":return{configuration:c,messageID:b,payload:a,type:"receiveStateSyncUnsubscribeResponse"};case"stateSyncUpdateRequest":return null;case"stateSyncUpdateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveStateSyncUpdateResponse"};case"subscriptionRequest":return null;case"removeParticipantsRequest":return null;case"usersApprovalRequest":return null;case"terminateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveTerminateRequest"};case"hangupResponse":return null;case"roomContextUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveRoomContextUpdateRequest"};case"genericDataMessageRequest":return{configuration:c,messageID:b,payload:a,type:"receiveGenericDataMessageRequest"};case"genericDataMessageResponse":return{configuration:c,messageID:b,payload:a,type:"receiveGenericDataMessageResponse"};case"wakeupRequest":return{configuration:c,messageID:b,payload:a,type:"receiveWakeupRequest"};case"wakeupResponse":return null;default:a;return null}}f["default"]=a}),66);
__d("getSendEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.eventName){case"addParticipantsRequest":return{payload:a,type:"sendAddParticipantsRequest"};case"addParticipantsResponse":return{payload:a,type:"sendAddParticipantsResponse"};case"answerIntentRequest":return{payload:a,type:"sendAnswerIntentRequest"};case"usersApprovalRequest":return{payload:a,type:"sendUsersApprovalRequest"};case"capabilitiesRequest":return{payload:a,type:"sendCapabilitiesRequest"};case"clientEventRequest":return{payload:a,type:"sendClientEventRequest"};case"clientInfoRequest":return{payload:a,type:"sendClientInfoRequest"};case"clientRenegotiationRequest":return{payload:a,type:"sendClientRenegotiationRequest"};case"dismissResponse":return{payload:a,type:"sendDismissResponse"};case"iceCandidateRequest":return{payload:a,type:"sendIceCandidateRequest"};case"iceCandidateResponse":return{payload:a,type:"sendIceCandidateResponse"};case"initiateRenegotiationRequest":return null;case"initiateRenegotiationResponse":return{payload:a,type:"sendInitiateRenegotiationResponse"};case"inviteRequest":return{payload:a,type:"sendInviteRequest"};case"inviteResponse":return{payload:a,type:"sendInviteResponse"};case"localSdpRequest":return{payload:a,type:"sendLocalSdpRequest"};case"localSdpResponse":return{payload:a,type:"sendLocalSdpResponse"};case"mediaUpdateRequest":return{payload:a,type:"sendMediaUpdateRequest"};case"mediaUpdateResponse":return{payload:a,type:"sendMediaUpdateResponse"};case"overlayConfigServerUpdateRequest":return{payload:a,type:"sendOverlayConfigServerUpdateRequest"};case"participantUpdateRequest":return{payload:a,type:"sendParticipantUpdateRequest"};case"participantUpdateResponse":return{payload:a,type:"sendParticipantUpdateResponse"};case"pingResponse":return null;case"pingRequest":return{payload:a,type:"sendPingRequest"};case"remoteSdpRequest":return null;case"remoteSdpResponse":return{payload:a,type:"sendRemoteSdpResponse"};case"subscriptionRequest":return{payload:a,type:"sendSubscriptionRequest"};case"removeParticipantsRequest":return{payload:a,type:"sendRemoveParticipantsRequest"};case"stateSyncNotifyRequest":return null;case"stateSyncNotifyResponse":return{payload:a,type:"sendStateSyncNotifyResponse"};case"stateSyncUnsubscribeRequest":return{payload:a,type:"sendStateSyncUnsubscribeRequest"};case"stateSyncUnsubscribeResponse":return null;case"stateSyncUpdateRequest":return{payload:a,type:"sendStateSyncUpdateRequest"};case"stateSyncUpdateResponse":return null;case"terminateRequest":return{payload:a,type:"sendTerminateRequest"};case"hangupResponse":return null;case"roomContextUpdateRequest":return null;case"genericDataMessageRequest":return{payload:a,type:"sendGenericDataMessageRequest"};case"pendingApprovalRequest":return null;case"genericDataMessageResponse":return{payload:a,type:"sendGenericDataMessageResponse"};case"wakeupRequest":return null;case"wakeupResponse":return{payload:a,type:"sendWakeupResponse"};default:a;return null}}f["default"]=a}),66);
__d("ZenonSignalingStateMachine",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","ZenonSignalingInitState","ZenonSignalingInviteReceivedState","ZenonSignalingNegotiationCompleteState","ZenonSignalingSMGuards","ZenonSignalingSharedActions","ZenonSignalingTerminatedState","ZenonStateMachineBase","getReceiveEvent","getSendEvent","qpl","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h=["receiveRemoteSdpRequest","receiveInitiateRenegotiationRequest","receiveMediaUpdateRequest"],i={loggingStateName:"signalingState",name:"SignalingStateMachine",shortname:"Signaling",timeoutEvent:d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.STUCK_IN_SIGNALING_STATE_MACHINE};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;e===void 0&&(e="init");f=a.call(this,{base:{guards:d("ZenonSignalingSMGuards"),initState:"init"},logging:babelHelpers["extends"]({},i,{eventToLogTimeoutsOn:null,getTransactionId:function(a){return a.type!=="messageSent"?a.payload.ackMessageId:null},loggableEvents:h,loggingId:+b.signalingModel.getSignalingID()}),machine:{context:babelHelpers["extends"]({},b),initialState:e,states:D}})||this;f.sm.onTransition(function(a){c("ZenonInfraActionsLogger").updateCachedValues({signalingState:a.value});var b=a.event.type==="receiveRemoteSdpRequest"?a.event.messageID:null;f.logTransition(a,b);f.logTransaction(a.event,d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.PROCESSED_SM_EVENT)});f.$ZenonSignalingStateMachine1=b.sendSignalingEvent;c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64245348,"8823"),f.loggingId);return f}var e=b.prototype;e.processSendEvent=function(a){a=c("getSendEvent")(a);a!=null&&this.$ZenonSignalingStateMachine2(a)};e.processReceiveEvent=function(a,b,d){if(a.eventName==="wakeupRequest"){this.$ZenonSignalingStateMachine1(a);return}a=c("getReceiveEvent")(a,b,d);a!=null&&this.$ZenonSignalingStateMachine2(a)};e.processEvent=function(a){this.$ZenonSignalingStateMachine2(a)};e.$ZenonSignalingStateMachine2=function(a){var b=a.type==="receiveRemoteSdpRequest"?a.messageID:null;this.logEvent(a,b);this.sm.send(a)};return b}(d("ZenonStateMachineBase").ZenonStateMachineBase);b={actions:[d("ZenonSignalingSharedActions").genericEventSender]};e={actions:[d("ZenonSignalingSharedActions").onReceiveTerminateRequest],target:"terminated"};f={actions:[d("ZenonSignalingSharedActions").genericEventSender]};var j={actions:[d("ZenonSignalingSharedActions").genericEventSender]},k={actions:[d("ZenonSignalingSharedActions").genericEventSender]},l={actions:[d("ZenonSignalingSharedActions").onReceiveCapabilitiesRequest]},m={actions:[d("ZenonSignalingSharedActions").onReceiveClientInfoRequest]},n={actions:[d("ZenonSignalingSharedActions").onReceiveGenericDataMessageRequest]},o={actions:[d("ZenonSignalingSharedActions").onReceiveIceCandidateRequest]},p={actions:[d("ZenonSignalingSharedActions").genericEventSender]},q={actions:[d("ZenonSignalingSharedActions").genericEventSender]},r={actions:[d("ZenonSignalingSharedActions").genericEventSender]},s={actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onSendSubscriptionRequest)]},t={actions:[d("ZenonSignalingSharedActions").onSendTerminateRequest],target:"terminated"},u={actions:[d("ZenonSignalingSharedActions").genericEventSender]},v={actions:[d("ZenonSignalingSharedActions").onReceiveParticipantUpdateRequest]},w={actions:[d("ZenonSignalingSharedActions").onReceiveRoomContextUpdateRequest]},x={actions:[d("ZenonSignalingSharedActions").onReceiveOverlayConfigServerUpdateRequest]},y={actions:[d("ZenonSignalingSharedActions").onReceiveStateSyncNotifyRequest]},z={actions:[d("ZenonSignalingSharedActions").genericEventSender]},A={actions:[d("ZenonSignalingSharedActions").genericEventSender]},B={actions:[d("ZenonSignalingSharedActions").onSendUsersApprovalRequest]},C={actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveMediaUpdateRequest)]},D={init:{on:{sendInviteRequest:{actions:[d("xstate").assign(d("ZenonSignalingInitState").startPingTimer),d("ZenonSignalingInitState").onSendInvite],target:"inviteSent"},receiveInviteRequest:{target:"inviteReceived",actions:[d("xstate").assign(d("ZenonSignalingInitState").startPingTimer),d("xstate").assign(d("ZenonSignalingInitState").onReceiveInvite)]},receiveRoomContextUpdateRequest:w,receiveTerminateRequest:e,sendClientInfoRequest:b,sendRemoveParticipantsRequest:u,sendUsersApprovalRequest:B,sendSubscriptionRequest:s,sendTerminateRequest:t,receiveMediaUpdateRequest:C,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,receiveCapabilitiesRequest:d("ZenonStateMachineBase").defer,receiveClientInfoRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveIceCandidateRequest:d("ZenonStateMachineBase").defer,receiveParticipantUpdateRequest:d("ZenonStateMachineBase").defer,receiveLocalSdpResponse:d("ZenonStateMachineBase").defer,receiveMediaUpdateResponse:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendCapabilitiesRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},inviteSent:{on:{sendLocalSdpRequest:{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard,target:"offerSdpSent"},receiveIceCandidateRequest:o,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,receiveTerminateRequest:e,sendCapabilitiesRequest:r,sendClientInfoRequest:b,sendRemoveParticipantsRequest:u,receiveMediaUpdateRequest:C,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendSubscriptionRequest:s,sendTerminateRequest:t,sendUsersApprovalRequest:B,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},offerSdpSent:{on:{receiveLocalSdpResponse:{actions:[d("ZenonSignalingSharedActions").onReceiveLocalSdpResponse],cond:d("ZenonSignalingSMGuards").sdpJoinResponseReceiveGuard,target:"offerSdpAcknowledged"},receiveCapabilitiesRequest:l,receiveClientInfoRequest:m,receiveIceCandidateRequest:o,receiveMediaUpdateRequest:C,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,receiveTerminateRequest:e,sendAddParticipantsRequest:q,sendAnswerIntentRequest:f,sendUsersApprovalRequest:B,sendClientInfoRequest:b,sendRemoveParticipantsRequest:u,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendSubscriptionRequest:s,receivePendingApprovalRequest:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,receiveInitiateRenegotiationRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendTerminateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},offerSdpAcknowledged:{on:{receivePendingApprovalRequest:{actions:[d("ZenonSignalingSharedActions").onReceivePendingApprovalRequest]},receiveRemoteSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpPrAnswerReceiveGuard},{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpAnswerReceiveGuard,target:"negotiationComplete"}],receiveInitiateRenegotiationRequest:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveInitiateRenegotiationRequest)],target:"negotiationComplete"},receiveCapabilitiesRequest:l,receiveClientInfoRequest:m,receiveIceCandidateRequest:o,receiveMediaUpdateRequest:C,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,receiveTerminateRequest:e,sendAddParticipantsRequest:q,sendAnswerIntentRequest:f,sendUsersApprovalRequest:B,sendClientInfoRequest:b,sendRemoveParticipantsRequest:u,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendStateSyncUnsubscribeRequest:A,sendStateSyncUpdateRequest:z,sendSubscriptionRequest:s,sendTerminateRequest:t,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},inviteReceived:{on:{sendInviteResponse:{actions:[d("ZenonSignalingInviteReceivedState").onSendInviteResponse],target:"inviteAcknowledged"},receiveRoomContextUpdateRequest:w,sendAnswerIntentRequest:f,sendIceCandidateRequest:k,sendUsersApprovalRequest:B,sendRemoveParticipantsRequest:u,receiveMediaUpdateRequest:C,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendStateSyncUnsubscribeRequest:A,sendStateSyncUpdateRequest:z,sendSubscriptionRequest:s,sendTerminateRequest:t,receiveCapabilitiesRequest:d("ZenonStateMachineBase").defer,receiveClientInfoRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveIceCandidateRequest:d("ZenonStateMachineBase").defer,receiveParticipantUpdateRequest:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveTerminateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer}},inviteAcknowledged:{on:{sendLocalSdpRequest:[{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard,target:"offerSdpSent"},{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard,target:"negotiationComplete"}],receiveRemoteSdpRequest:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveGuard,target:"offerSdpReceived"},receiveCapabilitiesRequest:l,receiveClientInfoRequest:m,receiveIceCandidateRequest:o,receiveMediaUpdateRequest:C,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,receiveTerminateRequest:e,sendAnswerIntentRequest:f,sendClientInfoRequest:b,sendIceCandidateRequest:k,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendSubscriptionRequest:s,sendTerminateRequest:t,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendUsersApprovalRequest:d("ZenonStateMachineBase").defer,sendRemoveParticipantsRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},offerSdpReceived:{on:{sendLocalSdpRequest:[{actions:d("ZenonSignalingSharedActions").genericEventSender,cond:d("ZenonSignalingSMGuards").negotiationCompleteDelayFixGuard},{actions:d("ZenonSignalingSharedActions").genericEventSender,cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard,target:"negotiationComplete"}],receiveCapabilitiesRequest:l,receiveClientInfoRequest:m,receiveIceCandidateRequest:o,receiveMediaUpdateRequest:C,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,receiveTerminateRequest:e,sendAnswerIntentRequest:f,sendCapabilitiesRequest:r,sendClientInfoRequest:b,sendIceCandidateRequest:k,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendSubscriptionRequest:s,sendTerminateRequest:t,receiveLocalSdpResponse:{actions:[d("ZenonSignalingSharedActions").onReceiveLocalSdpResponse],target:"negotiationComplete"},sendUsersApprovalRequest:d("ZenonStateMachineBase").defer,sendRemoveParticipantsRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer}},negotiationComplete:{on:{receiveCapabilitiesRequest:l,receiveClientInfoRequest:m,receiveGenericDataMessageRequest:n,receiveIceCandidateRequest:o,receiveInitiateRenegotiationRequest:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveInitiateRenegotiationRequest)]},receiveLocalSdpResponse:{actions:[d("ZenonSignalingSharedActions").onReceiveLocalSdpResponse],cond:d("ZenonSignalingSMGuards").sdpJoinResponseReceiveGuard},receiveMediaUpdateRequest:C,receiveMediaUpdateResponse:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onNonSDPReceiveMediaUpdateResponse)]},receiveOverlayConfigServerUpdateRequest:x,receiveParticipantUpdateRequest:v,receivePendingApprovalRequest:{actions:[d("ZenonSignalingSharedActions").onReceivePendingApprovalRequest]},receiveRemoteSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveNotRejectedGuard,target:"serverInitiatedRenegotiating"},{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveRejectedGuard},{actions:[d("xstate").assign(d("ZenonSignalingNegotiationCompleteState").onReceiveAnswer)],cond:d("ZenonSignalingSMGuards").sdpAnswerReceiveGuard}],receiveRoomContextUpdateRequest:w,receiveStateSyncNotifyRequest:y,receiveTerminateRequest:e,sendAddParticipantsRequest:q,sendClientEventRequest:p,sendClientRenegotiationRequest:{actions:[d("ZenonSignalingSharedActions").onSendClientRenegotiationRequest],target:"clientInitiatedRenegotiating"},sendGenericDataMessageRequest:j,sendIceCandidateRequest:k,sendLocalSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onSendLocalSdpRequestOffer)],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuardNegotiationComplete,target:"clientInitiatedRenegotiating"},{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard}],sendMediaUpdateRequest:[{actions:[d("xstate").assign(d("ZenonSignalingNegotiationCompleteState").onSendMediaUpdateRequest)]}],sendPingRequest:{actions:[d("ZenonSignalingSharedActions").genericEventSender]},sendRemoveParticipantsRequest:u,sendStateSyncUnsubscribeRequest:A,sendStateSyncUpdateRequest:z,sendSubscriptionRequest:s,sendTerminateRequest:t,sendUsersApprovalRequest:B}},serverInitiatedRenegotiating:{on:{sendLocalSdpRequest:[{actions:["defer"],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard},{actions:d("ZenonSignalingSharedActions").genericEventSender,cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard}],messageSent:{actions:[d("ZenonSignalingSharedActions").onServerRenegotiationFinished],cond:d("ZenonSignalingSMGuards").lastRemoteSdpResponseMessageIdSentGuard,target:"negotiationComplete"},receiveCapabilitiesRequest:d("ZenonStateMachineBase").defer,receiveClientInfoRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:n,receiveIceCandidateRequest:o,receiveMediaUpdateRequest:d("ZenonStateMachineBase").defer,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,sendUsersApprovalRequest:B,receiveTerminateRequest:e,sendAddParticipantsRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:k,sendRemoveParticipantsRequest:d("ZenonStateMachineBase").defer,receiveOverlayConfigServerUpdateRequest:d("ZenonStateMachineBase").defer,receiveStateSyncNotifyRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendSubscriptionRequest:d("ZenonStateMachineBase").defer,sendTerminateRequest:t,sendGenericDataMessageRequest:j,sendClientEventRequest:p,receiveLocalSdpResponse:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,receiveMediaUpdateResponse:d("ZenonStateMachineBase").defer}},clientInitiatedRenegotiating:{on:{sendLocalSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onSendLocalSdpRequestOffer)],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard},{actions:["defer"],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard}],receiveRemoteSdpRequest:[{actions:["defer"],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveGuard},{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpAnswerReceiveGuard,target:"negotiationComplete"}],receiveMediaUpdateResponse:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveMediaUpdateResponse)],cond:d("ZenonSignalingSMGuards").receiveNonOkMediaUpdateResponseGuard,target:"negotiationComplete"},{actions:["defer"]}],receiveCapabilitiesRequest:l,receiveClientInfoRequest:m,receiveGenericDataMessageRequest:n,receiveIceCandidateRequest:o,receiveMediaUpdateRequest:C,receiveParticipantUpdateRequest:v,receiveRoomContextUpdateRequest:w,sendUsersApprovalRequest:B,receiveTerminateRequest:e,sendAddParticipantsRequest:q,sendIceCandidateRequest:k,sendRemoveParticipantsRequest:u,receiveOverlayConfigServerUpdateRequest:x,receiveStateSyncNotifyRequest:y,sendStateSyncUnsubscribeRequest:A,sendStateSyncUpdateRequest:z,sendSubscriptionRequest:s,sendTerminateRequest:t,sendGenericDataMessageRequest:j,sendClientEventRequest:p,receiveLocalSdpResponse:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},terminated:{entry:[d("xstate").assign(d("ZenonSignalingTerminatedState").stopPingTimer)],on:{receiveRemoteSdpRequest:[{actions:[d("ZenonSignalingTerminatedState").onReceiveRemoteSdpRequest],cond:d("ZenonSignalingSMGuards").receiveRemoteSdpRequestSmuOrCmuGuard}],receiveInitiateRenegotiationRequest:[{actions:[d("ZenonSignalingTerminatedState").onReceiveInitiateRenegotiationRequest]}],receiveMediaUpdateRequest:[{actions:[d("ZenonSignalingTerminatedState").onReceiveMediaUpdateRequest]}]}}};g["default"]=a}),98);
__d("ZenonSignalingClient",["ZenonActorHooks","ZenonInfraActionsLogger","ZenonMediaActionLogger","ZenonSignalingStateMachine","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){var g=this;f===void 0&&(f=null);this.$5=null;this.$6=function(){};this.$7=null;this.$1=a;var h=this.$8();this.$2=new(c("ZenonSignalingStateMachine"))(babelHelpers["extends"]({config:f,logEvent:function(a){return g.$6(a)},onInviteReceived:function(a,b){e(a,b,g)},sendSignalingEvent:function(a){return d.sendEvent(a)}},h,{signalingModel:a}));b.setReceiver(function(a,b,c){return g.$2.processReceiveEvent(a,b,c)});b.setMessageSentHandler(function(a){g.$2.processEvent({messageID:a,type:"messageSent"})});this.$3=b;this.$4=d}var b=a.prototype;b.getSignalingModel=function(){return this.$1};b.sendInvite=function(a,b,c,e){e===void 0&&(e=d("ZenonActorHooks").ZenonActor.getID());c={actorID:null,appMessages:b,eventName:"inviteRequest",inviterID:"0",isRemoteOfferer:!1,otherParticipants:a,requestingVideo:!1,roomInfo:{name:"mock"},userID:e};this.$2.processSendEvent(c)};b.initiateClientRenegotiation=function(a){a={eventName:"clientRenegotiationRequest",negotiationEvent:a};this.$2.processSendEvent(a)};b.sendSdp=function(a,b){var c=this.$1.getMediaModeManager().getMediaMode();c={eventName:"localSdpRequest",mediaMode:c,mediaStates:b,sdp:a};this.$2.processSendEvent(c)};b.sendIceCandidate=function(a){a={eventName:"iceCandidateRequest",iceCandidates:[a]};this.$2.processSendEvent(a)};b.sendClientEvent=function(a){a={clientEventType:a,eventName:"clientEventRequest"};this.$2.processSendEvent(a)};b.sendDismiss=function(a){this.$6({name:"dismissSent"});a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};this.$2.processSendEvent(a)};b.sendGenericDataMessage=function(a,b,c,d){b={data:b,eventName:"genericDataMessageRequest",recipientIDs:c,serviceRecipients:d,topic:a};this.$2.processSendEvent(b)};b.sendMediaUpdate=function(a){a={eventName:"mediaUpdateRequest",mediaStates:a};this.$2.processSendEvent(a)};b.sendAddParticipantsMessage=function(a){a={eventName:"addParticipantsRequest",participants:a};this.$2.processSendEvent(a)};b.sendRemoveParticipantsRequest=function(a){a={eventName:"removeParticipantsRequest",participants:a};this.$2.processSendEvent(a)};b.sendUsersApprovalRequest=function(a,b){a={approvalStatus:a,eventName:"usersApprovalRequest",targetUsers:b};this.$2.processSendEvent(a)};b.sendClientInfo=function(a,b,c,d,e){var f=this,g;(b||c)&&(g=new Map());b&&b.forEach(function(a,b){var c;(c=g)==null?void 0:c.set(b,f.getSignalingModel().getStateSyncStore().updateInputState(b,a))});c&&c.forEach(function(a,b){var c;(c=g)==null?void 0:c.set(b,a)});b={actorRepresentatives:new Map(),eventName:"clientInfoRequest",initialSyncStates:g,isE2eeMandated:e,isSecondaryJoinRole:d,userCapabilities:a};this.$2.processSendEvent(b)};b.sendStateSyncUnsubscribe=function(a){var b=this.getSignalingModel(),c=b.getStateSyncStore().unsubscribe(a);a={eventName:"stateSyncUnsubscribeRequest",topic:a,version:c.version};this.$2.processSendEvent(a);b.notify()};b.sendStateSyncUpdate=function(a,b){var c=this.getSignalingModel();b=c.getStateSyncStore().updateInputState(a,b);a={data:b.data!=null?b.data:void 0,eventName:"stateSyncUpdateRequest",topic:a,version:b.version};this.$2.processSendEvent(a);c.notify()};b.sendSubscriptionRequest=function(a){a={eventName:"subscriptionRequest",subscriptions:a};this.$2.processSendEvent(a)};b.receiveMessage=function(a){var b=a.getHeader(),d=b.remoteSignalingID;b=b.roomInfo;d!=null&&this.$1.getRemoteSignalingID()!==d&&(this.$1.updateRemoteSignalingID(d),this.$6({conferenceName:b.name,name:"setRemoteSignalingID",remoteSignalingID:d}),this.$1.notify());b!=null&&this.$1.getRoomInfo().name!==b.name&&(c("ZenonInfraActionsLogger").updateCachedValues({conferenceName:b.name}),c("ZenonMediaActionLogger").updateCachedValues({conferenceName:b.name}),this.$1.updateRoomInfo(b),this.$1.notify());this.$3.receiveMessage(a)};b.isTerminated=function(){return this.$2.getState()==="terminated"};b.sendAnswerIntent=function(){var a={eventName:"answerIntentRequest"};this.$2.processSendEvent(a)};b.respondToInvite=function(a){a={ackMessageId:"",eventName:"inviteResponse",status:a};this.$2.processSendEvent(a)};b.setSignalingEventHandlers=function(a){if(this.$5!=null){c("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$5=a};b.setLoggingEventHandler=function(a){this.$6=a,this.$3.setLoggingEventHandler(a)};b.setSecureDataMessageManager=function(a){this.$7=a};b.$8=function(){return{onCapabilitiesReceived:this.$9("onCapabilitiesReceived"),onClientInfoReceived:this.$9("onClientInfoReceived"),onClientRenegotiationReceived:this.$9("onClientRenegotiationReceived"),onDismissReceived:this.$9("onDismissReceived"),onGenericDataMessageReceived:this.$9("onGenericDataMessageReceived"),onIceCandidateReceived:this.$9("onIceCandidateReceived"),onInviteAcknowledgeSent:this.$9("onInviteAcknowledgeSent"),onMediaUpdateReceived:this.$9("onMediaUpdateReceived"),onMediaUpdateResponseReceived:this.$9("onMediaUpdateResponseReceived"),onParticipantUpdateReceived:this.$9("onParticipantUpdateReceived"),onPendingApprovalReceived:this.$9("onPendingApprovalReceived"),onRenegotiationRequested:this.$9("onRenegotiationRequested"),onRoomContextUpdateReceived:this.$9("onRoomContextUpdateReceived"),onSdpReceived:this.$9("onSdpReceived"),onServerRenegotiationFinished:this.$9("onServerRenegotiationFinished")}};b.$9=function(a){var b=this;return function(){if(b.$5&&b.$5[a]){var c;(c=b.$5)[a].apply(c,arguments)}}};return a}();g["default"]=a}),98);
__d("ZenonMWEventAggregator",["ZenonSignalingMessage","ZenonSignalingTypes","randomInt","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=250,i=100;a=function(){function a(a,b){var d=this;this.$3={};this.$4=new Set();this.$5={};this.$6={};this.$7=0;this.$8=!1;this.$1=a;this.$2=b;this.$9=c("throttle")(function(a,b){d.$10(a,b)},h,this)}var b=a.prototype;b.sendEvent=function(a){var b=[];switch(a.eventName){case"clientInfoRequest":this.$3.clientInfoRequest=a;b=this.$11();break;case"inviteRequest":this.$3.inviteRequest=a;b=this.$11();break;case"localSdpRequest":a.sdp.type==="offer"?this.$8?b=[a]:(this.$3.localSdpRequest=a,this.$8=!0,b=this.$11()):a.sdp.type==="answer"&&(this.$8?this.$6.initiateRenegotiationResponse!=null?(this.$6.localSdpRequest=a,b=this.$12()):(this.$5.localSdpRequest=a,b=this.$13()):(this.$3.localSdpRequest=a,this.$8=!0,b=this.$11()));break;case"remoteSdpResponse":a.type==="offer"?a.statusCode===d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK?this.$6.initiateRenegotiationResponse!=null?(this.$6.remoteSdpResponse=a,b=this.$12()):(this.$5.remoteSdpResponse=a,b=this.$13()):(this.$5={},this.$6={},b=[a]):b=[a];break;case"iceCandidateRequest":case"pingRequest":this.$1.getMediaModeManager().getMediaMode()==="p2p"&&(b=[a]);break;case"subscriptionRequest":this.$9([a],a);break;case"initiateRenegotiationResponse":a.hasRemoteOffer===!0?(this.$6.initiateRenegotiationResponse=a,b=this.$12()):b=[a];break;case"stateSyncNotifyResponse":if(!this.$4.has(a.ackMessageId)){this.$4.add(a.ackMessageId);if(this.$4.size>i){var c;c=(c=this.$4.values().next().value)!=null?c:"";this.$4["delete"](c)}b=[a]}break;case"wakeupRequest":c={ackMessageId:(c=a.ackMessageId)!=null?c:"",eventName:"wakeupResponse"};return this.$10([c],c);case"usersApprovalRequest":case"iceCandidateResponse":case"addParticipantsRequest":case"dismissResponse":case"genericDataMessageRequest":case"genericDataMessageResponse":case"inviteResponse":case"mediaUpdateRequest":case"mediaUpdateResponse":case"overlayConfigServerUpdateRequest":case"participantUpdateResponse":case"removeParticipantsRequest":case"stateSyncUnsubscribeRequest":case"stateSyncUpdateRequest":case"terminateRequest":case"clientEventRequest":case"wakeupResponse":b=[a];break}return this.$10(b,a)};b.$14=function(a,b){return{actorID:this.$1.getActorID(),messageID:(a=a)!=null?a:String(c("randomInt")(0,4294967294)+1),messageTags:(a=b)!=null?a:[],protocol:this.$1.getProtocol(),remoteInfo:this.$1.getRemoteInfo(),remoteSignalingID:this.$1.getRemoteSignalingID(),retryCount:0,roomInfo:this.$1.getRoomInfo(),sequenceNumber:this.$7++,signalingID:this.$1.getSignalingID(),userInfo:this.$1.getUserInfo()}};b.$11=function(){var a=this.$3,b=a.clientInfoRequest,c=a.inviteRequest;a=a.localSdpRequest;if(b!=null&&a!=null){this.$3={};return c!=null?[c,b,a]:[b,a]}return[]};b.$13=function(){var a=this.$5,b=a.localSdpRequest;a=a.remoteSdpResponse;if(a&&b){this.$5={};return[a,b]}return[]};b.$12=function(){var a=this.$6,b=a.initiateRenegotiationResponse,c=a.localSdpRequest;a=a.remoteSdpResponse;if(b&&a&&c){this.$6={};return[b,a,c]}return[]};b.$10=function(a,b){if(a.length>0){var d;d=(d=b.ackMessageId)!=null?d:(d=a.find(function(a){return a.ackMessageId}))==null?void 0:d.ackMessageId;b=(b=b.messageTags)!=null?b:(b=a.find(function(a){return a.messageTags}))==null?void 0:b.messageTags;d=this.$14(d,b);b=new(c("ZenonSignalingMessage"))(d,a);this.$2.sendMessage(b);return d.messageID}return""};return a}();g["default"]=a}),98);
__d("ZenonMWMessageSenderFactory",["ZenonGraphQLMWMessageSender"],(function(a,b,c,d,e,f,g){"use strict";function a(){return new(c("ZenonGraphQLMWMessageSender"))()}g.createMWMessageSender=a}),98);
__d("ZenonTransactionManager",["cr:134"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$4=function(){},this.$5=function(){},this.$3=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.$6=function(a){var c=this;if(this.$3.has(a))return this.$3.get(a);this.$3.set(a,new(b("cr:134"))(a,this.$2,function(a){return c.$1.sendMessage(a)},function(a){var b=a.getHeader(),d=b.messageID,e=b.protocol;b=a.getEvents();b.forEach(function(a){return c.$4(a,d,e)})},this.$5));return this.$3.get(a)};c.sendMessage=function(a){var b=a.getHeader();b=b.messageID;b=this.$6(b);b!=null&&b.sendMessage(a)};c.receiveMessage=function(a){var b=a.getHeader();b=b.messageID;b=this.$6(b);b!=null&&b.receiveMessage(a)};c.setReceiver=function(a){this.$4=a};c.setLoggingEventHandler=function(a){this.$1.setLoggingEventHandler(a)};c.setMessageSentHandler=function(a){this.$5=a};return a}();g["default"]=a}),98);
__d("ZenonProtocolConfiguration",["ZenonMWEventAggregator","ZenonMWMessageSenderFactory","ZenonTransactionManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=null);b=(b=b)!=null?b:d("ZenonMWMessageSenderFactory").createMWMessageSender();var e=new(c("ZenonTransactionManager"))(b,a);a=new(c("ZenonMWEventAggregator"))(a,e);return{eventAggregator:a,messageSender:b,transactionManager:e}}g.getConfiguration=a}),98);
__d("BreakoutState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({Start:1,End:2,Announce:3,Ping:4});var g=new Set(Object.values(a));c=Object.freeze({Active:1,Ended:2});var h=new Set(Object.values(c));d=function(){return{}};f=function(){return{isBreakoutFeatureEnabled:!1}};var i=function(){return{}},j=function(){return{isBreakoutFeatureEnabled:!1,canViewerStartBreakout:!1,participantsSupportingBreakout:new Set()}},k=function(){return{conferenceName:"",name:"",roomHash:"",roomURI:"",participantIDs:[]}},l=function(){return{childRooms:[],mainRoom:o()}},m=function(){return{content:""}},n=function(){return{sessionID:""}},o=function(){return{conferenceName:"",roomHash:"",roomURI:"",participantIDs:[]}},p=function(a,c){c.writeStructBegin("BreakoutConferenceInputState"),a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:b("ThriftTypes").STRUCT,fid:1}),u(a.breakoutSession,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},q=function(a,c){c.writeStructBegin("BreakoutConferenceOutputState");a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:b("ThriftTypes").STRUCT,fid:1}),u(a.breakoutSession,c),c.writeFieldEnd());c.writeFieldBegin({fname:"isBreakoutFeatureEnabled",ftype:b("ThriftTypes").BOOL,fid:2});a.isBreakoutFeatureEnabled!=null?c.writeBool(a.isBreakoutFeatureEnabled):c.writeBool(!1);c.writeFieldEnd();if(a.participantAllowedToStartBreakout!=null){var d=a.participantAllowedToStartBreakout;c.writeFieldBegin({fname:"participantAllowedToStartBreakout",ftype:b("ThriftTypes").SET,fid:3});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:d.size});for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd();c.writeFieldEnd()}a.lastActionID!=null&&(c.writeFieldBegin({fname:"lastActionID",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.lastActionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},r=function(a,c){c.writeStructBegin("BreakoutInputState"),a.action!=null&&(c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.action),c.writeFieldEnd()),a.breakoutStartInput!=null&&(c.writeFieldBegin({fname:"breakoutStartInput",ftype:b("ThriftTypes").STRUCT,fid:2}),w(a.breakoutStartInput,c),c.writeFieldEnd()),a.announcementInput!=null&&(c.writeFieldBegin({fname:"announcementInput",ftype:b("ThriftTypes").STRUCT,fid:3}),v(a.announcementInput,c),c.writeFieldEnd()),a.actionID!=null&&(c.writeFieldBegin({fname:"actionID",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.actionID),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},s=function(a,c){c.writeStructBegin("BreakoutOutputState");a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:b("ThriftTypes").STRUCT,fid:1}),u(a.breakoutSession,c),c.writeFieldEnd());c.writeFieldBegin({fname:"isBreakoutFeatureEnabled",ftype:b("ThriftTypes").BOOL,fid:2});a.isBreakoutFeatureEnabled!=null?c.writeBool(a.isBreakoutFeatureEnabled):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"canViewerStartBreakout",ftype:b("ThriftTypes").BOOL,fid:3});a.canViewerStartBreakout!=null?c.writeBool(a.canViewerStartBreakout):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"participantsSupportingBreakout",ftype:b("ThriftTypes").SET,fid:4});if(a.participantsSupportingBreakout!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.participantsSupportingBreakout.size});for(var d=a.participantsSupportingBreakout,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();a.lastActionID!=null&&(c.writeFieldBegin({fname:"lastActionID",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.lastActionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},t=function(a,c){c.writeStructBegin("BreakoutRoom");c.writeFieldBegin({fname:"conferenceName",ftype:b("ThriftTypes").STRING,fid:1});a.conferenceName!=null?c.writeString(a.conferenceName):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"name",ftype:b("ThriftTypes").STRING,fid:2});a.name!=null?c.writeString(a.name):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"roomHash",ftype:b("ThriftTypes").STRING,fid:3});a.roomHash!=null?c.writeString(a.roomHash):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"roomURI",ftype:b("ThriftTypes").STRING,fid:4});a.roomURI!=null?c.writeString(a.roomURI):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"participantIDs",ftype:b("ThriftTypes").LIST,fid:5});if(a.participantIDs!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participantIDs.length});for(var a=a.participantIDs,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeString(d)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},u=function(a,c){c.writeStructBegin("BreakoutSession");a.status!=null&&(c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.status),c.writeFieldEnd());a.startTime!=null&&(c.writeFieldBegin({fname:"startTime",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.startTime),c.writeFieldEnd());a.endTime!=null&&(c.writeFieldBegin({fname:"endTime",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.endTime),c.writeFieldEnd());c.writeFieldBegin({fname:"childRooms",ftype:b("ThriftTypes").LIST,fid:4});if(a.childRooms!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.childRooms.length});for(var d=a.childRooms,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;t(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];t(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"mainRoom",ftype:b("ThriftTypes").STRUCT,fid:5});a.mainRoom!=null?x(a.mainRoom,c):x(o(),c);c.writeFieldEnd();a.id!=null&&(c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.id),c.writeFieldEnd());a.creatorID!=null&&(c.writeFieldBegin({fname:"creatorID",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.creatorID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},v=function(a,c){c.writeStructBegin("BreakoutSessionAnnouncementInput"),c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRING,fid:1}),a.content!=null?c.writeString(a.content):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},w=function(a,c){c.writeStructBegin("BreakoutStartInput"),c.writeFieldBegin({fname:"sessionID",ftype:b("ThriftTypes").STRING,fid:1}),a.sessionID!=null?c.writeString(a.sessionID):c.writeString(""),c.writeFieldEnd(),a.duration!=null&&(c.writeFieldBegin({fname:"duration",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.duration),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},x=function(a,c){c.writeStructBegin("MainRoom");c.writeFieldBegin({fname:"conferenceName",ftype:b("ThriftTypes").STRING,fid:1});a.conferenceName!=null?c.writeString(a.conferenceName):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"roomHash",ftype:b("ThriftTypes").STRING,fid:2});a.roomHash!=null?c.writeString(a.roomHash):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"roomURI",ftype:b("ThriftTypes").STRING,fid:3});a.roomURI!=null?c.writeString(a.roomURI):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"participantIDs",ftype:b("ThriftTypes").LIST,fid:4});if(a.participantIDs!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participantIDs.length});for(var a=a.participantIDs,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeString(d)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.breakoutSession=D(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.breakoutSession=D(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isBreakoutFeatureEnabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.participantAllowedToStartBreakout=new Set();d=a.readSetBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participantAllowedToStartBreakout.add(g)}}else a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.lastActionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isBreakoutFeatureEnabled==null&&(c.isBreakoutFeatureEnabled=!1);return c},A=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.action=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.breakoutStartInput=F(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.announcementInput=E(a):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.actionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},B=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.breakoutSession=D(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isBreakoutFeatureEnabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.canViewerStartBreakout=a.readBool():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.participantsSupportingBreakout=new Set();d=a.readSetBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participantsSupportingBreakout.add(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.lastActionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isBreakoutFeatureEnabled==null&&(c.isBreakoutFeatureEnabled=!1);c.canViewerStartBreakout==null&&(c.canViewerStartBreakout=!1);c.participantsSupportingBreakout==null&&(c.participantsSupportingBreakout=new Set());return c},C=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.conferenceName=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.name=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.roomHash=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.roomURI=a.readString():a.skip(e);break;case 5:if(e===b("ThriftTypes").LIST){c.participantIDs=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participantIDs.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conferenceName==null&&(c.conferenceName="");c.name==null&&(c.name="");c.roomHash==null&&(c.roomHash="");c.roomURI==null&&(c.roomURI="");c.participantIDs==null&&(c.participantIDs=[]);return c},D=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.status=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.startTime=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.endTime=a.readI32():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.childRooms=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=C(a);c.childRooms.push(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.mainRoom=G(a):a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.creatorID=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.childRooms==null&&(c.childRooms=[]);c.mainRoom==null&&(c.mainRoom=o());return c},E=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content==null&&(c.content="");return c},F=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.sessionID=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.duration=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sessionID==null&&(c.sessionID="");return c},G=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.conferenceName=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.roomHash=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.roomURI=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.participantIDs=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participantIDs.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conferenceName==null&&(c.conferenceName="");c.roomHash==null&&(c.roomHash="");c.roomURI==null&&(c.roomURI="");c.participantIDs==null&&(c.participantIDs=[]);return c};e.exports={BreakoutConferenceInputState$DefaultConstructor:d,BreakoutConferenceOutputState$DefaultConstructor:f,BreakoutInputState$DefaultConstructor:i,BreakoutOutputState$DefaultConstructor:j,BreakoutRoom$DefaultConstructor:k,BreakoutSession$DefaultConstructor:l,BreakoutSessionActions:a,BreakoutSessionAnnouncementInput$DefaultConstructor:m,BreakoutSessionStatuss:c,BreakoutStartInput$DefaultConstructor:n,MainRoom$DefaultConstructor:o,deserializeBreakoutConferenceInputState:y,deserializeBreakoutConferenceOutputState:z,deserializeBreakoutInputState:A,deserializeBreakoutOutputState:B,deserializeBreakoutRoom:C,deserializeBreakoutSession:D,deserializeBreakoutSessionAnnouncementInput:E,deserializeBreakoutStartInput:F,deserializeMainRoom:G,serializeBreakoutConferenceInputState:p,serializeBreakoutConferenceOutputState:q,serializeBreakoutInputState:r,serializeBreakoutOutputState:s,serializeBreakoutRoom:t,serializeBreakoutSession:u,serializeBreakoutSessionAnnouncementInput:v,serializeBreakoutStartInput:w,serializeMainRoom:x}}),null);
__d("CanYouSeeMyScreenState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{knownParticipantStreams:new Map()}};c=function(){return{latestAckedStreams:new Map()}};d=function(a,c){c.writeStructBegin("CanYouSeeMyScreenParticipantInputState");c.writeFieldBegin({fname:"knownParticipantStreams",ftype:b("ThriftTypes").MAP,fid:1});if(a.knownParticipantStreams!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:a.knownParticipantStreams.size});for(var a=a.knownParticipantStreams.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:f.size});for(var g=f,f=Array.isArray(g),h=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=g.length)break;i=g[h++]}else{h=g.next();if(h.done)break;i=h.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:i.size});for(var h=i.entries(),f=Array.isArray(h),g=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=h.length)break;e=h[g++]}else{g=h.next();if(g.done)break;e=g.value}d=e;a=d[0];i=d[1];c.writeString(a);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:i.size});for(var e=i,d=Array.isArray(e),a=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(a>=e.length)break;i=e[a++]}else{a=e.next();if(a.done)break;i=a.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()};f=function(a,c){c.writeStructBegin("CanYouSeeMyScreenParticipantOutputState");c.writeFieldBegin({fname:"latestAckedStreams",ftype:b("ThriftTypes").MAP,fid:1});if(a.latestAckedStreams!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:a.latestAckedStreams.size});for(var a=a.latestAckedStreams.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:f.size});for(var g=f,f=Array.isArray(g),h=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=g.length)break;i=g[h++]}else{h=g.next();if(h.done)break;i=h.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:i.size});for(var h=i.entries(),f=Array.isArray(h),g=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=h.length)break;e=h[g++]}else{g=h.next();if(g.done)break;e=g.value}d=e;a=d[0];i=d[1];c.writeString(a);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:i.size});for(var e=i,d=Array.isArray(e),a=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(a>=e.length)break;i=e[a++]}else{a=e.next();if(a.done)break;i=a.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()};var g=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.knownParticipantStreams=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;++j){var k=a.readString();h.add(k)}c.knownParticipantStreams.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.knownParticipantStreams==null&&(c.knownParticipantStreams=new Map());return c},h=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.latestAckedStreams=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;++j){var k=a.readString();h.add(k)}c.latestAckedStreams.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.latestAckedStreams==null&&(c.latestAckedStreams=new Map());return c};e.exports={CanYouSeeMyScreenParticipantInputState$DefaultConstructor:a,CanYouSeeMyScreenParticipantOutputState$DefaultConstructor:c,deserializeCanYouSeeMyScreenParticipantInputState:g,deserializeCanYouSeeMyScreenParticipantOutputState:h,serializeCanYouSeeMyScreenParticipantInputState:d,serializeCanYouSeeMyScreenParticipantOutputState:f}}),null);
__d("ConfigEngineStateConfigEngineStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({ERROR:0,NONE:1,LIGHT:2,MODERATE:3,SEVERE:4,CRITICAL:5,EMERGENCY:6,SHUTDOWN:7});c=b("$InternalEnum")({UNKNOWN:0,DEFAULT:1,SCREEN_SHARE:2});d=b("$InternalEnum")({UNKNOWN:0,CELL:1,WIFI:2});e.exports={DeviceStatsTriggerLevel:a,NetworkConnectionType:d,RenderedStreamType:c}}),null);
__d("RtcClientRuleFromServerToClientSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{conditionals:[],effects:[],id:0}};c=function(){return{type:0,ruleOperator:0,value:0}};d=function(){return{overlayConfigId:0,value:0}};f=function(a,c){c.writeStructBegin("ClientRuleFromServerToClient");c.writeFieldBegin({fname:"conditionals",ftype:b("ThriftTypes").LIST,fid:1});if(a.conditionals!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.conditionals.length});for(var d=a.conditionals,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;g(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:i.length});for(var f=0;f<i.length;f++){e=i[f];g(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"effects",ftype:b("ThriftTypes").LIST,fid:2});if(a.effects!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.effects.length});for(var d=a.effects,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;h(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:i.length});for(var f=0;f<i.length;f++){e=i[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").I32,fid:3});if(a.id!=null)c.writeI32(a.id);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()};var g=function(a,c){c.writeStructBegin("ClientConditionalDeserializationSafe");c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:1});if(a.type!=null)c.writeI32(a.type);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"ruleOperator",ftype:b("ThriftTypes").I32,fid:2});if(a.ruleOperator!=null)c.writeI32(a.ruleOperator);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"value",ftype:b("ThriftTypes").I32,fid:3});if(a.value!=null)c.writeI32(a.value);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},h=function(a,c){c.writeStructBegin("ClientEffectDeserializationSafe");c.writeFieldBegin({fname:"overlayConfigId",ftype:b("ThriftTypes").I32,fid:1});if(a.overlayConfigId!=null)c.writeI32(a.overlayConfigId);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"value",ftype:b("ThriftTypes").I32,fid:2});if(a.value!=null)c.writeI32(a.value);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},i=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.conditionals=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=j(a);c.conditionals.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.effects=[];g=a.readListBegin();for(var f=0;f<g.size;f++){d=k(a);c.effects.push(d)}}else a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.id=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conditionals===void 0&&(c.conditionals=[]);c.effects===void 0&&(c.effects=[]);c.id===void 0&&(c.id=0);return c},j=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.type=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.ruleOperator=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.value=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.type===void 0&&(c.type=0);c.ruleOperator===void 0&&(c.ruleOperator=0);c.value===void 0&&(c.value=0);return c},k=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.overlayConfigId=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.value=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.overlayConfigId===void 0&&(c.overlayConfigId=0);c.value===void 0&&(c.value=0);return c};e.exports={ClientConditionalDeserializationSafe$DefaultConstructor:c,ClientEffectDeserializationSafe$DefaultConstructor:d,ClientRuleFromServerToClient$DefaultConstructor:a,deserializeClientConditionalDeserializationSafe:j,deserializeClientEffectDeserializationSafe:k,deserializeClientRuleFromServerToClient:i,serializeClientConditionalDeserializationSafe:g,serializeClientEffectDeserializationSafe:h,serializeClientRuleFromServerToClient:f}}),null);
__d("RtcOverlayConfigServerLayerSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{values:{}}};c=function(a,c){c.writeStructBegin("OverlayConfigServerLayer");c.writeFieldBegin({fname:"values",ftype:b("ThriftTypes").MAP,fid:1});if(a.values!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").I32,size:Object.keys(a.values).length});a=Object.entries(a.values);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeI32(Number(f));c.writeI32(e)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").I32,size:Object.keys(f).length});e=Object.entries(f);for(var a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeI32(Number(f));c.writeI32(d)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()};d=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.values={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readI32(),h=a.readI32();c.values[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.values===void 0&&(c.values={});return c};e.exports={OverlayConfigServerLayer$DefaultConstructor:a,deserializeOverlayConfigServerLayer:d,serializeOverlayConfigServerLayer:c}}),null);
__d("ConfigEngineStateConfigEngineStateSerializers",["ConfigEngineStateConfigEngineStateTypes","RtcClientRuleFromServerToClientSerializers","RtcOverlayConfigServerLayerSerializers","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{}};c=function(){return{overlayConfigServerLayer:b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor()}};d=function(){return{}};f=function(){return{}};var g=function(){return{userId:"",streamId:"",streamType:0,renderWidth:0,renderHeight:0}},h=function(){return{}},i=function(a,c){c.writeStructBegin("ConfigEngineClientInputState");a.deviceStatsTriggers!=null&&(c.writeFieldBegin({fname:"deviceStatsTriggers",ftype:b("ThriftTypes").STRUCT,fid:1}),l(a.deviceStatsTriggers,c),c.writeFieldEnd());a.deviceStats!=null&&(c.writeFieldBegin({fname:"deviceStats",ftype:b("ThriftTypes").STRUCT,fid:2}),k(a.deviceStats,c),c.writeFieldEnd());if(a.renderResolutionMap!=null){c.writeFieldBegin({fname:"renderResolutionMap",ftype:b("ThriftTypes").MAP,fid:3});c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").MAP,size:Object.keys(a.renderResolutionMap).length});var d=Object.entries(a.renderResolutionMap);for(var e=0;e<d.length;e++){var f=d[e],g=f[0];f=f[1];c.writeString(g);c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});g=Object.entries(f);for(var f=0;f<g.length;f++){var h=g[f],i=h[0];h=h[1];c.writeI32((i=Number(i))!=null?i:0);m(h,c)}c.writeMapEnd()}c.writeMapEnd();c.writeFieldEnd()}a.deviceHardwareInfo!=null&&(c.writeFieldBegin({fname:"deviceHardwareInfo",ftype:b("ThriftTypes").STRUCT,fid:4}),n(a.deviceHardwareInfo,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},j=function(a,c){c.writeStructBegin("ConfigEngineClientOutputState");c.writeFieldBegin({fname:"overlayConfigServerLayer",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.overlayConfigServerLayer!=null)b("RtcOverlayConfigServerLayerSerializers").serializeOverlayConfigServerLayer(a.overlayConfigServerLayer,c);else{var d=b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor();b("RtcOverlayConfigServerLayerSerializers").serializeOverlayConfigServerLayer(d,c)}c.writeFieldEnd();if(a.clientRules!=null){c.writeFieldBegin({fname:"clientRules",ftype:b("ThriftTypes").LIST,fid:3});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.clientRules.length});for(var d=a.clientRules,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;b("RtcClientRuleFromServerToClientSerializers").serializeClientRuleFromServerToClient(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},k=function(a,c){c.writeStructBegin("DeviceStats");a.cpuPercentage!=null&&(c.writeFieldBegin({fname:"cpuPercentage",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.cpuPercentage),c.writeFieldEnd());a.batteryLeftPercentage!=null&&(c.writeFieldBegin({fname:"batteryLeftPercentage",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.batteryLeftPercentage),c.writeFieldEnd());a.thermalStatusCode!=null&&(c.writeFieldBegin({fname:"thermalStatusCode",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.thermalStatusCode),c.writeFieldEnd());if(a.connectionType!=null){c.writeFieldBegin({fname:"connectionType",ftype:b("ThriftTypes").I32,fid:4});c.writeI32((a=a.connectionType)!=null?a:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},l=function(a,c){c.writeStructBegin("DeviceStatsTriggers");if(a.temperatureStatus!=null){var d;c.writeFieldBegin({fname:"temperatureStatus",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.temperatureStatus)!=null?d:0);c.writeFieldEnd()}if(a.batteryStatus!=null){c.writeFieldBegin({fname:"batteryStatus",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.batteryStatus)!=null?d:0);c.writeFieldEnd()}if(a.cpuStatus!=null){c.writeFieldBegin({fname:"cpuStatus",ftype:b("ThriftTypes").I32,fid:3});c.writeI32((d=a.cpuStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},m=function(a,c){c.writeStructBegin("ResolutionData");c.writeFieldBegin({fname:"userId",ftype:b("ThriftTypes").STRING,fid:1});if(a.userId!=null)c.writeString(a.userId);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"streamId",ftype:b("ThriftTypes").STRING,fid:2});if(a.streamId!=null)c.writeString(a.streamId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"streamType",ftype:b("ThriftTypes").I32,fid:3});if(a.streamType!=null)c.writeI32(a.streamType);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"renderWidth",ftype:b("ThriftTypes").I32,fid:4});if(a.renderWidth!=null)c.writeI32(a.renderWidth);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"renderHeight",ftype:b("ThriftTypes").I32,fid:5});if(a.renderHeight!=null)c.writeI32(a.renderHeight);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},n=function(a,c){c.writeStructBegin("DeviceHardwareInfo"),a.numCores!=null&&(c.writeFieldBegin({fname:"numCores",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.numCores),c.writeFieldEnd()),a.RAM!=null&&(c.writeFieldBegin({fname:"RAM",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.RAM),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.deviceStatsTriggers=r(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.deviceStats=q(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.renderResolutionMap={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h={},i=a.readMapBegin();for(var j=0;j<i.size;j++){var k=b("ConfigEngineStateConfigEngineStateTypes").RenderedStreamType.cast(a.readI32()),l=s(a);k!=null&&(h[k]=l)}c.renderResolutionMap[g]=h}}else a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.deviceHardwareInfo=t(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:e===b("ThriftTypes").STRUCT?c.overlayConfigServerLayer=b("RtcOverlayConfigServerLayerSerializers").deserializeOverlayConfigServerLayer(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.clientRules=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=b("RtcClientRuleFromServerToClientSerializers").deserializeClientRuleFromServerToClient(a);c.clientRules.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.overlayConfigServerLayer===void 0&&(c.overlayConfigServerLayer=b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor());return c},q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.cpuPercentage=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.batteryLeftPercentage=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.thermalStatusCode=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.connectionType=b("ConfigEngineStateConfigEngineStateTypes").NetworkConnectionType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},r=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.temperatureStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.batteryStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.cpuStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},s=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.userId=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.streamId=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.streamType=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.renderWidth=a.readI32():a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.renderHeight=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="");c.streamId===void 0&&(c.streamId="");c.streamType===void 0&&(c.streamType=0);c.renderWidth===void 0&&(c.renderWidth=0);c.renderHeight===void 0&&(c.renderHeight=0);return c},t=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.numCores=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.RAM=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c};e.exports={ConfigEngineClientInputState$DefaultConstructor:a,ConfigEngineClientOutputState$DefaultConstructor:c,DeviceHardwareInfo$DefaultConstructor:h,DeviceStats$DefaultConstructor:d,DeviceStatsTriggers$DefaultConstructor:f,ResolutionData$DefaultConstructor:g,deserializeConfigEngineClientInputState:o,deserializeConfigEngineClientOutputState:p,deserializeDeviceHardwareInfo:t,deserializeDeviceStats:q,deserializeDeviceStatsTriggers:r,deserializeResolutionData:s,serializeConfigEngineClientInputState:i,serializeConfigEngineClientOutputState:j,serializeDeviceHardwareInfo:n,serializeDeviceStats:k,serializeDeviceStatsTriggers:l,serializeResolutionData:m}}),null);
__d("CoplayState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,STATUS_CHANGE:1});var g=new Set(Object.values(a));c=Object.freeze({STARTED:1,ENDED:2,FORCE_END:3});var h=new Set(Object.values(c));d=Object.freeze({PENDING:1,RUNNING:2,CONCLUDED:3,ABANDONED:4});var i=new Set(Object.values(d));f=function(){return{matchId:"0"}};var j=function(){return{previousMatchIds:[]}},k=function(){return{}},l=function(){return{matchId:"0",appId:"0",participants:[],creatorId:"0"}},m=function(){return{}},n=function(){return{userId:"0"}},o=function(a,c){c.writeStructBegin("CoplayConferenceInputState"),c.writeFieldBegin({fname:"matchId",ftype:b("ThriftTypes").I64,fid:1}),a.matchId!=null?c.writeI64(b("jsbi").BigInt(a.matchId)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),a.event!=null&&(c.writeFieldBegin({fname:"event",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.event),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},p=function(a,c){c.writeStructBegin("CoplayConferenceOutputState");a.matchState!=null&&(c.writeFieldBegin({fname:"matchState",ftype:b("ThriftTypes").STRUCT,fid:1}),r(a.matchState,c),c.writeFieldEnd());c.writeFieldBegin({fname:"previousMatchIds",ftype:b("ThriftTypes").LIST,fid:2});if(a.previousMatchIds!=null){c.writeListBegin({etype:b("ThriftTypes").I64,size:a.previousMatchIds.length});for(var a=a.previousMatchIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").I64,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},q=function(a,c){c.writeStructBegin("CoplayMatchInputState"),a.matchId!=null&&(c.writeFieldBegin({fname:"matchId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.matchId)),c.writeFieldEnd()),a.event!=null&&(c.writeFieldBegin({fname:"event",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.event),c.writeFieldEnd()),a.isEligible!=null&&(c.writeFieldBegin({fname:"isEligible",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.isEligible),c.writeFieldEnd()),a.gameId!=null&&(c.writeFieldBegin({fname:"gameId",ftype:b("ThriftTypes").I64,fid:4}),c.writeI64(b("jsbi").BigInt(a.gameId)),c.writeFieldEnd()),a.creatorId!=null&&(c.writeFieldBegin({fname:"creatorId",ftype:b("ThriftTypes").I64,fid:5}),c.writeI64(b("jsbi").BigInt(a.creatorId)),c.writeFieldEnd()),a.matchStatus!=null&&(c.writeFieldBegin({fname:"matchStatus",ftype:b("ThriftTypes").I32,fid:6}),c.writeI32(a.matchStatus),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},r=function(a,c){c.writeStructBegin("CoplayMatchState");c.writeFieldBegin({fname:"matchId",ftype:b("ThriftTypes").I64,fid:1});a.matchId!=null?c.writeI64(b("jsbi").BigInt(a.matchId)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();c.writeFieldBegin({fname:"appId",ftype:b("ThriftTypes").I64,fid:2});a.appId!=null?c.writeI64(b("jsbi").BigInt(a.appId)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();a.matchStatus!=null&&(c.writeFieldBegin({fname:"matchStatus",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.matchStatus),c.writeFieldEnd());c.writeFieldBegin({fname:"participants",ftype:b("ThriftTypes").LIST,fid:4});if(a.participants!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.participants.length});for(var d=a.participants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;t(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];t(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"creatorId",ftype:b("ThriftTypes").I64,fid:5});a.creatorId!=null?c.writeI64(b("jsbi").BigInt(a.creatorId)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},s=function(a,c){c.writeStructBegin("CoplayOutputState");a.matchState!=null&&(c.writeFieldBegin({fname:"matchState",ftype:b("ThriftTypes").STRUCT,fid:1}),r(a.matchState,c),c.writeFieldEnd());if(a.eligibleParticipants!=null){a=a.eligibleParticipants;c.writeFieldBegin({fname:"eligibleParticipants",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.length});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},t=function(a,c){c.writeStructBegin("CoplayParticipantInfo"),c.writeFieldBegin({fname:"userId",ftype:b("ThriftTypes").I64,fid:1}),a.userId!=null?c.writeI64(b("jsbi").BigInt(a.userId)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},u=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.event=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.matchId==null&&(c.matchId="0");return c},v=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.matchState=x(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.previousMatchIds=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readI64().toString();c.previousMatchIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.previousMatchIds==null&&(c.previousMatchIds=[]);return c},w=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.event=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.isEligible=a.readBool():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.gameId=a.readI64().toString():a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.creatorId=a.readI64().toString():a.skip(e);break;case 6:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.matchStatus=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},x=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.appId=a.readI64().toString():a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.matchStatus=d)}else a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.participants=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=z(a);c.participants.push(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.creatorId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.matchId==null&&(c.matchId="0");c.appId==null&&(c.appId="0");c.participants==null&&(c.participants=[]);c.creatorId==null&&(c.creatorId="0");return c},y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.matchState=x(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.eligibleParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.eligibleParticipants.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.userId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId==null&&(c.userId="0");return c};e.exports={CoplayConferenceInputEvents:a,CoplayConferenceInputState$DefaultConstructor:f,CoplayConferenceOutputState$DefaultConstructor:j,CoplayMatchEvents:c,CoplayMatchInputState$DefaultConstructor:k,CoplayMatchState$DefaultConstructor:l,CoplayMatchStatuss:d,CoplayOutputState$DefaultConstructor:m,CoplayParticipantInfo$DefaultConstructor:n,deserializeCoplayConferenceInputState:u,deserializeCoplayConferenceOutputState:v,deserializeCoplayMatchInputState:w,deserializeCoplayMatchState:x,deserializeCoplayOutputState:y,deserializeCoplayParticipantInfo:z,serializeCoplayConferenceInputState:o,serializeCoplayConferenceOutputState:p,serializeCoplayMatchInputState:q,serializeCoplayMatchState:r,serializeCoplayOutputState:s,serializeCoplayParticipantInfo:t}}),null);
__d("CountdownTimerState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({START:1,PAUSE:2,END:3,CANCEL:4,PING:5});var g=new Set(Object.values(a));c=Object.freeze({UNKNOWN:0,STARTED:1,PAUSED:2,ENDED:3,CANCELLED:4});var h=new Set(Object.values(c)),i=function(){return{uuid:"",last_action_timestamp:"0",total_duration:"0",initiator:k(),remaining_duration:"0"}};d=function(){return{current_timer:i(),is_countdown_timer_feature_enabled:!1}};f=function(){return{uuid:"",total_duration:"0",initiator:k(),action_timestamp:"0",remaining_duration:"0"}};var j=function(){return{timer:i(),is_countdown_timer_feature_enabled:!1,participant_action_capabilities:new Set()}},k=function(){return{uid:""}},l=function(a,c){c.writeStructBegin("CountdownTimer"),c.writeFieldBegin({fname:"uuid",ftype:b("ThriftTypes").STRING,fid:1}),a.uuid!=null?c.writeString(a.uuid):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"last_action_timestamp",ftype:b("ThriftTypes").I64,fid:2}),a.last_action_timestamp!=null?c.writeI64(b("jsbi").BigInt(a.last_action_timestamp)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"total_duration",ftype:b("ThriftTypes").I64,fid:3}),a.total_duration!=null?c.writeI64(b("jsbi").BigInt(a.total_duration)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"initiator",ftype:b("ThriftTypes").STRUCT,fid:4}),a.initiator!=null?p(a.initiator,c):p(k(),c),c.writeFieldEnd(),a.status!=null&&(c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.status),c.writeFieldEnd()),c.writeFieldBegin({fname:"remaining_duration",ftype:b("ThriftTypes").I64,fid:6}),a.remaining_duration!=null?c.writeI64(b("jsbi").BigInt(a.remaining_duration)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},m=function(a,c){c.writeStructBegin("CountdownTimerConferenceOutputState");c.writeFieldBegin({fname:"current_timer",ftype:b("ThriftTypes").STRUCT,fid:1});a.current_timer!=null?l(a.current_timer,c):l(i(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"is_countdown_timer_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});a.is_countdown_timer_feature_enabled!=null?c.writeBool(a.is_countdown_timer_feature_enabled):c.writeBool(!1);c.writeFieldEnd();if(a.moderator_uids_if_empty_means_everyone_is_moderator!=null){a=a.moderator_uids_if_empty_means_everyone_is_moderator;c.writeFieldBegin({fname:"moderator_uids_if_empty_means_everyone_is_moderator",ftype:b("ThriftTypes").SET,fid:3});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.size});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeSetEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},n=function(a,c){c.writeStructBegin("CountdownTimerInputState"),c.writeFieldBegin({fname:"uuid",ftype:b("ThriftTypes").STRING,fid:1}),a.uuid!=null?c.writeString(a.uuid):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"total_duration",ftype:b("ThriftTypes").I64,fid:2}),a.total_duration!=null?c.writeI64(b("jsbi").BigInt(a.total_duration)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"initiator",ftype:b("ThriftTypes").STRUCT,fid:3}),a.initiator!=null?p(a.initiator,c):p(k(),c),c.writeFieldEnd(),a.action!=null&&(c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.action),c.writeFieldEnd()),c.writeFieldBegin({fname:"action_timestamp",ftype:b("ThriftTypes").I64,fid:5}),a.action_timestamp!=null?c.writeI64(b("jsbi").BigInt(a.action_timestamp)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"remaining_duration",ftype:b("ThriftTypes").I64,fid:6}),a.remaining_duration!=null?c.writeI64(b("jsbi").BigInt(a.remaining_duration)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},o=function(a,c){c.writeStructBegin("CountdownTimerOutputState");c.writeFieldBegin({fname:"timer",ftype:b("ThriftTypes").STRUCT,fid:1});a.timer!=null?l(a.timer,c):l(i(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"is_countdown_timer_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});a.is_countdown_timer_feature_enabled!=null?c.writeBool(a.is_countdown_timer_feature_enabled):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"participant_action_capabilities",ftype:b("ThriftTypes").SET,fid:3});if(a.participant_action_capabilities!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.participant_action_capabilities.size});for(var a=a.participant_action_capabilities,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI32(f)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(var e=f,d=Array.isArray(e),a=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(a>=e.length)break;f=e[a++]}else{a=e.next();if(a.done)break;f=a.value}f=f;c.writeI32(f)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},p=function(a,c){c.writeStructBegin("InitiatorInfo"),c.writeFieldBegin({fname:"uid",ftype:b("ThriftTypes").STRING,fid:1}),a.uid!=null?c.writeString(a.uid):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.last_action_timestamp=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.total_duration=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.initiator=u(a):a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.status=d)}else a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.remaining_duration=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uuid==null&&(c.uuid="");c.last_action_timestamp==null&&(c.last_action_timestamp="0");c.total_duration==null&&(c.total_duration="0");c.initiator==null&&(c.initiator=k());c.remaining_duration==null&&(c.remaining_duration="0");return c},r=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.current_timer=q(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_countdown_timer_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.moderator_uids_if_empty_means_everyone_is_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.moderator_uids_if_empty_means_everyone_is_moderator.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.current_timer==null&&(c.current_timer=i());c.is_countdown_timer_feature_enabled==null&&(c.is_countdown_timer_feature_enabled=!1);return c},s=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.total_duration=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.initiator=u(a):a.skip(e);break;case 4:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.action=d)}else a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.action_timestamp=a.readI64().toString():a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.remaining_duration=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uuid==null&&(c.uuid="");c.total_duration==null&&(c.total_duration="0");c.initiator==null&&(c.initiator=k());c.action_timestamp==null&&(c.action_timestamp="0");c.remaining_duration==null&&(c.remaining_duration="0");return c},t=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.timer=q(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_countdown_timer_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.participant_action_capabilities=new Set();d=a.readSetBegin();for(var f=0;f<d.size;++f){var h=a.readI32();g.has(h)&&c.participant_action_capabilities.add(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.timer==null&&(c.timer=i());c.is_countdown_timer_feature_enabled==null&&(c.is_countdown_timer_feature_enabled=!1);c.participant_action_capabilities==null&&(c.participant_action_capabilities=new Set());return c},u=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uid==null&&(c.uid="");return c};e.exports={CountdownTimer$DefaultConstructor:i,CountdownTimerActionEvents:a,CountdownTimerConferenceOutputState$DefaultConstructor:d,CountdownTimerInputState$DefaultConstructor:f,CountdownTimerOutputState$DefaultConstructor:j,CountdownTimerStatuss:c,InitiatorInfo$DefaultConstructor:k,deserializeCountdownTimer:q,deserializeCountdownTimerConferenceOutputState:r,deserializeCountdownTimerInputState:s,deserializeCountdownTimerOutputState:t,deserializeInitiatorInfo:u,serializeCountdownTimer:l,serializeCountdownTimerConferenceOutputState:m,serializeCountdownTimerInputState:n,serializeCountdownTimerOutputState:o,serializeInitiatorInfo:p}}),null);
__d("CoviewState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({PDF:0,IMAGE:1,LINK:2});var g=new Set(Object.values(a));c=function(){return{open_artifacts:[],last_updated_time_ms:"0"}};d=function(){return{open_artifacts:[]}};f=function(){return{open_artifacts:[],last_updated_time_ms:"0"}};var h=function(){return{artifact_id:"",opener_id:""}},i=function(a,c){c.writeStructBegin("CoviewConferenceOutputState");c.writeFieldBegin({fname:"open_artifacts",ftype:b("ThriftTypes").LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.open_artifacts.length});for(var d=a.open_artifacts,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;l(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];l(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"last_updated_time_ms",ftype:b("ThriftTypes").I64,fid:2});a.last_updated_time_ms!=null?c.writeI64(b("jsbi").BigInt(a.last_updated_time_ms)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();a.is_feature_enabled!=null&&(c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_feature_enabled),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},j=function(a,c){c.writeStructBegin("CoviewInputState");c.writeFieldBegin({fname:"open_artifacts",ftype:b("ThriftTypes").LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.open_artifacts.length});for(var a=a.open_artifacts,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;l(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var e=0;e<f.length;e++){d=f[e];l(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},k=function(a,c){c.writeStructBegin("CoviewOutputState");c.writeFieldBegin({fname:"open_artifacts",ftype:b("ThriftTypes").LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.open_artifacts.length});for(var d=a.open_artifacts,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;l(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];l(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"last_updated_time_ms",ftype:b("ThriftTypes").I64,fid:2});a.last_updated_time_ms!=null?c.writeI64(b("jsbi").BigInt(a.last_updated_time_ms)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();a.is_feature_enabled!=null&&(c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_feature_enabled),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},l=function(a,c){c.writeStructBegin("OpenArtifact"),c.writeFieldBegin({fname:"artifact_id",ftype:b("ThriftTypes").STRING,fid:1}),a.artifact_id!=null?c.writeString(a.artifact_id):c.writeString(""),c.writeFieldEnd(),a.artifact_type!=null&&(c.writeFieldBegin({fname:"artifact_type",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.artifact_type),c.writeFieldEnd()),a.page_number!=null&&(c.writeFieldBegin({fname:"page_number",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.page_number),c.writeFieldEnd()),c.writeFieldBegin({fname:"opener_id",ftype:b("ThriftTypes").STRING,fid:4}),a.opener_id!=null?c.writeString(a.opener_id):c.writeString(""),c.writeFieldEnd(),a.unlock!=null&&(c.writeFieldBegin({fname:"unlock",ftype:b("ThriftTypes").BOOL,fid:5}),c.writeBool(a.unlock),c.writeFieldEnd()),a.last_actor_id!=null&&(c.writeFieldBegin({fname:"last_actor_id",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.last_actor_id),c.writeFieldEnd()),a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.session_id),c.writeFieldEnd()),a.message_id!=null&&(c.writeFieldBegin({fname:"message_id",ftype:b("ThriftTypes").STRING,fid:8}),c.writeString(a.message_id),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},m=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=p(a);c.open_artifacts.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.last_updated_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts==null&&(c.open_artifacts=[]);c.last_updated_time_ms==null&&(c.last_updated_time_ms="0");return c},n=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=p(a);c.open_artifacts.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts==null&&(c.open_artifacts=[]);return c},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=p(a);c.open_artifacts.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.last_updated_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts==null&&(c.open_artifacts=[]);c.last_updated_time_ms==null&&(c.last_updated_time_ms="0");return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.artifact_id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.artifact_type=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.page_number=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.opener_id=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.unlock=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.last_actor_id=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").STRING?c.message_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.artifact_id==null&&(c.artifact_id="");c.opener_id==null&&(c.opener_id="");return c};e.exports={ArtifactTypes:a,CoviewConferenceOutputState$DefaultConstructor:c,CoviewInputState$DefaultConstructor:d,CoviewOutputState$DefaultConstructor:f,OpenArtifact$DefaultConstructor:h,deserializeCoviewConferenceOutputState:m,deserializeCoviewInputState:n,deserializeCoviewOutputState:o,deserializeOpenArtifact:p,serializeCoviewConferenceOutputState:i,serializeCoviewInputState:j,serializeCoviewOutputState:k,serializeOpenArtifact:l}}),null);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,NEGOTIATED:1,STATIC:2});c=b("$InternalEnum")({OLD:0,NEW:1});d=b("$InternalEnum")({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});e.exports={E2eeStateCapabilitiesEnum:d,FoundationModeEnum:c,KeyNegotiationModeEnum:a}}),null);
__d("E2eeStateSerializers",["E2eeStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{supportedVersions:[]}};c=function(){return{employedVersion:0}};d=function(){return{min:0,max:0}};var g=function(){return{mode:0}};f=function(){return{preKeyBundle:Uint8Array.of(),identityKeyInfo:g(),deviceId:0}};var h=function(){return{supportedVersions:[]}},i=function(){return{keyNegotiationMode:0,foundationMode:b("E2eeStateTypes").FoundationModeEnum.cast(0),allowOptionalGfd:!1,supportsH264V2:!1}},j=function(){return{keyNegotiationMode:0,removeFrameDecryptorDelayMs:0,keepFrameDecryptors:!1,senderKeyUpdateDelayMs:0,keyTtlMs:0,ratchetSpace:0,keyOverMediaDataChannelNumSends:0,keyOverMediaDataChannelRetryDelayMs:0,enableH264V2:!1}},k=function(){return{preKeyBundle:Uint8Array.of(),cipherSuites:[],protocolVersion:h(),config:i(),identityKeyInfo:g(),deviceId:0,e2eeClientStateCapabilities:{}}},l=function(){return{cipherSuites:[],protocolVersion:h(),config:j(),endpointInfos:{},e2eeServerStateCapabilities:{}}},m=function(a,c){c.writeStructBegin("E2eeClientStateCapability");c.writeFieldBegin({fname:"supportedVersions",ftype:b("ThriftTypes").LIST,fid:1});if(a.supportedVersions!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.supportedVersions.length});for(var a=a.supportedVersions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;o(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var e=0;e<f.length;e++){d=f[e];o(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},n=function(a,c){c.writeStructBegin("E2eeServerStateCapability");c.writeFieldBegin({fname:"employedVersion",ftype:b("ThriftTypes").I16,fid:1});if(a.employedVersion!=null)c.writeI16(a.employedVersion);else{a=0;c.writeI16(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},o=function(a,c){c.writeStructBegin("VersionRange");c.writeFieldBegin({fname:"min",ftype:b("ThriftTypes").I16,fid:1});if(a.min!=null)c.writeI16(a.min);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"max",ftype:b("ThriftTypes").I16,fid:2});if(a.max!=null)c.writeI16(a.max);else{d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},p=function(a,c){c.writeStructBegin("IdentityKeyInfo");c.writeFieldBegin({fname:"mode",ftype:b("ThriftTypes").I16,fid:1});if(a.mode!=null)c.writeI16(a.mode);else{a=0;c.writeI16(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},q=function(a,c){c.writeStructBegin("E2eeEndpointInfo");c.writeFieldBegin({fname:"preKeyBundle",ftype:b("ThriftTypes").STRING,fid:1});if(a.preKeyBundle!=null)c.writeBinary(a.preKeyBundle);else{var d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"identityKeyInfo",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.identityKeyInfo!=null)p(a.identityKeyInfo,c);else{d=g();p(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:b("ThriftTypes").I32,fid:3});if(a.deviceId!=null)c.writeI32(a.deviceId);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},r=function(a,c){c.writeStructBegin("E2eeProtocolVersion");c.writeFieldBegin({fname:"supportedVersions",ftype:b("ThriftTypes").LIST,fid:1});if(a.supportedVersions!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.supportedVersions.length});for(var a=a.supportedVersions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;o(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var e=0;e<f.length;e++){d=f[e];o(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},s=function(a,c){c.writeStructBegin("E2eeClientStateConfig");c.writeFieldBegin({fname:"keyNegotiationMode",ftype:b("ThriftTypes").I16,fid:1});if(a.keyNegotiationMode!=null)c.writeI16(a.keyNegotiationMode);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"foundationMode",ftype:b("ThriftTypes").I32,fid:2});if(a.foundationMode!=null){c.writeI32((d=a.foundationMode)!=null?d:0)}else{d=b("E2eeStateTypes").FoundationModeEnum.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"allowOptionalGfd",ftype:b("ThriftTypes").BOOL,fid:3});if(a.allowOptionalGfd!=null)c.writeBool(a.allowOptionalGfd);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"supportsH264V2",ftype:b("ThriftTypes").BOOL,fid:4});if(a.supportsH264V2!=null)c.writeBool(a.supportsH264V2);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},t=function(a,c){c.writeStructBegin("E2eeServerStateConfig");c.writeFieldBegin({fname:"keyNegotiationMode",ftype:b("ThriftTypes").I16,fid:1});if(a.keyNegotiationMode!=null)c.writeI16(a.keyNegotiationMode);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"removeFrameDecryptorDelayMs",ftype:b("ThriftTypes").I32,fid:4});if(a.removeFrameDecryptorDelayMs!=null)c.writeI32(a.removeFrameDecryptorDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keepFrameDecryptors",ftype:b("ThriftTypes").BOOL,fid:5});if(a.keepFrameDecryptors!=null)c.writeBool(a.keepFrameDecryptors);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"senderKeyUpdateDelayMs",ftype:b("ThriftTypes").I32,fid:6});if(a.senderKeyUpdateDelayMs!=null)c.writeI32(a.senderKeyUpdateDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyTtlMs",ftype:b("ThriftTypes").I32,fid:7});if(a.keyTtlMs!=null)c.writeI32(a.keyTtlMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"ratchetSpace",ftype:b("ThriftTypes").I16,fid:8});if(a.ratchetSpace!=null)c.writeI16(a.ratchetSpace);else{d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyOverMediaDataChannelNumSends",ftype:b("ThriftTypes").I32,fid:9});if(a.keyOverMediaDataChannelNumSends!=null)c.writeI32(a.keyOverMediaDataChannelNumSends);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyOverMediaDataChannelRetryDelayMs",ftype:b("ThriftTypes").I32,fid:10});if(a.keyOverMediaDataChannelRetryDelayMs!=null)c.writeI32(a.keyOverMediaDataChannelRetryDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"enableH264V2",ftype:b("ThriftTypes").BOOL,fid:11});if(a.enableH264V2!=null)c.writeBool(a.enableH264V2);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},u=function(a,c){c.writeStructBegin("E2eeClientState");c.writeFieldBegin({fname:"preKeyBundle",ftype:b("ThriftTypes").STRING,fid:1});if(a.preKeyBundle!=null)c.writeBinary(a.preKeyBundle);else{var d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"cipherSuites",ftype:b("ThriftTypes").LIST,fid:2});if(a.cipherSuites!=null){c.writeListBegin({etype:b("ThriftTypes").I16,size:a.cipherSuites.length});for(var d=a.cipherSuites,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(e){if(f>=d.length)break;j=d[f++]}else{f=d.next();if(f.done)break;j=f.value}j=j;c.writeI16(j)}c.writeListEnd()}else{j=[];c.writeListBegin({etype:b("ThriftTypes").I16,size:j.length});for(var f=0;f<j.length;f++){e=j[f];c.writeI16(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"protocolVersion",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.protocolVersion!=null)r(a.protocolVersion,c);else{d=h();r(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"config",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.config!=null)s(a.config,c);else{e=i();s(e,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"identityKeyInfo",ftype:b("ThriftTypes").STRUCT,fid:5});if(a.identityKeyInfo!=null)p(a.identityKeyInfo,c);else{j=g();p(j,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:b("ThriftTypes").I32,fid:6});if(a.deviceId!=null)c.writeI32(a.deviceId);else{f=0;c.writeI32(f)}c.writeFieldEnd();c.writeFieldBegin({fname:"e2eeClientStateCapabilities",ftype:b("ThriftTypes").MAP,fid:7});if(a.e2eeClientStateCapabilities!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.e2eeClientStateCapabilities).length});d=Object.entries(a.e2eeClientStateCapabilities);for(var e=0;e<d.length;e++){j=d[e];f=j[0];a=j[1];c.writeI32((j=Number(f))!=null?j:0);m(a,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});j=Object.entries(f);for(var a=0;a<j.length;a++){d=j[a];e=d[0];f=d[1];c.writeI32((d=Number(e))!=null?d:0);m(f,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},v=function(a,c){c.writeStructBegin("E2eeServerState");c.writeFieldBegin({fname:"cipherSuites",ftype:b("ThriftTypes").LIST,fid:2});if(a.cipherSuites!=null){c.writeListBegin({etype:b("ThriftTypes").I16,size:a.cipherSuites.length});for(var d=a.cipherSuites,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI16(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").I16,size:g.length});for(var f=0;f<g.length;f++){e=g[f];c.writeI16(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"protocolVersion",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.protocolVersion!=null)r(a.protocolVersion,c);else{d=h();r(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"config",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.config!=null)t(a.config,c);else{e=j();t(e,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"endpointInfos",ftype:b("ThriftTypes").MAP,fid:5});if(a.endpointInfos!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.endpointInfos).length});f=Object.entries(a.endpointInfos);for(var g=0;g<f.length;g++){d=f[g];e=d[0];d=d[1];c.writeString(e);q(d,c)}c.writeMapEnd()}else{e={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(e).length});d=Object.entries(e);for(var f=0;f<d.length;f++){g=d[f];e=g[0];g=g[1];c.writeString(e);q(g,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"e2eeServerStateCapabilities",ftype:b("ThriftTypes").MAP,fid:6});if(a.e2eeServerStateCapabilities!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.e2eeServerStateCapabilities).length});e=Object.entries(a.e2eeServerStateCapabilities);for(var g=0;g<e.length;g++){d=e[g];f=d[0];a=d[1];c.writeI32((d=Number(f))!=null?d:0);n(a,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});d=Object.entries(f);for(var a=0;a<d.length;a++){e=d[a];g=e[0];f=e[1];c.writeI32((e=Number(g))!=null?e:0);n(f,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},w=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.supportedVersions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=y(a);c.supportedVersions.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.supportedVersions===void 0&&(c.supportedVersions=[]);return c},x=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.employedVersion=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.employedVersion===void 0&&(c.employedVersion=0);return c},y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.min=a.readI16():a.skip(e);break;case 2:e===b("ThriftTypes").I16?c.max=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.min===void 0&&(c.min=0);c.max===void 0&&(c.max=0);return c},z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.mode=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.mode===void 0&&(c.mode=0);return c},A=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.preKeyBundle=a.readBinary():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.identityKeyInfo=z(a):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.deviceId=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.preKeyBundle===void 0&&(c.preKeyBundle=Uint8Array.of());c.identityKeyInfo===void 0&&(c.identityKeyInfo=g());c.deviceId===void 0&&(c.deviceId=0);return c},B=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.supportedVersions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=y(a);c.supportedVersions.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.supportedVersions===void 0&&(c.supportedVersions=[]);return c},C=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.keyNegotiationMode=a.readI16():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.foundationMode=b("E2eeStateTypes").FoundationModeEnum.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.allowOptionalGfd=a.readBool():a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.supportsH264V2=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.keyNegotiationMode===void 0&&(c.keyNegotiationMode=0);c.foundationMode===void 0&&(c.foundationMode=b("E2eeStateTypes").FoundationModeEnum.cast(0));c.allowOptionalGfd===void 0&&(c.allowOptionalGfd=!1);c.supportsH264V2===void 0&&(c.supportsH264V2=!1);return c},D=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.keyNegotiationMode=a.readI16():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.removeFrameDecryptorDelayMs=a.readI32():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.keepFrameDecryptors=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.senderKeyUpdateDelayMs=a.readI32():a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.keyTtlMs=a.readI32():a.skip(e);break;case 8:e===b("ThriftTypes").I16?c.ratchetSpace=a.readI16():a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.keyOverMediaDataChannelNumSends=a.readI32():a.skip(e);break;case 10:e===b("ThriftTypes").I32?c.keyOverMediaDataChannelRetryDelayMs=a.readI32():a.skip(e);break;case 11:e===b("ThriftTypes").BOOL?c.enableH264V2=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.keyNegotiationMode===void 0&&(c.keyNegotiationMode=0);c.removeFrameDecryptorDelayMs===void 0&&(c.removeFrameDecryptorDelayMs=0);c.keepFrameDecryptors===void 0&&(c.keepFrameDecryptors=!1);c.senderKeyUpdateDelayMs===void 0&&(c.senderKeyUpdateDelayMs=0);c.keyTtlMs===void 0&&(c.keyTtlMs=0);c.ratchetSpace===void 0&&(c.ratchetSpace=0);c.keyOverMediaDataChannelNumSends===void 0&&(c.keyOverMediaDataChannelNumSends=0);c.keyOverMediaDataChannelRetryDelayMs===void 0&&(c.keyOverMediaDataChannelRetryDelayMs=0);c.enableH264V2===void 0&&(c.enableH264V2=!1);return c},E=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.preKeyBundle=a.readBinary():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.cipherSuites=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var j=a.readI16();c.cipherSuites.push(j)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.protocolVersion=B(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.config=C(a):a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.identityKeyInfo=z(a):a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.deviceId=a.readI32():a.skip(e);break;case 7:if(e===b("ThriftTypes").MAP){c.e2eeClientStateCapabilities={};j=a.readMapBegin();for(var f=0;f<j.size;f++){d=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());var k=w(a);d!=null&&(c.e2eeClientStateCapabilities[d]=k)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.preKeyBundle===void 0&&(c.preKeyBundle=Uint8Array.of());c.cipherSuites===void 0&&(c.cipherSuites=[]);c.protocolVersion===void 0&&(c.protocolVersion=h());c.config===void 0&&(c.config=i());c.identityKeyInfo===void 0&&(c.identityKeyInfo=g());c.deviceId===void 0&&(c.deviceId=0);c.e2eeClientStateCapabilities===void 0&&(c.e2eeClientStateCapabilities={});return c},F=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:if(e===b("ThriftTypes").LIST){c.cipherSuites=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI16();c.cipherSuites.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.protocolVersion=B(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.config=D(a):a.skip(e);break;case 5:if(e===b("ThriftTypes").MAP){c.endpointInfos={};g=a.readMapBegin();for(var f=0;f<g.size;f++){d=a.readString();var i=A(a);c.endpointInfos[d]=i}}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.e2eeServerStateCapabilities={};d=a.readMapBegin();for(var i=0;i<d.size;i++){f=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());g=x(a);f!=null&&(c.e2eeServerStateCapabilities[f]=g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cipherSuites===void 0&&(c.cipherSuites=[]);c.protocolVersion===void 0&&(c.protocolVersion=h());c.config===void 0&&(c.config=j());c.endpointInfos===void 0&&(c.endpointInfos={});c.e2eeServerStateCapabilities===void 0&&(c.e2eeServerStateCapabilities={});return c};e.exports={E2eeClientState$DefaultConstructor:k,E2eeClientStateCapability$DefaultConstructor:a,E2eeClientStateConfig$DefaultConstructor:i,E2eeEndpointInfo$DefaultConstructor:f,E2eeProtocolVersion$DefaultConstructor:h,E2eeServerState$DefaultConstructor:l,E2eeServerStateCapability$DefaultConstructor:c,E2eeServerStateConfig$DefaultConstructor:j,IdentityKeyInfo$DefaultConstructor:g,VersionRange$DefaultConstructor:d,deserializeE2eeClientState:E,deserializeE2eeClientStateCapability:w,deserializeE2eeClientStateConfig:C,deserializeE2eeEndpointInfo:A,deserializeE2eeProtocolVersion:B,deserializeE2eeServerState:F,deserializeE2eeServerStateCapability:x,deserializeE2eeServerStateConfig:D,deserializeIdentityKeyInfo:z,deserializeVersionRange:y,serializeE2eeClientState:u,serializeE2eeClientStateCapability:m,serializeE2eeClientStateConfig:s,serializeE2eeEndpointInfo:q,serializeE2eeProtocolVersion:r,serializeE2eeServerState:v,serializeE2eeServerStateCapability:n,serializeE2eeServerStateConfig:t,serializeIdentityKeyInfo:p,serializeVersionRange:o}}),null);
__d("EmojiReactionsState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,P2P_GVC:1,MESSENGER_ROOM:2,ONLINE_LEARNING_ROOM:3,WORKPLACE_ROOM:4,REELS_TOGETHER:5,IG_P2P_GVC:6,IG_ROOM:7});var g=new Set(Object.values(a));c=Object.freeze({UNKNOWN:0,EMOJI:1,AVATAR:2,GIF:3});var h=new Set(Object.values(c)),i=function(){return{emoji_id:"",emoji_click_id:""}};d=function(){return{is_online_learning_call:!1,is_emoji_reactions_feature_enabled:!1}};f=function(){return{emoji:i()}};var j=function(){return{emoji_participants:[],is_emoji_reactions_feature_enabled:!1}},k=function(){return{participant_id:"",emoji:i(),emoji_expiry_time:"0",reactions:[]}},l=function(){return{selected_reaction:i()}},m=function(a,c){c.writeStructBegin("Emoji"),c.writeFieldBegin({fname:"emoji_id",ftype:b("ThriftTypes").STRING,fid:1}),a.emoji_id!=null?c.writeString(a.emoji_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"emoji_click_id",ftype:b("ThriftTypes").STRING,fid:2}),a.emoji_click_id!=null?c.writeString(a.emoji_click_id):c.writeString(""),c.writeFieldEnd(),a.reaction_type!=null&&(c.writeFieldBegin({fname:"reaction_type",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.reaction_type),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},n=function(a,c){c.writeStructBegin("EmojiReactionsConferenceOutputState"),c.writeFieldBegin({fname:"is_online_learning_call",ftype:b("ThriftTypes").BOOL,fid:1}),a.is_online_learning_call!=null?c.writeBool(a.is_online_learning_call):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldBegin({fname:"is_emoji_reactions_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2}),a.is_emoji_reactions_feature_enabled!=null?c.writeBool(a.is_emoji_reactions_feature_enabled):c.writeBool(!1),c.writeFieldEnd(),a.call_type!=null&&(c.writeFieldBegin({fname:"call_type",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.call_type),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},o=function(a,c){c.writeStructBegin("EmojiReactionsInputState"),c.writeFieldBegin({fname:"emoji",ftype:b("ThriftTypes").STRUCT,fid:1}),a.emoji!=null?m(a.emoji,c):m(i(),c),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},p=function(a,c){c.writeStructBegin("EmojiReactionsOutputState");c.writeFieldBegin({fname:"emoji_participants",ftype:b("ThriftTypes").LIST,fid:1});if(a.emoji_participants!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.emoji_participants.length});for(var d=a.emoji_participants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;q(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];q(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_emoji_reactions_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});a.is_emoji_reactions_feature_enabled!=null?c.writeBool(a.is_emoji_reactions_feature_enabled):c.writeBool(!1);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},q=function(a,c){c.writeStructBegin("EmojiReactionsParticipant");c.writeFieldBegin({fname:"participant_id",ftype:b("ThriftTypes").STRING,fid:1});a.participant_id!=null?c.writeString(a.participant_id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"emoji",ftype:b("ThriftTypes").STRUCT,fid:2});a.emoji!=null?m(a.emoji,c):m(i(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"emoji_expiry_time",ftype:b("ThriftTypes").I64,fid:3});a.emoji_expiry_time!=null?c.writeI64(b("jsbi").BigInt(a.emoji_expiry_time)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();c.writeFieldBegin({fname:"reactions",ftype:b("ThriftTypes").LIST,fid:4});if(a.reactions!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.reactions.length});for(var a=a.reactions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;r(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var e=0;e<f.length;e++){d=f[e];r(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},r=function(a,c){c.writeStructBegin("Reaction"),c.writeFieldBegin({fname:"selected_reaction",ftype:b("ThriftTypes").STRUCT,fid:1}),a.selected_reaction!=null?m(a.selected_reaction,c):m(i(),c),c.writeFieldEnd(),a.reaction_expiry_time!=null&&(c.writeFieldBegin({fname:"reaction_expiry_time",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.reaction_expiry_time)),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},s=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.emoji_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.emoji_click_id=a.readString():a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.reaction_type=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji_id==null&&(c.emoji_id="");c.emoji_click_id==null&&(c.emoji_click_id="");return c},t=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_online_learning_call=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_emoji_reactions_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.call_type=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_online_learning_call==null&&(c.is_online_learning_call=!1);c.is_emoji_reactions_feature_enabled==null&&(c.is_emoji_reactions_feature_enabled=!1);return c},u=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.emoji=s(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji==null&&(c.emoji=i());return c},v=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.emoji_participants=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=w(a);c.emoji_participants.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_emoji_reactions_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji_participants==null&&(c.emoji_participants=[]);c.is_emoji_reactions_feature_enabled==null&&(c.is_emoji_reactions_feature_enabled=!1);return c},w=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.participant_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.emoji=s(a):a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.emoji_expiry_time=a.readI64().toString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.reactions=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=x(a);c.reactions.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id==null&&(c.participant_id="");c.emoji==null&&(c.emoji=i());c.emoji_expiry_time==null&&(c.emoji_expiry_time="0");c.reactions==null&&(c.reactions=[]);return c},x=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.selected_reaction=s(a):a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.reaction_expiry_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.selected_reaction==null&&(c.selected_reaction=i());return c};e.exports={CallTypes:a,Emoji$DefaultConstructor:i,EmojiReactionsConferenceOutputState$DefaultConstructor:d,EmojiReactionsInputState$DefaultConstructor:f,EmojiReactionsOutputState$DefaultConstructor:j,EmojiReactionsParticipant$DefaultConstructor:k,Reaction$DefaultConstructor:l,ReactionTypes:c,deserializeEmoji:s,deserializeEmojiReactionsConferenceOutputState:t,deserializeEmojiReactionsInputState:u,deserializeEmojiReactionsOutputState:v,deserializeEmojiReactionsParticipant:w,deserializeReaction:x,serializeEmoji:m,serializeEmojiReactionsConferenceOutputState:n,serializeEmojiReactionsInputState:o,serializeEmojiReactionsOutputState:p,serializeEmojiReactionsParticipant:q,serializeReaction:r}}),null);
__d("IntenticonsState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,ADD:1,UPDATE:2,REMOVE:3});var g=new Set(Object.values(a));c=function(){return{rotation:0,scale:1,x:0,y:0}};d=function(){return{user_id:""}};f=function(){return{}};var h=function(){return{callIntenticons:new Map()}},i=function(a,c){c.writeStructBegin("Context"),c.writeFieldBegin({fname:"rotation",ftype:b("ThriftTypes").DOUBLE,fid:1}),a.rotation!=null?c.writeDouble(a.rotation):c.writeDouble(0),c.writeFieldBegin({fname:"scale",ftype:b("ThriftTypes").DOUBLE,fid:2}),a.scale!=null?c.writeDouble(a.scale):c.writeDouble(1),c.writeFieldBegin({fname:"x",ftype:b("ThriftTypes").DOUBLE,fid:3}),a.x!=null?c.writeDouble(a.x):c.writeDouble(0),c.writeFieldBegin({fname:"y",ftype:b("ThriftTypes").DOUBLE,fid:4}),a.y!=null?c.writeDouble(a.y):c.writeDouble(0),c.writeFieldStop(),c.writeStructEnd()},j=function(a,c){c.writeStructBegin("IntenticonItem"),c.writeFieldBegin({fname:"user_id",ftype:b("ThriftTypes").STRING,fid:1}),a.user_id!=null?c.writeString(a.user_id):c.writeString(""),a.sticker_url!=null&&(c.writeFieldBegin({fname:"sticker_url",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.sticker_url)),a.animated_sticker_url!=null&&(c.writeFieldBegin({fname:"animated_sticker_url",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.animated_sticker_url)),a.sticker_mime_type!=null&&(c.writeFieldBegin({fname:"sticker_mime_type",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.sticker_mime_type)),a.animated_sticker_mime_type!=null&&(c.writeFieldBegin({fname:"animated_sticker_mime_type",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.animated_sticker_mime_type)),a.text!=null&&(c.writeFieldBegin({fname:"text",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.text)),a.intenticon_id!=null&&(c.writeFieldBegin({fname:"intenticon_id",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.intenticon_id)),a.context!=null&&(c.writeFieldBegin({fname:"context",ftype:b("ThriftTypes").STRUCT,fid:8}),i(a.context,c)),a.operation!=null&&(c.writeFieldBegin({fname:"operation",ftype:b("ThriftTypes").I32,fid:9}),c.writeI32(a.operation)),c.writeFieldStop(),c.writeStructEnd()},k=function(a,c){c.writeStructBegin("IntenticonParticipantInputState"),a.intenticonItem!=null&&(c.writeFieldBegin({fname:"intenticonItem",ftype:b("ThriftTypes").STRUCT,fid:1}),j(a.intenticonItem,c)),c.writeFieldStop(),c.writeStructEnd()},l=function(a,c){c.writeStructBegin("IntenticonParticipantOutputState");c.writeFieldBegin({fname:"callIntenticons",ftype:b("ThriftTypes").MAP,fid:1});if(a.callIntenticons!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.callIntenticons.size});for(var a=a.callIntenticons.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);j(f,c)}}else{g=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:g.size});for(var f=g.entries(),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;a=g[0];g=g[1];c.writeString(a);j(g,c)}}c.writeFieldStop();c.writeStructEnd()},m=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").DOUBLE?c.rotation=a.readDouble():a.skip(e);break;case 2:e===b("ThriftTypes").DOUBLE?c.scale=a.readDouble():a.skip(e);break;case 3:e===b("ThriftTypes").DOUBLE?c.x=a.readDouble():a.skip(e);break;case 4:e===b("ThriftTypes").DOUBLE?c.y=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.rotation==null&&(c.rotation=0);c.scale==null&&(c.scale=1);c.x==null&&(c.x=0);c.y==null&&(c.y=0);return c},n=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.sticker_url=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.animated_sticker_url=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.sticker_mime_type=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.animated_sticker_mime_type=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.text=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.intenticon_id=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").STRUCT?c.context=m(a):a.skip(e);break;case 9:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.operation=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id==null&&(c.user_id="");return c},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.intenticonItem=n(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.callIntenticons=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=n(a);c.callIntenticons.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.callIntenticons==null&&(c.callIntenticons=new Map());return c};e.exports={Context$DefaultConstructor:c,IntenticonItem$DefaultConstructor:d,IntenticonParticipantInputState$DefaultConstructor:f,IntenticonParticipantOutputState$DefaultConstructor:h,Operations:a,deserializeContext:m,deserializeIntenticonItem:n,deserializeIntenticonParticipantInputState:o,deserializeIntenticonParticipantOutputState:p,serializeContext:i,serializeIntenticonItem:j,serializeIntenticonParticipantInputState:k,serializeIntenticonParticipantOutputState:l}}),null);
__d("LiveStreamState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({gridLayoutExtra:1,dominantLayoutExtra:2});c=Object.freeze({NONE:0,GRID:1,DOMINANT:2});var g=new Set(Object.values(c));d=Object.freeze({UNKNOWN:0,SELF:10,ALL_FRIENDS:40,FRIENDS_OF_FRIENDS:50,EVERYONE:80});var h=new Set(Object.values(d));f=Object.freeze({NONE:0,STARTED:1,IN_PROGRESS:2});var i=new Set(Object.values(f)),j=Object.freeze({USER_PROFILE:0,PAGE:1,GROUP:2,PUBLIC_GROUP:3,PRIVATE_GROUP:4,EVENT:5,PUBLIC_EVENT:6,PRIVATE_EVENT:7,PAID_ONLINE_EVENT:8}),k=new Set(Object.values(j)),l=Object.freeze({mediaSourceType:1}),m=Object.freeze({AUDIO:0,VIDEO:1,SCREEN:2}),n=new Set(Object.values(m)),o=Object.freeze({EXPLICIT_CLIENT_ACK:0,SERVER_AUTO_ACK:1}),p=new Set(Object.values(o)),q=function(){return{}},r=function(){return{}},s=function(){return{activeSpeakerUserIds:[]}},t=function(){return{}},u=function(){return{}},v=function(){return{}},w=function(){return{acceptedUsers:[]}},x=function(){return{negotiationMode:0}},y=function(){return{allowedUsers:[],subscribedUsers:[],negotiationMode:0}},z=function(){return{broadcastParticipants:[]}},A=function(){return{}},B=function(){return{hostId:""}},C=function(){return{screenSharingUserIds:[]}},D=function(){return{userId:"0",mediaSourceId:{}}},E=function(a,c){c.writeStructBegin("ClientLayoutInfo"),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:b("ThriftTypes").STRUCT,fid:1}),J(a.layoutInfo,c),c.writeFieldEnd()),a.screenShareInfo!=null&&(c.writeFieldBegin({fname:"screenShareInfo",ftype:b("ThriftTypes").STRUCT,fid:2}),P(a.screenShareInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},F=function(a,c){c.writeStructBegin("DominantLayoutExtra");if(a.dominantUsers!=null){a=a.dominantUsers;c.writeFieldBegin({fname:"dominantUsers",ftype:b("ThriftTypes").LIST,fid:1});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.length});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;Q(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},G=function(a,c){c.writeStructBegin("DominantSpeakerInfo");c.writeFieldBegin({fname:"activeSpeakerUserIds",ftype:b("ThriftTypes").LIST,fid:1});if(a.activeSpeakerUserIds!=null){c.writeListBegin({etype:b("ThriftTypes").I64,size:a.activeSpeakerUserIds.length});for(var a=a.activeSpeakerUserIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").I64,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},H=function(a,c){c.writeStructBegin("GridLayoutExtra");if(a.gridUsers!=null){a=a.gridUsers;c.writeFieldBegin({fname:"gridUsers",ftype:b("ThriftTypes").LIST,fid:1});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.length});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;Q(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},I=function(a,c){c.writeStructBegin("LayoutExtra");var d;if(a.gridLayoutExtra!=null)if(d==null)c.writeFieldBegin({fname:"gridLayoutExtra",ftype:b("ThriftTypes").STRUCT,fid:1}),H(a.gridLayoutExtra,c),c.writeFieldEnd(),d="gridLayoutExtra";else throw new Error("more than one field is being serialized in union type LayoutExtra: gridLayoutExtra, "+d);if(a.dominantLayoutExtra!=null)if(d==null)c.writeFieldBegin({fname:"dominantLayoutExtra",ftype:b("ThriftTypes").STRUCT,fid:2}),F(a.dominantLayoutExtra,c),c.writeFieldEnd(),d="dominantLayoutExtra";else throw new Error("more than one field is being serialized in union type LayoutExtra: dominantLayoutExtra, "+d);c.writeFieldStop();c.writeStructEnd()},J=function(a,c){c.writeStructBegin("LayoutInfo"),a.layoutType!=null&&(c.writeFieldBegin({fname:"layoutType",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.layoutType),c.writeFieldEnd()),a.layoutExtra!=null&&(c.writeFieldBegin({fname:"layoutExtra",ftype:b("ThriftTypes").STRUCT,fid:2}),I(a.layoutExtra,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},K=function(a,c){c.writeStructBegin("LiveStreamClientInputState"),a.negotiationToken!=null&&(c.writeFieldBegin({fname:"negotiationToken",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.negotiationToken),c.writeFieldEnd()),a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd()),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),E(a.layoutInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},L=function(a,c){c.writeStructBegin("LiveStreamClientOutputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());a.liveStreamStatus!=null&&(c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.liveStreamStatus),c.writeFieldEnd());a.negotiationToken!=null&&(c.writeFieldBegin({fname:"negotiationToken",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.negotiationToken),c.writeFieldEnd());c.writeFieldBegin({fname:"acceptedUsers",ftype:b("ThriftTypes").LIST,fid:4});if(a.acceptedUsers!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.acceptedUsers.length});for(var d=a.acceptedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(var f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:b("ThriftTypes").STRUCT,fid:5}),N(a.optInInfo,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},M=function(a,c){c.writeStructBegin("LiveStreamConferenceInputState"),a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd()),a.liveStreamStatus!=null&&(c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.liveStreamStatus),c.writeFieldEnd()),a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),N(a.optInInfo,c),c.writeFieldEnd()),c.writeFieldBegin({fname:"negotiationMode",ftype:b("ThriftTypes").I32,fid:4}),a.negotiationMode!=null?c.writeI32(a.negotiationMode):c.writeI32(0),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},aa=function(a,c){c.writeStructBegin("LiveStreamConferenceOutputState");c.writeFieldBegin({fname:"allowedUsers",ftype:b("ThriftTypes").LIST,fid:1});if(a.allowedUsers!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.allowedUsers.length});for(var d=a.allowedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(var f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),N(a.optInInfo,c),c.writeFieldEnd());c.writeFieldBegin({fname:"subscribedUsers",ftype:b("ThriftTypes").LIST,fid:4});if(a.subscribedUsers!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.subscribedUsers.length});for(var d=a.subscribedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(var f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.liveStreamStatus!=null&&(c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.liveStreamStatus),c.writeFieldEnd());c.writeFieldBegin({fname:"negotiationMode",ftype:b("ThriftTypes").I32,fid:6});a.negotiationMode!=null?c.writeI32(a.negotiationMode):c.writeI32(0);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},ba=function(a,c){c.writeStructBegin("LiveStreamExtensionInputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());a.liveStreamStatus!=null&&(c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.liveStreamStatus),c.writeFieldEnd());c.writeFieldBegin({fname:"broadcastParticipants",ftype:b("ThriftTypes").LIST,fid:3});if(a.broadcastParticipants!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.broadcastParticipants.length});for(var a=a.broadcastParticipants,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeString(d)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},ca=function(a,c){c.writeStructBegin("LiveStreamExtensionOutputState"),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:b("ThriftTypes").STRUCT,fid:1}),J(a.layoutInfo,c),c.writeFieldEnd()),a.screenShareInfo!=null&&(c.writeFieldBegin({fname:"screenShareInfo",ftype:b("ThriftTypes").STRUCT,fid:2}),P(a.screenShareInfo,c),c.writeFieldEnd()),a.dominantSpeakerInfo!=null&&(c.writeFieldBegin({fname:"dominantSpeakerInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),G(a.dominantSpeakerInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},N=function(a,c){c.writeStructBegin("LiveStreamOptInInfo"),a.audience!=null&&(c.writeFieldBegin({fname:"audience",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.audience),c.writeFieldEnd()),a.target!=null&&(c.writeFieldBegin({fname:"target",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.target),c.writeFieldEnd()),a.targetName!=null&&(c.writeFieldBegin({fname:"targetName",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.targetName),c.writeFieldEnd()),c.writeFieldBegin({fname:"hostId",ftype:b("ThriftTypes").STRING,fid:4}),a.hostId!=null?c.writeString(a.hostId):c.writeString(""),c.writeFieldEnd(),a.targetSize!=null&&(c.writeFieldBegin({fname:"targetSize",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.targetSize),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},O=function(a,c){c.writeStructBegin("MediaSourceId");var d;if(a.mediaSourceType!=null)if(d==null)c.writeFieldBegin({fname:"mediaSourceType",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.mediaSourceType),c.writeFieldEnd(),d="mediaSourceType";else throw new Error("more than one field is being serialized in union type MediaSourceId: mediaSourceType, "+d);c.writeFieldStop();c.writeStructEnd()},P=function(a,c){c.writeStructBegin("ScreenShareInfo");c.writeFieldBegin({fname:"screenSharingUserIds",ftype:b("ThriftTypes").LIST,fid:1});if(a.screenSharingUserIds!=null){c.writeListBegin({etype:b("ThriftTypes").I64,size:a.screenSharingUserIds.length});for(var a=a.screenSharingUserIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").I64,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},Q=function(a,c){c.writeStructBegin("UserMediaSourceId"),c.writeFieldBegin({fname:"userId",ftype:b("ThriftTypes").I64,fid:1}),a.userId!=null?c.writeI64(b("jsbi").BigInt(a.userId)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"mediaSourceId",ftype:b("ThriftTypes").STRUCT,fid:2}),a.mediaSourceId!=null?O(a.mediaSourceId,c):O({},c),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},R=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.layoutInfo=W(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.screenShareInfo=Z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},S=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.dominantUsers=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=$(a);c.dominantUsers.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},T=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.activeSpeakerUserIds=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readI64().toString();c.activeSpeakerUserIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.activeSpeakerUserIds==null&&(c.activeSpeakerUserIds=[]);return c},U=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.gridUsers=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=$(a);c.gridUsers.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},V=function(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.gridLayoutExtra=U(a),c="gridLayoutExtra";else throw new Error("more than one field have been deserialized in union type: LayoutExtra: gridLayoutExtra, "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.dominantLayoutExtra=S(a),c="dominantLayoutExtra";else throw new Error("more than one field have been deserialized in union type: LayoutExtra: dominantLayoutExtra, "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d},W=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.layoutType=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.layoutExtra=V(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},da=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.negotiationToken=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.layoutInfo=R(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},ea=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.liveStreamStatus=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.negotiationToken=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.acceptedUsers=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.acceptedUsers.push(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.optInInfo=X(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.acceptedUsers==null&&(c.acceptedUsers=[]);return c},fa=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.liveStreamStatus=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.optInInfo=X(a):a.skip(e);break;case 4:if(e===b("ThriftTypes").I32){d=a.readI32();p.has(d)&&(c.negotiationMode=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.negotiationMode==null&&(c.negotiationMode=0);return c},ga=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.allowedUsers=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.allowedUsers.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.optInInfo=X(a):a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.subscribedUsers=[];g=a.readListBegin();for(var f=0;f<g.size;++f){d=a.readString();c.subscribedUsers.push(d)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.liveStreamStatus=d)}else a.skip(e);break;case 6:if(e===b("ThriftTypes").I32){f=a.readI32();p.has(f)&&(c.negotiationMode=f)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.allowedUsers==null&&(c.allowedUsers=[]);c.subscribedUsers==null&&(c.subscribedUsers=[]);c.negotiationMode==null&&(c.negotiationMode=0);return c},ha=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.liveStreamStatus=d)}else a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.broadcastParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.broadcastParticipants.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.broadcastParticipants==null&&(c.broadcastParticipants=[]);return c},ia=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.layoutInfo=W(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.screenShareInfo=Z(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.dominantSpeakerInfo=T(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},X=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.audience=d)}else a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();k.has(d)&&(c.target=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.targetName=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.hostId=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.targetSize=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.hostId==null&&(c.hostId="");return c},Y=function(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").I32)if(c==null){e=a.readI32();n.has(e)&&(d.mediaSourceType=e);c="mediaSourceType"}else throw new Error("more than one field have been deserialized in union type: MediaSourceId: mediaSourceType, "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d},Z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.screenSharingUserIds=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readI64().toString();c.screenSharingUserIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.screenSharingUserIds==null&&(c.screenSharingUserIds=[]);return c},$=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.userId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.mediaSourceId=Y(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId==null&&(c.userId="0");c.mediaSourceId==null&&(c.mediaSourceId={});return c};e.exports={ClientLayoutInfo$DefaultConstructor:q,DominantLayoutExtra$DefaultConstructor:r,DominantSpeakerInfo$DefaultConstructor:s,GridLayoutExtra$DefaultConstructor:t,LayoutExtra$Types:a,LayoutInfo$DefaultConstructor:u,LayoutTypes:c,LiveStreamAudiences:d,LiveStreamClientInputState$DefaultConstructor:v,LiveStreamClientOutputState$DefaultConstructor:w,LiveStreamConferenceInputState$DefaultConstructor:x,LiveStreamConferenceOutputState$DefaultConstructor:y,LiveStreamExtensionInputState$DefaultConstructor:z,LiveStreamExtensionOutputState$DefaultConstructor:A,LiveStreamOptInInfo$DefaultConstructor:B,LiveStreamStatuss:f,LiveStreamTargets:j,MediaSourceId$Types:l,MediaSourceTypes:m,NegotiationModes:o,ScreenShareInfo$DefaultConstructor:C,UserMediaSourceId$DefaultConstructor:D,deserializeClientLayoutInfo:R,deserializeDominantLayoutExtra:S,deserializeDominantSpeakerInfo:T,deserializeGridLayoutExtra:U,deserializeLayoutExtra:V,deserializeLayoutInfo:W,deserializeLiveStreamClientInputState:da,deserializeLiveStreamClientOutputState:ea,deserializeLiveStreamConferenceInputState:fa,deserializeLiveStreamConferenceOutputState:ga,deserializeLiveStreamExtensionInputState:ha,deserializeLiveStreamExtensionOutputState:ia,deserializeLiveStreamOptInInfo:X,deserializeMediaSourceId:Y,deserializeScreenShareInfo:Z,deserializeUserMediaSourceId:$,serializeClientLayoutInfo:E,serializeDominantLayoutExtra:F,serializeDominantSpeakerInfo:G,serializeGridLayoutExtra:H,serializeLayoutExtra:I,serializeLayoutInfo:J,serializeLiveStreamClientInputState:K,serializeLiveStreamClientOutputState:L,serializeLiveStreamConferenceInputState:M,serializeLiveStreamConferenceOutputState:aa,serializeLiveStreamExtensionInputState:ba,serializeLiveStreamExtensionOutputState:ca,serializeLiveStreamOptInInfo:N,serializeMediaSourceId:O,serializeScreenShareInfo:P,serializeUserMediaSourceId:Q}}),null);
__d("MediaInformationState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{}};c=function(){return{participant_media_infos:new Map()}};d=function(){return{mosaic_grid_capable:!1}};f=function(){return{width:0,height:0}};var g=function(a,c){c.writeStructBegin("MediaInformationInputState"),a.participant_media_info!=null&&(c.writeFieldBegin({fname:"participant_media_info",ftype:b("ThriftTypes").STRUCT,fid:1}),i(a.participant_media_info,c)),c.writeFieldStop(),c.writeStructEnd()},h=function(a,c){c.writeStructBegin("MediaInformationOutputState");c.writeFieldBegin({fname:"participant_media_infos",ftype:b("ThriftTypes").MAP,fid:1});if(a.participant_media_infos!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.participant_media_infos.size});for(var a=a.participant_media_infos.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);i(f,c)}}else{g=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:g.size});for(var f=g.entries(),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;a=g[0];g=g[1];c.writeString(a);i(g,c)}}c.writeFieldStop();c.writeStructEnd()},i=function(a,c){c.writeStructBegin("ParticipantMediaInfo"),c.writeFieldBegin({fname:"mosaic_grid_capable",ftype:b("ThriftTypes").BOOL,fid:1}),a.mosaic_grid_capable!=null?c.writeBool(a.mosaic_grid_capable):c.writeBool(!1),a.video_size!=null&&(c.writeFieldBegin({fname:"video_size",ftype:b("ThriftTypes").STRUCT,fid:2}),j(a.video_size,c)),c.writeFieldStop(),c.writeStructEnd()},j=function(a,c){c.writeStructBegin("VideoSize"),c.writeFieldBegin({fname:"width",ftype:b("ThriftTypes").I32,fid:1}),a.width!=null?c.writeI32(a.width):c.writeI32(0),c.writeFieldBegin({fname:"height",ftype:b("ThriftTypes").I32,fid:2}),a.height!=null?c.writeI32(a.height):c.writeI32(0),c.writeFieldStop(),c.writeStructEnd()},k=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant_media_info=m(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},l=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.participant_media_infos=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=m(a);c.participant_media_infos.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_media_infos==null&&(c.participant_media_infos=new Map());return c},m=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.mosaic_grid_capable=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.video_size=n(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.mosaic_grid_capable==null&&(c.mosaic_grid_capable=!1);return c},n=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.width=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.height=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.width==null&&(c.width=0);c.height==null&&(c.height=0);return c};e.exports={MediaInformationInputState$DefaultConstructor:a,MediaInformationOutputState$DefaultConstructor:c,ParticipantMediaInfo$DefaultConstructor:d,VideoSize$DefaultConstructor:f,deserializeMediaInformationInputState:k,deserializeMediaInformationOutputState:l,deserializeParticipantMediaInfo:m,deserializeVideoSize:n,serializeMediaInformationInputState:g,serializeMediaInformationOutputState:h,serializeParticipantMediaInfo:i,serializeVideoSize:j}}),null);
__d("MediaSyncState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({PLAY:1,PAUSE:2,STOP:3});var g=new Set(Object.values(a));c=Object.freeze({NONE:0,PLAY:1,PAUSE:2,STOP:3,RESUME:4,SEEK_FORWARD:5,SEEK_BACKWARD:6,AUTOPLAY:7});var h=new Set(Object.values(c));d=Object.freeze({UNKNOWN:0,IMAGE:1,VIDEO:2,IGTV:3,CAROUSEL:4});var i=new Set(Object.values(d));f=Object.freeze({UNKNOWN:0,FEED:1,REELS:2});var j=new Set(Object.values(f)),k=Object.freeze({UNKNOWN:0,NOT_SAVABLE:1,NOT_SAVED:2,SAVED:3,ARCHIVED:4}),l=new Set(Object.values(k)),m=Object.freeze({UNKNOWN:0,INSTAGRAM:1,FACEBOOK_VIDEO:2,FACEBOOK_POST:3}),n=new Set(Object.values(m)),o=function(){return{media_position_ms:"0",action_time_ms:"0"}},p=function(){return{user_id:"",username:"",avatar_url:""}},q=function(){return{}},aa=function(){return{artist_name:"",song_title:""}},ba=function(){return{locale:"",localized_language:"",captions_url:""}},r=function(){return{}},ca=function(){return{action_metadata:o(),content_id:"",actor_id:""}},da=function(){return{count:0}},ea=function(){return{content_id:"",video:u(),is_live_streaming:!1,is_reportable:!1,available_caption_locales:[],is_non_interactable:!1}},fa=function(){return{content_id:"",cover_image_url:""}},ga=function(){return{content_id:""}},ha=function(){return{content_id:"",owner:s(),thumbnail_url:""}},s=function(){return{user_id:"",username:"",avatar_url:""}},ia=function(){return{latest_input:t(),latest_actor_id:"",latest_new_content_start_time_ms:"0",history:[]}},t=function(){return{action_metadata:o(),content_id:""}},ja=function(){return{action_metadata:o(),actor:p(),content:r(),content_id:""}},ka=function(){return{content_id:"",title:"",message:""}},la=function(){return{product_id:"",product_name:"",product_position_x:"",product_position_y:""}},ma=function(){return{url:"",height:0,width:0}},u=function(){return{duration_ms:"0",aspect_ratio:0}},v=function(a,c){c.writeStructBegin("ActionMetadata"),c.writeFieldBegin({fname:"media_position_ms",ftype:b("ThriftTypes").I64,fid:1}),a.media_position_ms!=null?c.writeI64(b("jsbi").BigInt(a.media_position_ms)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"action_time_ms",ftype:b("ThriftTypes").I64,fid:2}),a.action_time_ms!=null?c.writeI64(b("jsbi").BigInt(a.action_time_ms)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),a.autoplay_action_id!=null&&(c.writeFieldBegin({fname:"autoplay_action_id",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.autoplay_action_id),c.writeFieldEnd()),a.tab_source!=null&&(c.writeFieldBegin({fname:"tab_source",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.tab_source),c.writeFieldEnd()),a.skip_double_write!=null&&(c.writeFieldBegin({fname:"skip_double_write",ftype:b("ThriftTypes").BOOL,fid:5}),c.writeBool(a.skip_double_write),c.writeFieldEnd()),a.ads_metadata!=null&&(c.writeFieldBegin({fname:"ads_metadata",ftype:b("ThriftTypes").STRUCT,fid:6}),x(a.ads_metadata,c),c.writeFieldEnd()),a.carousel_item_index!=null&&(c.writeFieldBegin({fname:"carousel_item_index",ftype:b("ThriftTypes").I32,fid:7}),c.writeI32(a.carousel_item_index),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},w=function(a,c){c.writeStructBegin("Actor"),c.writeFieldBegin({fname:"user_id",ftype:b("ThriftTypes").STRING,fid:1}),a.user_id!=null?c.writeString(a.user_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"username",ftype:b("ThriftTypes").STRING,fid:2}),a.username!=null?c.writeString(a.username):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"avatar_url",ftype:b("ThriftTypes").STRING,fid:3}),a.avatar_url!=null?c.writeString(a.avatar_url):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},x=function(a,c){c.writeStructBegin("AdsMetadata"),a.ad_break_start_time_ms!=null&&(c.writeFieldBegin({fname:"ad_break_start_time_ms",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.ad_break_start_time_ms)),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},y=function(a,c){c.writeStructBegin("AudioAttribution"),c.writeFieldBegin({fname:"artist_name",ftype:b("ThriftTypes").STRING,fid:1}),a.artist_name!=null?c.writeString(a.artist_name):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"song_title",ftype:b("ThriftTypes").STRING,fid:2}),a.song_title!=null?c.writeString(a.song_title):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},z=function(a,c){c.writeStructBegin("CaptionLocales"),c.writeFieldBegin({fname:"locale",ftype:b("ThriftTypes").STRING,fid:1}),a.locale!=null?c.writeString(a.locale):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"localized_language",ftype:b("ThriftTypes").STRING,fid:2}),a.localized_language!=null?c.writeString(a.localized_language):c.writeString(""),c.writeFieldEnd(),a.localized_country!=null&&(c.writeFieldBegin({fname:"localized_country",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.localized_country),c.writeFieldEnd()),a.localized_creation_method!=null&&(c.writeFieldBegin({fname:"localized_creation_method",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.localized_creation_method),c.writeFieldEnd()),c.writeFieldBegin({fname:"captions_url",ftype:b("ThriftTypes").STRING,fid:5}),a.captions_url!=null?c.writeString(a.captions_url):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},A=function(a,c){c.writeStructBegin("Content"),a.placeholder!=null&&(c.writeFieldBegin({fname:"placeholder",ftype:b("ThriftTypes").STRUCT,fid:1}),H(a.placeholder,c),c.writeFieldEnd()),a.fallback!=null&&(c.writeFieldBegin({fname:"fallback",ftype:b("ThriftTypes").STRUCT,fid:2}),C(a.fallback,c),c.writeFieldEnd()),a.ig_content!=null&&(c.writeFieldBegin({fname:"ig_content",ftype:b("ThriftTypes").STRUCT,fid:3}),E(a.ig_content,c),c.writeFieldEnd()),a.fb_video!=null&&(c.writeFieldBegin({fname:"fb_video",ftype:b("ThriftTypes").STRUCT,fid:4}),B(a.fb_video,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},na=function(a,c){c.writeStructBegin("E2EEMediaSyncPayload"),a.action!=null&&(c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.action),c.writeFieldEnd()),c.writeFieldBegin({fname:"action_metadata",ftype:b("ThriftTypes").STRUCT,fid:2}),a.action_metadata!=null?v(a.action_metadata,c):v(o(),c),c.writeFieldEnd(),a.admin_message_type!=null&&(c.writeFieldBegin({fname:"admin_message_type",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.admin_message_type),c.writeFieldEnd()),c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:4}),a.content_id!=null?c.writeString(a.content_id):c.writeString(""),c.writeFieldEnd(),a.content_source!=null&&(c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.content_source),c.writeFieldEnd()),c.writeFieldBegin({fname:"actor_id",ftype:b("ThriftTypes").STRING,fid:6}),a.actor_id!=null?c.writeString(a.actor_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},oa=function(a,c){c.writeStructBegin("E2EEPMVAdBumperCount"),a.last_content_id!=null&&(c.writeFieldBegin({fname:"last_content_id",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.last_content_id),c.writeFieldEnd()),a.last_content_source!=null&&(c.writeFieldBegin({fname:"last_content_source",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.last_content_source),c.writeFieldEnd()),c.writeFieldBegin({fname:"count",ftype:b("ThriftTypes").I32,fid:3}),a.count!=null?c.writeI32(a.count):c.writeI32(0),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},B=function(a,c){c.writeStructBegin("FacebookVideo");c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1});a.content_id!=null?c.writeString(a.content_id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"video",ftype:b("ThriftTypes").STRUCT,fid:2});a.video!=null?K(a.video,c):K(u(),c);c.writeFieldEnd();a.thumbnail!=null&&(c.writeFieldBegin({fname:"thumbnail",ftype:b("ThriftTypes").STRUCT,fid:3}),J(a.thumbnail,c),c.writeFieldEnd());a.title!=null&&(c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.title),c.writeFieldEnd());a.subtitle!=null&&(c.writeFieldBegin({fname:"subtitle",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.subtitle),c.writeFieldEnd());c.writeFieldBegin({fname:"is_live_streaming",ftype:b("ThriftTypes").BOOL,fid:6});a.is_live_streaming!=null?c.writeBool(a.is_live_streaming):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"is_reportable",ftype:b("ThriftTypes").BOOL,fid:7});a.is_reportable!=null?c.writeBool(a.is_reportable):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"available_caption_locales",ftype:b("ThriftTypes").LIST,fid:8});if(a.available_caption_locales!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.available_caption_locales.length});for(var d=a.available_caption_locales,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;z(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];z(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_non_interactable",ftype:b("ThriftTypes").BOOL,fid:9});a.is_non_interactable!=null?c.writeBool(a.is_non_interactable):c.writeBool(!1);c.writeFieldEnd();a.content_rating!=null&&(c.writeFieldBegin({fname:"content_rating",ftype:b("ThriftTypes").STRING,fid:10}),c.writeString(a.content_rating),c.writeFieldEnd());a.tracking!=null&&(c.writeFieldBegin({fname:"tracking",ftype:b("ThriftTypes").STRING,fid:11}),c.writeString(a.tracking),c.writeFieldEnd());a.saved_state!=null&&(c.writeFieldBegin({fname:"saved_state",ftype:b("ThriftTypes").I32,fid:12}),c.writeI32(a.saved_state),c.writeFieldEnd());a.is_reels!=null&&(c.writeFieldBegin({fname:"is_reels",ftype:b("ThriftTypes").BOOL,fid:13}),c.writeBool(a.is_reels),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},C=function(a,c){c.writeStructBegin("Fallback"),c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1}),a.content_id!=null?c.writeString(a.content_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"cover_image_url",ftype:b("ThriftTypes").STRING,fid:2}),a.cover_image_url!=null?c.writeString(a.cover_image_url):c.writeString(""),c.writeFieldEnd(),a.message!=null&&(c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.message),c.writeFieldEnd()),a.video!=null&&(c.writeFieldBegin({fname:"video",ftype:b("ThriftTypes").STRUCT,fid:4}),K(a.video,c),c.writeFieldEnd()),a.attribution_image_url!=null&&(c.writeFieldBegin({fname:"attribution_image_url",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.attribution_image_url),c.writeFieldEnd()),a.attribution!=null&&(c.writeFieldBegin({fname:"attribution",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.attribution),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},D=function(a,c){c.writeStructBegin("HistoryRecord"),a.content_source!=null&&(c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.content_source),c.writeFieldEnd()),c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:2}),a.content_id!=null?c.writeString(a.content_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},E=function a(c,d){d.writeStructBegin("InstagramContent");d.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1});c.content_id!=null?d.writeString(c.content_id):d.writeString("");d.writeFieldEnd();d.writeFieldBegin({fname:"owner",ftype:b("ThriftTypes").STRUCT,fid:2});c.owner!=null?F(c.owner,d):F(s(),d);d.writeFieldEnd();c.media_type!=null&&(d.writeFieldBegin({fname:"media_type",ftype:b("ThriftTypes").I32,fid:3}),d.writeI32(c.media_type),d.writeFieldEnd());d.writeFieldBegin({fname:"thumbnail_url",ftype:b("ThriftTypes").STRING,fid:4});c.thumbnail_url!=null?d.writeString(c.thumbnail_url):d.writeString("");d.writeFieldEnd();if(c.images!=null){var e=c.images;d.writeFieldBegin({fname:"images",ftype:b("ThriftTypes").LIST,fid:5});d.writeListBegin({etype:b("ThriftTypes").STRUCT,size:e.length});for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;J(h,d)}d.writeListEnd();d.writeFieldEnd()}c.video!=null&&(d.writeFieldBegin({fname:"video",ftype:b("ThriftTypes").STRUCT,fid:6}),K(c.video,d),d.writeFieldEnd());if(c.carousel!=null){h=c.carousel;d.writeFieldBegin({fname:"carousel",ftype:b("ThriftTypes").LIST,fid:7});d.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(var g=h,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;h=g[e++]}else{e=g.next();if(e.done)break;h=e.value}h=h;a(h,d)}d.writeListEnd();d.writeFieldEnd()}c.audio_attribution!=null&&(d.writeFieldBegin({fname:"audio_attribution",ftype:b("ThriftTypes").STRUCT,fid:8}),y(c.audio_attribution,d),d.writeFieldEnd());c.product_type!=null&&(d.writeFieldBegin({fname:"product_type",ftype:b("ThriftTypes").I32,fid:9}),d.writeI32(c.product_type),d.writeFieldEnd());c.tracking_token!=null&&(d.writeFieldBegin({fname:"tracking_token",ftype:b("ThriftTypes").STRING,fid:10}),d.writeString(c.tracking_token),d.writeFieldEnd());if(c.shopping_product_tags!=null){h=c.shopping_product_tags;d.writeFieldBegin({fname:"shopping_product_tags",ftype:b("ThriftTypes").LIST,fid:11});d.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(var e=h,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=e.length)break;c=e[g++]}else{g=e.next();if(g.done)break;c=g.value}h=c;I(h,d)}d.writeListEnd();d.writeFieldEnd()}d.writeFieldStop();d.writeStructEnd()},F=function(a,c){c.writeStructBegin("InstagramContentOwner"),c.writeFieldBegin({fname:"user_id",ftype:b("ThriftTypes").STRING,fid:1}),a.user_id!=null?c.writeString(a.user_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"username",ftype:b("ThriftTypes").STRING,fid:2}),a.username!=null?c.writeString(a.username):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"avatar_url",ftype:b("ThriftTypes").STRING,fid:3}),a.avatar_url!=null?c.writeString(a.avatar_url):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},pa=function(a,c){c.writeStructBegin("MediaSyncConferenceOutputState");c.writeFieldBegin({fname:"latest_input",ftype:b("ThriftTypes").STRUCT,fid:1});a.latest_input!=null?G(a.latest_input,c):G(t(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"latest_actor_id",ftype:b("ThriftTypes").STRING,fid:2});a.latest_actor_id!=null?c.writeString(a.latest_actor_id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"latest_new_content_start_time_ms",ftype:b("ThriftTypes").I64,fid:3});a.latest_new_content_start_time_ms!=null?c.writeI64(b("jsbi").BigInt(a.latest_new_content_start_time_ms)):c.writeI64(b("jsbi").BigInt("0"));c.writeFieldEnd();c.writeFieldBegin({fname:"history",ftype:b("ThriftTypes").LIST,fid:4});if(a.history!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.history.length});for(var a=a.history,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;D(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var e=0;e<f.length;e++){d=f[e];D(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},G=function(a,c){c.writeStructBegin("MediaSyncInputState"),a.action!=null&&(c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.action),c.writeFieldEnd()),c.writeFieldBegin({fname:"action_metadata",ftype:b("ThriftTypes").STRUCT,fid:2}),a.action_metadata!=null?v(a.action_metadata,c):v(o(),c),c.writeFieldEnd(),c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:3}),a.content_id!=null?c.writeString(a.content_id):c.writeString(""),c.writeFieldEnd(),a.content_source!=null&&(c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.content_source),c.writeFieldEnd()),a.admin_message_type!=null&&(c.writeFieldBegin({fname:"admin_message_type",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.admin_message_type),c.writeFieldEnd()),a.skip_autoplay_candidate_generation!=null&&(c.writeFieldBegin({fname:"skip_autoplay_candidate_generation",ftype:b("ThriftTypes").BOOL,fid:6}),c.writeBool(a.skip_autoplay_candidate_generation),c.writeFieldEnd()),a.seed_content_id!=null&&(c.writeFieldBegin({fname:"seed_content_id",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.seed_content_id),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},qa=function(a,c){c.writeStructBegin("MediaSyncOutputState"),a.action!=null&&(c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.action),c.writeFieldEnd()),c.writeFieldBegin({fname:"action_metadata",ftype:b("ThriftTypes").STRUCT,fid:2}),a.action_metadata!=null?v(a.action_metadata,c):v(o(),c),c.writeFieldEnd(),c.writeFieldBegin({fname:"actor",ftype:b("ThriftTypes").STRUCT,fid:3}),a.actor!=null?w(a.actor,c):w(p(),c),c.writeFieldEnd(),c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRUCT,fid:4}),a.content!=null?A(a.content,c):A(r(),c),c.writeFieldEnd(),a.content_source!=null&&(c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.content_source),c.writeFieldEnd()),c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:6}),a.content_id!=null?c.writeString(a.content_id):c.writeString(""),c.writeFieldEnd(),a.admin_message!=null&&(c.writeFieldBegin({fname:"admin_message",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.admin_message),c.writeFieldEnd()),a.admin_message_type!=null&&(c.writeFieldBegin({fname:"admin_message_type",ftype:b("ThriftTypes").I32,fid:8}),c.writeI32(a.admin_message_type),c.writeFieldEnd()),a.seed_content_id!=null&&(c.writeFieldBegin({fname:"seed_content_id",ftype:b("ThriftTypes").STRING,fid:9}),c.writeString(a.seed_content_id),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},H=function(a,c){c.writeStructBegin("Placeholder"),c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1}),a.content_id!=null?c.writeString(a.content_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:2}),a.title!=null?c.writeString(a.title):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:3}),a.message!=null?c.writeString(a.message):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},I=function(a,c){c.writeStructBegin("ShoppingProductTag"),c.writeFieldBegin({fname:"product_id",ftype:b("ThriftTypes").STRING,fid:1}),a.product_id!=null?c.writeString(a.product_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"product_name",ftype:b("ThriftTypes").STRING,fid:2}),a.product_name!=null?c.writeString(a.product_name):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"product_position_x",ftype:b("ThriftTypes").STRING,fid:3}),a.product_position_x!=null?c.writeString(a.product_position_x):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"product_position_y",ftype:b("ThriftTypes").STRING,fid:4}),a.product_position_y!=null?c.writeString(a.product_position_y):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},J=function(a,c){c.writeStructBegin("SizedUrl"),c.writeFieldBegin({fname:"url",ftype:b("ThriftTypes").STRING,fid:1}),a.url!=null?c.writeString(a.url):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"height",ftype:b("ThriftTypes").I32,fid:2}),a.height!=null?c.writeI32(a.height):c.writeI32(0),c.writeFieldEnd(),c.writeFieldBegin({fname:"width",ftype:b("ThriftTypes").I32,fid:3}),a.width!=null?c.writeI32(a.width):c.writeI32(0),c.writeFieldEnd(),a.type!=null&&(c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.type),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},K=function(a,c){c.writeStructBegin("Video"),a.dash_manifest!=null&&(c.writeFieldBegin({fname:"dash_manifest",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.dash_manifest),c.writeFieldEnd()),c.writeFieldBegin({fname:"duration_ms",ftype:b("ThriftTypes").I64,fid:3}),a.duration_ms!=null?c.writeI64(b("jsbi").BigInt(a.duration_ms)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"aspect_ratio",ftype:b("ThriftTypes").FLOAT,fid:4}),a.aspect_ratio!=null?c.writeFloat(a.aspect_ratio):c.writeFloat(0),c.writeFieldEnd(),a.url!=null&&(c.writeFieldBegin({fname:"url",ftype:b("ThriftTypes").STRUCT,fid:5}),J(a.url,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},L=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.media_position_ms=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.action_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.autoplay_action_id=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.tab_source=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.skip_double_write=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").STRUCT?c.ads_metadata=N(a):a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.carousel_item_index=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.media_position_ms==null&&(c.media_position_ms="0");c.action_time_ms==null&&(c.action_time_ms="0");return c},M=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.username=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.avatar_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id==null&&(c.user_id="");c.username==null&&(c.username="");c.avatar_url==null&&(c.avatar_url="");return c},N=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.ad_break_start_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},O=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.artist_name=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.song_title=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.artist_name==null&&(c.artist_name="");c.song_title==null&&(c.song_title="");return c},P=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.locale=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.localized_language=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.localized_country=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.localized_creation_method=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.captions_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.locale==null&&(c.locale="");c.localized_language==null&&(c.localized_language="");c.captions_url==null&&(c.captions_url="");return c},Q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.placeholder=X(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.fallback=S(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.ig_content=U(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.fb_video=R(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},ra=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.action=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.action_metadata=L(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.admin_message_type=d)}else a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();n.has(d)&&(c.content_source=d)}else a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.actor_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_metadata==null&&(c.action_metadata=o());c.content_id==null&&(c.content_id="");c.actor_id==null&&(c.actor_id="");return c},sa=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.last_content_id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();n.has(d)&&(c.last_content_source=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.count=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.count==null&&(c.count=0);return c},R=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.video=$(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.thumbnail=Z(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.subtitle=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").BOOL?c.is_live_streaming=a.readBool():a.skip(e);break;case 7:e===b("ThriftTypes").BOOL?c.is_reportable=a.readBool():a.skip(e);break;case 8:if(e===b("ThriftTypes").LIST){c.available_caption_locales=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=P(a);c.available_caption_locales.push(g)}}else a.skip(e);break;case 9:e===b("ThriftTypes").BOOL?c.is_non_interactable=a.readBool():a.skip(e);break;case 10:e===b("ThriftTypes").STRING?c.content_rating=a.readString():a.skip(e);break;case 11:e===b("ThriftTypes").STRING?c.tracking=a.readString():a.skip(e);break;case 12:if(e===b("ThriftTypes").I32){g=a.readI32();l.has(g)&&(c.saved_state=g)}else a.skip(e);break;case 13:e===b("ThriftTypes").BOOL?c.is_reels=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id==null&&(c.content_id="");c.video==null&&(c.video=u());c.is_live_streaming==null&&(c.is_live_streaming=!1);c.is_reportable==null&&(c.is_reportable=!1);c.available_caption_locales==null&&(c.available_caption_locales=[]);c.is_non_interactable==null&&(c.is_non_interactable=!1);return c},S=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.cover_image_url=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.video=$(a):a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.attribution_image_url=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.attribution=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id==null&&(c.content_id="");c.cover_image_url==null&&(c.cover_image_url="");return c},T=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();n.has(d)&&(c.content_source=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id==null&&(c.content_id="");return c},U=function a(c){var d={};c.readStructBegin();while(!0){var e=c.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:f===b("ThriftTypes").STRING?d.content_id=c.readString():c.skip(f);break;case 2:f===b("ThriftTypes").STRUCT?d.owner=V(c):c.skip(f);break;case 3:if(f===b("ThriftTypes").I32){e=c.readI32();i.has(e)&&(d.media_type=e)}else c.skip(f);break;case 4:f===b("ThriftTypes").STRING?d.thumbnail_url=c.readString():c.skip(f);break;case 5:if(f===b("ThriftTypes").LIST){d.images=[];e=c.readListBegin();for(var g=0;g<e.size;++g){var h=Z(c);d.images.push(h)}}else c.skip(f);break;case 6:f===b("ThriftTypes").STRUCT?d.video=$(c):c.skip(f);break;case 7:if(f===b("ThriftTypes").LIST){d.carousel=[];h=c.readListBegin();for(var g=0;g<h.size;++g){e=a(c);d.carousel.push(e)}}else c.skip(f);break;case 8:f===b("ThriftTypes").STRUCT?d.audio_attribution=O(c):c.skip(f);break;case 9:if(f===b("ThriftTypes").I32){e=c.readI32();j.has(e)&&(d.product_type=e)}else c.skip(f);break;case 10:f===b("ThriftTypes").STRING?d.tracking_token=c.readString():c.skip(f);break;case 11:if(f===b("ThriftTypes").LIST){d.shopping_product_tags=[];g=c.readListBegin();for(var h=0;h<g.size;++h){e=Y(c);d.shopping_product_tags.push(e)}}else c.skip(f);break;default:c.skip(f)}c.readFieldEnd()}c.readStructEnd();d.content_id==null&&(d.content_id="");d.owner==null&&(d.owner=s());d.thumbnail_url==null&&(d.thumbnail_url="");return d},V=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.username=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.avatar_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id==null&&(c.user_id="");c.username==null&&(c.username="");c.avatar_url==null&&(c.avatar_url="");return c},ta=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.latest_input=W(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.latest_actor_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.latest_new_content_start_time_ms=a.readI64().toString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.history=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=T(a);c.history.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.latest_input==null&&(c.latest_input=t());c.latest_actor_id==null&&(c.latest_actor_id="");c.latest_new_content_start_time_ms==null&&(c.latest_new_content_start_time_ms="0");c.history==null&&(c.history=[]);return c},W=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.action=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.action_metadata=L(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").I32){d=a.readI32();n.has(d)&&(c.content_source=d)}else a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.admin_message_type=d)}else a.skip(e);break;case 6:e===b("ThriftTypes").BOOL?c.skip_autoplay_candidate_generation=a.readBool():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.seed_content_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_metadata==null&&(c.action_metadata=o());c.content_id==null&&(c.content_id="");return c},ua=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.action=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.action_metadata=L(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.actor=M(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.content=Q(a):a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();n.has(d)&&(c.content_source=d)}else a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.admin_message=a.readString():a.skip(e);break;case 8:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.admin_message_type=d)}else a.skip(e);break;case 9:e===b("ThriftTypes").STRING?c.seed_content_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_metadata==null&&(c.action_metadata=o());c.actor==null&&(c.actor=p());c.content==null&&(c.content=r());c.content_id==null&&(c.content_id="");return c},X=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id==null&&(c.content_id="");c.title==null&&(c.title="");c.message==null&&(c.message="");return c},Y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.product_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.product_name=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.product_position_x=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.product_position_y=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.product_id==null&&(c.product_id="");c.product_name==null&&(c.product_name="");c.product_position_x==null&&(c.product_position_x="");c.product_position_y==null&&(c.product_position_y="");return c},Z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.url=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.height=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.width=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.type=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.url==null&&(c.url="");c.height==null&&(c.height=0);c.width==null&&(c.width=0);return c},$=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:e===b("ThriftTypes").STRING?c.dash_manifest=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.duration_ms=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").FLOAT?c.aspect_ratio=a.readFloat():a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.url=Z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.duration_ms==null&&(c.duration_ms="0");c.aspect_ratio==null&&(c.aspect_ratio=0);return c};e.exports={ActionMetadata$DefaultConstructor:o,Actions:a,Actor$DefaultConstructor:p,AdminMessageTypes:c,AdsMetadata$DefaultConstructor:q,AudioAttribution$DefaultConstructor:aa,CaptionLocales$DefaultConstructor:ba,Content$DefaultConstructor:r,E2EEMediaSyncPayload$DefaultConstructor:ca,E2EEPMVAdBumperCount$DefaultConstructor:da,FacebookVideo$DefaultConstructor:ea,Fallback$DefaultConstructor:fa,HistoryRecord$DefaultConstructor:ga,InstagramContent$DefaultConstructor:ha,InstagramContentOwner$DefaultConstructor:s,InstagramMediaTypes:d,InstagramProductTypes:f,MediaSyncConferenceOutputState$DefaultConstructor:ia,MediaSyncInputState$DefaultConstructor:t,MediaSyncOutputState$DefaultConstructor:ja,Placeholder$DefaultConstructor:ka,SavedStates:k,ShoppingProductTag$DefaultConstructor:la,SizedUrl$DefaultConstructor:ma,Sources:m,Video$DefaultConstructor:u,deserializeActionMetadata:L,deserializeActor:M,deserializeAdsMetadata:N,deserializeAudioAttribution:O,deserializeCaptionLocales:P,deserializeContent:Q,deserializeE2EEMediaSyncPayload:ra,deserializeE2EEPMVAdBumperCount:sa,deserializeFacebookVideo:R,deserializeFallback:S,deserializeHistoryRecord:T,deserializeInstagramContent:U,deserializeInstagramContentOwner:V,deserializeMediaSyncConferenceOutputState:ta,deserializeMediaSyncInputState:W,deserializeMediaSyncOutputState:ua,deserializePlaceholder:X,deserializeShoppingProductTag:Y,deserializeSizedUrl:Z,deserializeVideo:$,serializeActionMetadata:v,serializeActor:w,serializeAdsMetadata:x,serializeAudioAttribution:y,serializeCaptionLocales:z,serializeContent:A,serializeE2EEMediaSyncPayload:na,serializeE2EEPMVAdBumperCount:oa,serializeFacebookVideo:B,serializeFallback:C,serializeHistoryRecord:D,serializeInstagramContent:E,serializeInstagramContentOwner:F,serializeMediaSyncConferenceOutputState:pa,serializeMediaSyncInputState:G,serializeMediaSyncOutputState:qa,serializePlaceholder:H,serializeShoppingProductTag:I,serializeSizedUrl:J,serializeVideo:K}}),null);
__d("MediaSyncAutoplayState",["MediaSyncState","ThriftTypes","jsbi"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(Object.values(d("MediaSyncState").Sources)),i=Object.freeze({COUNTDOWN:1,CANCELED:2}),j=new Set(Object.values(i));function a(){return{action_id:"",content_id:"",preview_duration_ms:"7000"}}function e(){return{action_id:"",content_id:"",content:d("MediaSyncState").Content$DefaultConstructor(),preview_duration_ms:"0"}}function f(){return{}}function k(){return{cancel_action_id:""}}function l(){return{}}function m(a,d){d.writeStructBegin("AutoplayInput"),d.writeFieldBegin({fname:"action_id",ftype:c("ThriftTypes").STRING,fid:1}),a.action_id!=null?d.writeString(a.action_id):d.writeString(""),a.content_source!=null&&(d.writeFieldBegin({fname:"content_source",ftype:c("ThriftTypes").I32,fid:2}),d.writeI32(a.content_source)),d.writeFieldBegin({fname:"content_id",ftype:c("ThriftTypes").STRING,fid:3}),a.content_id!=null?d.writeString(a.content_id):d.writeString(""),d.writeFieldBegin({fname:"preview_duration_ms",ftype:c("ThriftTypes").I64,fid:4}),a.preview_duration_ms!=null?d.writeI64(b("jsbi").BigInt(a.preview_duration_ms)):d.writeI64(b("jsbi").BigInt("7000")),d.writeFieldStop(),d.writeStructEnd()}function n(a,e){e.writeStructBegin("AutoplayOutput"),e.writeFieldBegin({fname:"action_id",ftype:c("ThriftTypes").STRING,fid:1}),a.action_id!=null?e.writeString(a.action_id):e.writeString(""),a.content_source!=null&&(e.writeFieldBegin({fname:"content_source",ftype:c("ThriftTypes").I32,fid:2}),e.writeI32(a.content_source)),e.writeFieldBegin({fname:"content_id",ftype:c("ThriftTypes").STRING,fid:3}),a.content_id!=null?e.writeString(a.content_id):e.writeString(""),e.writeFieldBegin({fname:"content",ftype:c("ThriftTypes").STRUCT,fid:4}),a.content!=null?d("MediaSyncState").serializeContent(a.content,e):d("MediaSyncState").serializeContent(d("MediaSyncState").Content$DefaultConstructor(),e),a.display_state!=null&&(e.writeFieldBegin({fname:"display_state",ftype:c("ThriftTypes").I32,fid:5}),e.writeI32(a.display_state)),e.writeFieldBegin({fname:"preview_duration_ms",ftype:c("ThriftTypes").I64,fid:6}),a.preview_duration_ms!=null?e.writeI64(b("jsbi").BigInt(a.preview_duration_ms)):e.writeI64(b("jsbi").BigInt("0")),e.writeFieldStop(),e.writeStructEnd()}function o(a,b){b.writeStructBegin("ConferenceInputState"),a.autoplay!=null&&(b.writeFieldBegin({fname:"autoplay",ftype:c("ThriftTypes").STRUCT,fid:1}),m(a.autoplay,b)),b.writeFieldStop(),b.writeStructEnd()}function p(a,b){b.writeStructBegin("ParticipantInputState"),b.writeFieldBegin({fname:"cancel_action_id",ftype:c("ThriftTypes").STRING,fid:1}),a.cancel_action_id!=null?b.writeString(a.cancel_action_id):b.writeString(""),b.writeFieldStop(),b.writeStructEnd()}function q(a,b){b.writeStructBegin("ParticipantOutputState"),a.autoplay!=null&&(b.writeFieldBegin({fname:"autoplay",ftype:c("ThriftTypes").STRUCT,fid:1}),n(a.autoplay,b)),b.writeFieldStop(),b.writeStructEnd()}function r(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===c("ThriftTypes").STOP)break;switch(d){case 1:e===c("ThriftTypes").STRING?b.action_id=a.readString():a.skip(e);break;case 2:if(e===c("ThriftTypes").I32){d=a.readI32();h.has(d)&&(b.content_source=d)}else a.skip(e);break;case 3:e===c("ThriftTypes").STRING?b.content_id=a.readString():a.skip(e);break;case 4:e===c("ThriftTypes").I64?b.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.action_id==null&&(b.action_id="");b.content_id==null&&(b.content_id="");b.preview_duration_ms==null&&(b.preview_duration_ms="7000");return b}function s(a){var b={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===c("ThriftTypes").STOP)break;switch(e){case 1:f===c("ThriftTypes").STRING?b.action_id=a.readString():a.skip(f);break;case 2:if(f===c("ThriftTypes").I32){e=a.readI32();h.has(e)&&(b.content_source=e)}else a.skip(f);break;case 3:f===c("ThriftTypes").STRING?b.content_id=a.readString():a.skip(f);break;case 4:f===c("ThriftTypes").STRUCT?b.content=d("MediaSyncState").deserializeContent(a):a.skip(f);break;case 5:if(f===c("ThriftTypes").I32){e=a.readI32();j.has(e)&&(b.display_state=e)}else a.skip(f);break;case 6:f===c("ThriftTypes").I64?b.preview_duration_ms=a.readI64().toString():a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();b.action_id==null&&(b.action_id="");b.content_id==null&&(b.content_id="");b.content==null&&(b.content=d("MediaSyncState").Content$DefaultConstructor());b.preview_duration_ms==null&&(b.preview_duration_ms="0");return b}function t(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===c("ThriftTypes").STOP)break;switch(d){case 1:e===c("ThriftTypes").STRUCT?b.autoplay=r(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}function u(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===c("ThriftTypes").STOP)break;switch(d){case 1:e===c("ThriftTypes").STRING?b.cancel_action_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.cancel_action_id==null&&(b.cancel_action_id="");return b}function v(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===c("ThriftTypes").STOP)break;switch(d){case 1:e===c("ThriftTypes").STRUCT?b.autoplay=s(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return b}g.DisplayStates=i;g.AutoplayInput$DefaultConstructor=a;g.AutoplayOutput$DefaultConstructor=e;g.ConferenceInputState$DefaultConstructor=f;g.ParticipantInputState$DefaultConstructor=k;g.ParticipantOutputState$DefaultConstructor=l;g.serializeAutoplayInput=m;g.serializeAutoplayOutput=n;g.serializeConferenceInputState=o;g.serializeParticipantInputState=p;g.serializeParticipantOutputState=q;g.deserializeAutoplayInput=r;g.deserializeAutoplayOutput=s;g.deserializeConferenceInputState=t;g.deserializeParticipantInputState=u;g.deserializeParticipantOutputState=v}),98);
__d("MeetingAssistantState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNAVAILABLE:0,ABLE:1,UNABLE:2});var g=new Set(Object.values(a));c=Object.freeze({UNAVAILABLE:0,AGREED:1,DECLINED:2});var h=new Set(Object.values(c));d=Object.freeze({UNAVAILABLE:0,NOT_RECORDING:1,RECORDING:2});var i=new Set(Object.values(d));f=function(){return{}};var j=function(){return{}},k=function(){return{}},l=function(a,c){c.writeStructBegin("ConferenceOutputState"),a.transcription_status!=null&&(c.writeFieldBegin({fname:"transcription_status",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.transcription_status),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},m=function(a,c){c.writeStructBegin("ParticipantInputState"),a.requested_transcription_status!=null&&(c.writeFieldBegin({fname:"requested_transcription_status",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.requested_transcription_status),c.writeFieldEnd()),a.transcription_consent_status!=null&&(c.writeFieldBegin({fname:"transcription_consent_status",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.transcription_consent_status),c.writeFieldEnd()),a.transcription_consent_status_reason!=null&&(c.writeFieldBegin({fname:"transcription_consent_status_reason",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.transcription_consent_status_reason),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},n=function(a,c){c.writeStructBegin("ParticipantOutputState"),a.transcription_status!=null&&(c.writeFieldBegin({fname:"transcription_status",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.transcription_status),c.writeFieldEnd()),a.able_to_start_transcription!=null&&(c.writeFieldBegin({fname:"able_to_start_transcription",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.able_to_start_transcription),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.transcription_status=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.requested_transcription_status=d)}else a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.transcription_consent_status=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.transcription_consent_status_reason=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.transcription_status=d)}else a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.able_to_start_transcription=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c};e.exports={AbilityToStartTranscriptions:a,ConferenceOutputState$DefaultConstructor:f,ParticipantInputState$DefaultConstructor:j,ParticipantOutputState$DefaultConstructor:k,TranscriptionConsentStatuss:c,TranscriptionStatuss:d,deserializeConferenceOutputState:o,deserializeParticipantInputState:p,deserializeParticipantOutputState:q,serializeConferenceOutputState:l,serializeParticipantInputState:m,serializeParticipantOutputState:n}}),null);
__d("ModeratorControlsStateModeratorControlsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,SOFT_MUTE:1,END_CALL:2,APPROVE_JOIN:3,REMOVE_PARTICIPANT:4,TOGGLE_SCREENSHARING_AVAILABILITY:5,SOFT_MUTE_ALL:6,CANNOT_BE_MUTED:7});c=b("$InternalEnum")({UNKNOWN:0,SOFT_MUTE_ALL:1});d=b("$InternalEnum")({UNKNOWN:0,MODERATORS_ONLY:1,EVERYONE_IN_CALL:2,NOBODY:3});e.exports={ConferenceCapabilityType:c,ModeratorActionType:a,ModeratorFeatureAccessMode:d}}),null);
__d("ModeratorControlsStateModeratorControlsStateSerializers",["ModeratorControlsStateModeratorControlsStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=function(){return{}};c=function(){return{issue_action_target_uids:new Set()}};d=function(){return{action_capabilities:new Set(),action_uuids_executed:new Set()}};f=function(){return{participant:h(),conference:m()}};var g=function(){return{action_uuid:"",action_type:b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0),action_issued_by:""}},h=function(){return{is_moderator:!1,screenshare_enabled:!1,action_capabilities_as_moderator:new Set(),action_capabilities_as_participant:new Set(),conference_capabilities_as_moderator:new Set()}},i=function(){return{is_moderator:!1,action_capabilities_as_moderator:new Set(),action_capabilities_as_participant:new Set(),conference_capabilities_as_moderator:new Set()}},j=function(){return{}},k=function(){return{moderator_uids:[]}},l=function(){return{participant_id:"",permissions:new Set()}},m=function(){return{moderator_uids:[],allows_screen_share:!1,soft_mute_feature_enabled:!1,participant_capabilities:{},features_enabled:new Map(),conference_features_enabled:new Map(),are_moderators_mutable:!1}},n=function(a,c){c.writeStructBegin("ModeratorControlsInputState"),a.participant!=null&&(c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1}),p(a.participant,c),c.writeFieldEnd()),a.moderator!=null&&(c.writeFieldBegin({fname:"moderator",ftype:b("ThriftTypes").STRUCT,fid:2}),o(a.moderator,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},o=function(a,c){c.writeStructBegin("ModeratorInputState");a.allows_screen_share!=null&&(c.writeFieldBegin({fname:"allows_screen_share",ftype:b("ThriftTypes").BOOL,fid:1}),c.writeBool(a.allows_screen_share),c.writeFieldEnd());if(a.issue_action!=null){var d;c.writeFieldBegin({fname:"issue_action",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.issue_action)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"issue_action_target_uids",ftype:b("ThriftTypes").SET,fid:3});if(a.issue_action_target_uids!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.issue_action_target_uids.size});for(var d=a.issue_action_target_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();a.issue_action_context_serialized!=null&&(c.writeFieldBegin({fname:"issue_action_context_serialized",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.issue_action_context_serialized),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},p=function(a,c){c.writeStructBegin("ParticipantInputState");c.writeFieldBegin({fname:"action_capabilities",ftype:b("ThriftTypes").SET,fid:1});if(a.action_capabilities!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities.size});for(var d=a.action_capabilities,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_uuids_executed",ftype:b("ThriftTypes").SET,fid:2});if(a.action_uuids_executed!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.action_uuids_executed.size});for(var g=a.action_uuids_executed,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}a=f;c.writeString(a)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:f.size});for(var a=f,e=Array.isArray(a),d=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}f=g;c.writeString(f)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},q=function(a,c){c.writeStructBegin("ModeratorControlsOutputState");c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.participant!=null)s(a.participant,c);else{var d=h();s(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"conference",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.conference!=null)x(a.conference,c);else{d=m();x(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},r=function(a,c){c.writeStructBegin("ModeratorActionInfo");c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:1});if(a.action_uuid!=null)c.writeString(a.action_uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_type",ftype:b("ThriftTypes").I32,fid:2});if(a.action_type!=null){c.writeI32((d=a.action_type)!=null?d:0)}else{d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_issued_by",ftype:b("ThriftTypes").STRING,fid:3});if(a.action_issued_by!=null)c.writeString(a.action_issued_by);else{d="";c.writeString(d)}c.writeFieldEnd();a.action_context!=null&&(c.writeFieldBegin({fname:"action_context",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.action_context),c.writeFieldEnd());a.action_issued_time!=null&&(c.writeFieldBegin({fname:"action_issued_time",ftype:b("ThriftTypes").I64,fid:5}),c.writeI64(b("jsbi").BigInt(a.action_issued_time)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},s=function(a,c){c.writeStructBegin("ParticipantOutputState");c.writeFieldBegin({fname:"is_moderator",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_moderator!=null)c.writeBool(a.is_moderator);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"screenshare_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.screenshare_enabled!=null)c.writeBool(a.screenshare_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.screenshare_enabled_changed_by!=null&&(c.writeFieldBegin({fname:"screenshare_enabled_changed_by",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.screenshare_enabled_changed_by),c.writeFieldEnd());c.writeFieldBegin({fname:"action_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:4});if(a.action_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_moderator.size});for(var d=a.action_capabilities_as_moderator,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_participant",ftype:b("ThriftTypes").SET,fid:5});if(a.action_capabilities_as_participant!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_participant.size});for(var g=a.action_capabilities_as_participant,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(var e=f,d=Array.isArray(e),g=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=e.length)break;f=e[g++]}else{g=e.next();if(g.done)break;f=g.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();if(a.actions_issued!=null){c.writeFieldBegin({fname:"actions_issued",ftype:b("ThriftTypes").MAP,fid:6});c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:a.actions_issued.size});for(var f=a.actions_issued.entries(),g=Array.isArray(f),d=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}e=e;var h=e[0];e=e[1];c.writeI32((h=h)!=null?h:0);r(e,c)}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldBegin({fname:"conference_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:7});if(a.conference_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.conference_capabilities_as_moderator.size});for(var h=a.conference_capabilities_as_moderator,e=Array.isArray(h),d=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=h.length)break;g=h[d++]}else{d=h.next();if(d.done)break;g=d.value}f=g;c.writeI32((a=f)!=null?a:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(var f=g,a=Array.isArray(f),d=0,f=a?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}h=e;c.writeI32((g=h)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},t=function(a,c){c.writeStructBegin("ParticipantCapabilityInfo");c.writeFieldBegin({fname:"is_moderator",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_moderator!=null)c.writeBool(a.is_moderator);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:2});if(a.action_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_moderator.size});for(var d=a.action_capabilities_as_moderator,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_participant",ftype:b("ThriftTypes").SET,fid:3});if(a.action_capabilities_as_participant!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_participant.size});for(var g=a.action_capabilities_as_participant,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(var e=f,d=Array.isArray(e),g=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=e.length)break;f=e[g++]}else{g=e.next();if(g.done)break;f=g.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"conference_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:4});if(a.conference_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.conference_capabilities_as_moderator.size});for(var f=a.conference_capabilities_as_moderator,g=Array.isArray(f),d=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}a=e;c.writeI32((e=a)!=null?e:0)}c.writeSetEnd()}else{a=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.size});for(var e=a,d=Array.isArray(e),g=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=e.length)break;f=e[g++]}else{g=e.next();if(g.done)break;f=g.value}a=f;c.writeI32((f=a)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},u=function(a,c){c.writeStructBegin("ModeratorFeatureContext");if(a.feature_access_mode!=null){c.writeFieldBegin({fname:"feature_access_mode",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((a=a.feature_access_mode)!=null?a:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},v=function(a,c){c.writeStructBegin("ConferenceInputState");c.writeFieldBegin({fname:"moderator_uids",ftype:b("ThriftTypes").LIST,fid:1});if(a.moderator_uids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.moderator_uids.length});for(var d=a.moderator_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(var f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.participant_permissions_upsert_input!=null&&(c.writeFieldBegin({fname:"participant_permissions_upsert_input",ftype:b("ThriftTypes").STRUCT,fid:2}),w(a.participant_permissions_upsert_input,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},w=function(a,c){c.writeStructBegin("ParticipantPermissionsUpsertInput");c.writeFieldBegin({fname:"participant_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.participant_id!=null)c.writeString(a.participant_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:b("ThriftTypes").SET,fid:2});if(a.permissions!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.permissions.size});for(var d=a.permissions,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(var e=f,a=Array.isArray(e),d=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},x=function(a,c){c.writeStructBegin("ConferenceOutputState");c.writeFieldBegin({fname:"moderator_uids",ftype:b("ThriftTypes").LIST,fid:1});if(a.moderator_uids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.moderator_uids.length});for(var d=a.moderator_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(var f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"allows_screen_share",ftype:b("ThriftTypes").BOOL,fid:2});if(a.allows_screen_share!=null)c.writeBool(a.allows_screen_share);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.allows_screen_share_changed_by!=null&&(c.writeFieldBegin({fname:"allows_screen_share_changed_by",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.allows_screen_share_changed_by),c.writeFieldEnd());c.writeFieldBegin({fname:"soft_mute_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:4});if(a.soft_mute_feature_enabled!=null)c.writeBool(a.soft_mute_feature_enabled);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_capabilities",ftype:b("ThriftTypes").MAP,fid:5});if(a.participant_capabilities!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.participant_capabilities).length});f=Object.entries(a.participant_capabilities);for(var g=0;g<f.length;g++){d=f[g];e=d[0];d=d[1];c.writeString(e);t(d,c)}c.writeMapEnd()}else{e={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(e).length});d=Object.entries(e);for(var f=0;f<d.length;f++){g=d[f];e=g[0];g=g[1];c.writeString(e);t(g,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"features_enabled",ftype:b("ThriftTypes").MAP,fid:6});if(a.features_enabled!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:a.features_enabled.size});for(var e=a.features_enabled.entries(),g=Array.isArray(e),d=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;var h=f[0];f=f[1];c.writeI32((h=h)!=null?h:0);u(f,c)}c.writeMapEnd()}else{h=new Map();c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:h.size});for(var f=h.entries(),d=Array.isArray(f),g=0,f=d?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=f.length)break;e=f[g++]}else{g=f.next();if(g.done)break;e=g.value}h=e;e=h[0];h=h[1];c.writeI32((e=e)!=null?e:0);u(h,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"conference_features_enabled",ftype:b("ThriftTypes").MAP,fid:7});if(a.conference_features_enabled!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:a.conference_features_enabled.size});for(var e=a.conference_features_enabled.entries(),h=Array.isArray(e),g=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=e.length)break;d=e[g++]}else{g=e.next();if(g.done)break;d=g.value}f=d;d=f[0];f=f[1];c.writeI32((d=d)!=null?d:0);u(f,c)}c.writeMapEnd()}else{d=new Map();c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:d.size});for(var f=d.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=f.length)break;e=f[h++]}else{h=f.next();if(h.done)break;e=h.value}d=e;e=d[0];d=d[1];c.writeI32((e=e)!=null?e:0);u(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"are_moderators_mutable",ftype:b("ThriftTypes").BOOL,fid:8});if(a.are_moderators_mutable!=null)c.writeBool(a.are_moderators_mutable);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=A(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.moderator=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.allows_screen_share=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.issue_action=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32()):a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.issue_action_target_uids=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.issue_action_target_uids.add(g)}}else a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.issue_action_context_serialized=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.issue_action_target_uids===void 0&&(c.issue_action_target_uids=new Set());return c},A=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").SET){c.action_capabilities=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities.add(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.action_uuids_executed=new Set();g=a.readSetBegin();for(var f=0;f<g.size;f++){d=a.readString();c.action_uuids_executed.add(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_capabilities===void 0&&(c.action_capabilities=new Set());c.action_uuids_executed===void 0&&(c.action_uuids_executed=new Set());return c},B=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=D(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.conference=I(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=h());c.conference===void 0&&(c.conference=m());return c},C=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.action_type=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.action_issued_by=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.action_context=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.action_issued_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_uuid===void 0&&(c.action_uuid="");c.action_type===void 0&&(c.action_type=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0));c.action_issued_by===void 0&&(c.action_issued_by="");return c},D=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_moderator=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.screenshare_enabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.screenshare_enabled_changed_by=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.action_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_moderator.add(g)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").SET){c.action_capabilities_as_participant=new Set();g=a.readSetBegin();for(var f=0;f<g.size;f++){d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_participant.add(d)}}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.actions_issued=new Map();d=a.readMapBegin();for(var f=0;f<d.size;f++){g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());var h=C(a);g!=null&&c.actions_issued.set(g,h)}}else a.skip(e);break;case 7:if(e===b("ThriftTypes").SET){c.conference_capabilities_as_moderator=new Set();g=a.readSetBegin();for(var h=0;h<g.size;h++){f=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());c.conference_capabilities_as_moderator.add(f)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_moderator===void 0&&(c.is_moderator=!1);c.screenshare_enabled===void 0&&(c.screenshare_enabled=!1);c.action_capabilities_as_moderator===void 0&&(c.action_capabilities_as_moderator=new Set());c.action_capabilities_as_participant===void 0&&(c.action_capabilities_as_participant=new Set());c.conference_capabilities_as_moderator===void 0&&(c.conference_capabilities_as_moderator=new Set());return c},E=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_moderator=a.readBool():a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.action_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_moderator.add(g)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.action_capabilities_as_participant=new Set();g=a.readSetBegin();for(var f=0;f<g.size;f++){d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_participant.add(d)}}else a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.conference_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){g=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());c.conference_capabilities_as_moderator.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_moderator===void 0&&(c.is_moderator=!1);c.action_capabilities_as_moderator===void 0&&(c.action_capabilities_as_moderator=new Set());c.action_capabilities_as_participant===void 0&&(c.action_capabilities_as_participant=new Set());c.conference_capabilities_as_moderator===void 0&&(c.conference_capabilities_as_moderator=new Set());return c},F=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.feature_access_mode=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorFeatureAccessMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},G=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.moderator_uids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.moderator_uids.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.participant_permissions_upsert_input=H(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.moderator_uids===void 0&&(c.moderator_uids=[]);return c},H=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.participant_id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.permissions=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.permissions.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id===void 0&&(c.participant_id="");c.permissions===void 0&&(c.permissions=new Set());return c},I=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.moderator_uids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.moderator_uids.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.allows_screen_share=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.allows_screen_share_changed_by=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.soft_mute_feature_enabled=a.readBool():a.skip(e);break;case 5:if(e===b("ThriftTypes").MAP){c.participant_capabilities={};g=a.readMapBegin();for(var f=0;f<g.size;f++){d=a.readString();var h=E(a);c.participant_capabilities[d]=h}}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.features_enabled=new Map();d=a.readMapBegin();for(var h=0;h<d.size;h++){f=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());g=F(a);f!=null&&c.features_enabled.set(f,g)}}else a.skip(e);break;case 7:if(e===b("ThriftTypes").MAP){c.conference_features_enabled=new Map();f=a.readMapBegin();for(var g=0;g<f.size;g++){h=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());d=F(a);h!=null&&c.conference_features_enabled.set(h,d)}}else a.skip(e);break;case 8:e===b("ThriftTypes").BOOL?c.are_moderators_mutable=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.moderator_uids===void 0&&(c.moderator_uids=[]);c.allows_screen_share===void 0&&(c.allows_screen_share=!1);c.soft_mute_feature_enabled===void 0&&(c.soft_mute_feature_enabled=!1);c.participant_capabilities===void 0&&(c.participant_capabilities={});c.features_enabled===void 0&&(c.features_enabled=new Map());c.conference_features_enabled===void 0&&(c.conference_features_enabled=new Map());c.are_moderators_mutable===void 0&&(c.are_moderators_mutable=!1);return c};e.exports={ConferenceInputState$DefaultConstructor:k,ConferenceOutputState$DefaultConstructor:m,ModeratorActionInfo$DefaultConstructor:g,ModeratorControlsInputState$DefaultConstructor:a,ModeratorControlsOutputState$DefaultConstructor:f,ModeratorFeatureContext$DefaultConstructor:j,ModeratorInputState$DefaultConstructor:c,ParticipantCapabilityInfo$DefaultConstructor:i,ParticipantInputState$DefaultConstructor:d,ParticipantOutputState$DefaultConstructor:h,ParticipantPermissionsUpsertInput$DefaultConstructor:l,deserializeConferenceInputState:G,deserializeConferenceOutputState:I,deserializeModeratorActionInfo:C,deserializeModeratorControlsInputState:y,deserializeModeratorControlsOutputState:B,deserializeModeratorFeatureContext:F,deserializeModeratorInputState:z,deserializeParticipantCapabilityInfo:E,deserializeParticipantInputState:A,deserializeParticipantOutputState:D,deserializeParticipantPermissionsUpsertInput:H,serializeConferenceInputState:v,serializeConferenceOutputState:x,serializeModeratorActionInfo:r,serializeModeratorControlsInputState:n,serializeModeratorControlsOutputState:q,serializeModeratorFeatureContext:u,serializeModeratorInputState:o,serializeParticipantCapabilityInfo:t,serializeParticipantInputState:p,serializeParticipantOutputState:s,serializeParticipantPermissionsUpsertInput:w}}),null);
__d("PollsState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,ACTIVE:1,ABANDONED:2});var g=new Set(Object.values(a));c=Object.freeze({UNKNOWN:0,TEXT:1});var h=new Set(Object.values(c));d=Object.freeze({create:1,remove:2,vote:3,remove_vote:4,resume:5,ping:6});f=Object.freeze({UNKNOWN:0,VISIBLE_TO_ALL:1,VISIBLE_TO_CREATOR:2,VISIBLE_TO_SELF_ONLY:3});var i=new Set(Object.values(f)),j=function(){return{}},k=function(){return{can_create:!1,poll_permissions:new Map(),poll_option_permissions:new Map(),can_create_poll_template:!1,can_create_anonymous_poll:!1}},l=function(){return{id:"",creator:p(),title:"",options:[]}},m=function(){return{title:"",options:[],poll_id:"",is_anonymous:!1}},n=function(){return{id:"",content:j(),voters:[],vote_fraction:0}},o=function(){return{can_vote:!1,can_remove_vote:!1}},p=function(){return{}},q=function(){return{can_delete:!1,can_resume:!1}},r=function(){return{is_ping:!1}},s=function(){return{poll_id:""}},t=function(){return{poll_option_id:""}},u=function(){return{poll_id:""}},v=function(){return{poll_option_id:""}},w=function(){return{polls:[],participant_id_to_processed_action_uuids:new Map(),permissions:new Map(),users_with_creation_enabled:new Set(),is_creation_enabled_for_all:!1,is_online_learning_call:!1,is_polls_setup_enabled:!1}},x=function(){return{action:{}}},y=function(){return{polls:[],processed_action_uuids:new Set(),permissions:k(),is_creation_enabled:!1}},z=function(a,c){c.writeStructBegin("Content"),a.text!=null&&(c.writeFieldBegin({fname:"text",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.text),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},A=function(a,c){c.writeStructBegin("ParticipantPermissions");c.writeFieldBegin({fname:"can_create",ftype:b("ThriftTypes").BOOL,fid:1});a.can_create!=null?c.writeBool(a.can_create):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"poll_permissions",ftype:b("ThriftTypes").MAP,fid:2});if(a.poll_permissions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.poll_permissions.size});for(var d=a.poll_permissions.entries(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];c.writeString(h);G(g,c)}c.writeMapEnd()}else{h=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:h.size});for(var g=h.entries(),f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}h=d;d=h[0];h=h[1];c.writeString(d);G(h,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_option_permissions",ftype:b("ThriftTypes").MAP,fid:3});if(a.poll_option_permissions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.poll_option_permissions.size});for(var d=a.poll_option_permissions.entries(),h=Array.isArray(d),e=0,d=h?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}g=f;f=g[0];g=g[1];c.writeString(f);E(g,c)}c.writeMapEnd()}else{f=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:f.size});for(var g=f.entries(),e=Array.isArray(g),h=0,g=e?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(h>=g.length)break;d=g[h++]}else{h=g.next();if(h.done)break;d=h.value}f=d;d=f[0];f=f[1];c.writeString(d);E(f,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"can_create_poll_template",ftype:b("ThriftTypes").BOOL,fid:4});a.can_create_poll_template!=null?c.writeBool(a.can_create_poll_template):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"can_create_anonymous_poll",ftype:b("ThriftTypes").BOOL,fid:5});a.can_create_anonymous_poll!=null?c.writeBool(a.can_create_anonymous_poll):c.writeBool(!1);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},B=function(a,c){c.writeStructBegin("Poll");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});a.id!=null?c.writeString(a.id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"creator",ftype:b("ThriftTypes").STRUCT,fid:2});a.creator!=null?F(a.creator,c):F(p(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:3});a.title!=null?c.writeString(a.title):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"options",ftype:b("ThriftTypes").LIST,fid:4});if(a.options!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.options.length});for(var d=a.options,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;D(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];D(e,c)}c.writeListEnd()}c.writeFieldEnd();a.type!=null&&(c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.type),c.writeFieldEnd());a.state!=null&&(c.writeFieldBegin({fname:"state",ftype:b("ThriftTypes").I32,fid:6}),c.writeI32(a.state),c.writeFieldEnd());a.voters_visibility!=null&&(c.writeFieldBegin({fname:"voters_visibility",ftype:b("ThriftTypes").I32,fid:7}),c.writeI32(a.voters_visibility),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},C=function(a,c){c.writeStructBegin("PollCreateInputState");c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:1});a.title!=null?c.writeString(a.title):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"options",ftype:b("ThriftTypes").LIST,fid:2});if(a.options!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.options.length});for(var d=a.options,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;D(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];D(e,c)}c.writeListEnd()}c.writeFieldEnd();a.type!=null&&(c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.type),c.writeFieldEnd());c.writeFieldBegin({fname:"poll_id",ftype:b("ThriftTypes").STRING,fid:4});a.poll_id!=null?c.writeString(a.poll_id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"is_anonymous",ftype:b("ThriftTypes").BOOL,fid:5});a.is_anonymous!=null?c.writeBool(a.is_anonymous):c.writeBool(!1);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},D=function(a,c){c.writeStructBegin("PollOption");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});a.id!=null?c.writeString(a.id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRUCT,fid:2});a.content!=null?z(a.content,c):z(j(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"voters",ftype:b("ThriftTypes").LIST,fid:3});if(a.voters!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.voters.length});for(var d=a.voters,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;F(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];F(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"vote_fraction",ftype:b("ThriftTypes").FLOAT,fid:4});a.vote_fraction!=null?c.writeFloat(a.vote_fraction):c.writeFloat(0);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},E=function(a,c){c.writeStructBegin("PollOptionPermissions"),c.writeFieldBegin({fname:"can_vote",ftype:b("ThriftTypes").BOOL,fid:1}),a.can_vote!=null?c.writeBool(a.can_vote):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldBegin({fname:"can_remove_vote",ftype:b("ThriftTypes").BOOL,fid:2}),a.can_remove_vote!=null?c.writeBool(a.can_remove_vote):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},F=function(a,c){c.writeStructBegin("PollParticipant"),a.fbid!=null&&(c.writeFieldBegin({fname:"fbid",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.fbid),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},G=function(a,c){c.writeStructBegin("PollPermissions"),c.writeFieldBegin({fname:"can_delete",ftype:b("ThriftTypes").BOOL,fid:1}),a.can_delete!=null?c.writeBool(a.can_delete):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldBegin({fname:"can_resume",ftype:b("ThriftTypes").BOOL,fid:2}),a.can_resume!=null?c.writeBool(a.can_resume):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},H=function(a,c){c.writeStructBegin("PollPingInputState"),c.writeFieldBegin({fname:"is_ping",ftype:b("ThriftTypes").BOOL,fid:1}),a.is_ping!=null?c.writeBool(a.is_ping):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},I=function(a,c){c.writeStructBegin("PollRemoveInputState"),c.writeFieldBegin({fname:"poll_id",ftype:b("ThriftTypes").STRING,fid:1}),a.poll_id!=null?c.writeString(a.poll_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},J=function(a,c){c.writeStructBegin("PollRemoveVoteInputState"),c.writeFieldBegin({fname:"poll_option_id",ftype:b("ThriftTypes").STRING,fid:1}),a.poll_option_id!=null?c.writeString(a.poll_option_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},K=function(a,c){c.writeStructBegin("PollResumeInputState"),c.writeFieldBegin({fname:"poll_id",ftype:b("ThriftTypes").STRING,fid:1}),a.poll_id!=null?c.writeString(a.poll_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},L=function(a,c){c.writeStructBegin("PollVoteInputState"),c.writeFieldBegin({fname:"poll_option_id",ftype:b("ThriftTypes").STRING,fid:1}),a.poll_option_id!=null?c.writeString(a.poll_option_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},aa=function(a,c){c.writeStructBegin("PollsConferenceOutputState");c.writeFieldBegin({fname:"polls",ftype:b("ThriftTypes").LIST,fid:1});if(a.polls!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.polls.length});for(var d=a.polls,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;B(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];B(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_id_to_processed_action_uuids",ftype:b("ThriftTypes").MAP,fid:2});if(a.participant_id_to_processed_action_uuids!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:a.participant_id_to_processed_action_uuids.size});for(var d=a.participant_id_to_processed_action_uuids.entries(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];c.writeString(h);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(var h=g,g=Array.isArray(h),i=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=h.length)break;j=h[i++]}else{i=h.next();if(i.done)break;j=i.value}j=j;c.writeString(j)}c.writeSetEnd()}c.writeMapEnd()}else{j=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:j.size});for(var i=j.entries(),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;d=e[0];j=e[1];c.writeString(d);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:j.size});for(var f=j,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;j=f[d++]}else{d=f.next();if(d.done)break;j=d.value}j=j;c.writeString(j)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:b("ThriftTypes").MAP,fid:3});if(a.permissions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.permissions.size});for(var j=a.permissions.entries(),d=Array.isArray(j),e=0,j=d?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=j.length)break;f=j[e++]}else{e=j.next();if(e.done)break;f=e.value}h=f;g=h[0];i=h[1];c.writeString(g);A(i,c)}c.writeMapEnd()}else{f=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:f.size});for(var h=f.entries(),g=Array.isArray(h),i=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(i>=h.length)break;e=h[i++]}else{i=h.next();if(i.done)break;e=i.value}d=e;j=d[0];f=d[1];c.writeString(j);A(f,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_with_creation_enabled",ftype:b("ThriftTypes").SET,fid:4});if(a.users_with_creation_enabled!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.users_with_creation_enabled.size});for(var e=a.users_with_creation_enabled,d=Array.isArray(e),j=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(j>=e.length)break;f=e[j++]}else{j=e.next();if(j.done)break;f=j.value}i=f;c.writeString(i)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(var h=g,f=Array.isArray(h),i=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(i>=h.length)break;j=h[i++]}else{i=h.next();if(i.done)break;j=i.value}d=j;c.writeString(d)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_creation_enabled_for_all",ftype:b("ThriftTypes").BOOL,fid:5});a.is_creation_enabled_for_all!=null?c.writeBool(a.is_creation_enabled_for_all):c.writeBool(!1);c.writeFieldEnd();a.creation_gk!=null&&(c.writeFieldBegin({fname:"creation_gk",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.creation_gk),c.writeFieldEnd());c.writeFieldBegin({fname:"is_online_learning_call",ftype:b("ThriftTypes").BOOL,fid:7});a.is_online_learning_call!=null?c.writeBool(a.is_online_learning_call):c.writeBool(!1);c.writeFieldEnd();c.writeFieldBegin({fname:"is_polls_setup_enabled",ftype:b("ThriftTypes").BOOL,fid:8});a.is_polls_setup_enabled!=null?c.writeBool(a.is_polls_setup_enabled):c.writeBool(!1);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},M=function(a,c){c.writeStructBegin("PollsParticipantActionInputState");var d;if(a.create!=null)if(d==null)c.writeFieldBegin({fname:"create",ftype:b("ThriftTypes").STRUCT,fid:1}),C(a.create,c),c.writeFieldEnd(),d="create";else throw new Error("more than one field is being serialized in union type PollsParticipantActionInputState: create, "+d);if(a.remove!=null)if(d==null)c.writeFieldBegin({fname:"remove",ftype:b("ThriftTypes").STRUCT,fid:2}),I(a.remove,c),c.writeFieldEnd(),d="remove";else throw new Error("more than one field is being serialized in union type PollsParticipantActionInputState: remove, "+d);if(a.vote!=null)if(d==null)c.writeFieldBegin({fname:"vote",ftype:b("ThriftTypes").STRUCT,fid:3}),L(a.vote,c),c.writeFieldEnd(),d="vote";else throw new Error("more than one field is being serialized in union type PollsParticipantActionInputState: vote, "+d);if(a.remove_vote!=null)if(d==null)c.writeFieldBegin({fname:"remove_vote",ftype:b("ThriftTypes").STRUCT,fid:4}),J(a.remove_vote,c),c.writeFieldEnd(),d="remove_vote";else throw new Error("more than one field is being serialized in union type PollsParticipantActionInputState: remove_vote, "+d);if(a.resume!=null)if(d==null)c.writeFieldBegin({fname:"resume",ftype:b("ThriftTypes").STRUCT,fid:5}),K(a.resume,c),c.writeFieldEnd(),d="resume";else throw new Error("more than one field is being serialized in union type PollsParticipantActionInputState: resume, "+d);if(a.ping!=null)if(d==null)c.writeFieldBegin({fname:"ping",ftype:b("ThriftTypes").STRUCT,fid:6}),H(a.ping,c),c.writeFieldEnd(),d="ping";else throw new Error("more than one field is being serialized in union type PollsParticipantActionInputState: ping, "+d);c.writeFieldStop();c.writeStructEnd()},ba=function(a,c){c.writeStructBegin("PollsParticipantInputState"),c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").STRUCT,fid:1}),a.action!=null?M(a.action,c):M({},c),c.writeFieldEnd(),a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.action_uuid),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},ca=function(a,c){c.writeStructBegin("PollsParticipantOutputState");c.writeFieldBegin({fname:"polls",ftype:b("ThriftTypes").LIST,fid:1});if(a.polls!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.polls.length});for(var d=a.polls,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;B(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];B(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"processed_action_uuids",ftype:b("ThriftTypes").SET,fid:2});if(a.processed_action_uuids!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.processed_action_uuids.size});for(var d=a.processed_action_uuids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:b("ThriftTypes").STRUCT,fid:3});a.permissions!=null?A(a.permissions,c):A(k(),c);c.writeFieldEnd();c.writeFieldBegin({fname:"is_creation_enabled",ftype:b("ThriftTypes").BOOL,fid:4});a.is_creation_enabled!=null?c.writeBool(a.is_creation_enabled):c.writeBool(!1);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},N=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.text=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},O=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_create=a.readBool():a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.poll_permissions=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=U(a);c.poll_permissions.set(g,h)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.poll_option_permissions=new Map();g=a.readMapBegin();for(var h=0;h<g.size;++h){f=a.readString();d=S(a);c.poll_option_permissions.set(f,d)}}else a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.can_create_poll_template=a.readBool():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.can_create_anonymous_poll=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_create==null&&(c.can_create=!1);c.poll_permissions==null&&(c.poll_permissions=new Map());c.poll_option_permissions==null&&(c.poll_option_permissions=new Map());c.can_create_poll_template==null&&(c.can_create_poll_template=!1);c.can_create_anonymous_poll==null&&(c.can_create_anonymous_poll=!1);return c},P=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.creator=T(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.options=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var j=R(a);c.options.push(j)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){j=a.readI32();h.has(j)&&(c.type=j)}else a.skip(e);break;case 6:if(e===b("ThriftTypes").I32){f=a.readI32();g.has(f)&&(c.state=f)}else a.skip(e);break;case 7:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.voters_visibility=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id==null&&(c.id="");c.creator==null&&(c.creator=p());c.title==null&&(c.title="");c.options==null&&(c.options=[]);return c},Q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.options=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=R(a);c.options.push(g)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){g=a.readI32();h.has(g)&&(c.type=g)}else a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.poll_id=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.is_anonymous=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.title==null&&(c.title="");c.options==null&&(c.options=[]);c.poll_id==null&&(c.poll_id="");c.is_anonymous==null&&(c.is_anonymous=!1);return c},R=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.content=N(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.voters=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=T(a);c.voters.push(g)}}else a.skip(e);break;case 4:e===b("ThriftTypes").FLOAT?c.vote_fraction=a.readFloat():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id==null&&(c.id="");c.content==null&&(c.content=j());c.voters==null&&(c.voters=[]);c.vote_fraction==null&&(c.vote_fraction=0);return c},S=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_vote=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.can_remove_vote=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_vote==null&&(c.can_vote=!1);c.can_remove_vote==null&&(c.can_remove_vote=!1);return c},T=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.fbid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},U=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_delete=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.can_resume=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_delete==null&&(c.can_delete=!1);c.can_resume==null&&(c.can_resume=!1);return c},V=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_ping=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_ping==null&&(c.is_ping=!1);return c},W=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_id==null&&(c.poll_id="");return c},X=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_option_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_option_id==null&&(c.poll_option_id="");return c},Y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_id==null&&(c.poll_id="");return c},Z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_option_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_option_id==null&&(c.poll_option_id="");return c},da=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.polls=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=P(a);c.polls.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.participant_id_to_processed_action_uuids=new Map();g=a.readMapBegin();for(var f=0;f<g.size;++f){d=a.readString();var h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;++j){var k=a.readString();h.add(k)}c.participant_id_to_processed_action_uuids.set(d,h)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.permissions=new Map();k=a.readMapBegin();for(var j=0;j<k.size;++j){i=a.readString();d=O(a);c.permissions.set(i,d)}}else a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.users_with_creation_enabled=new Set();h=a.readSetBegin();for(var f=0;f<h.size;++f){g=a.readString();c.users_with_creation_enabled.add(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.is_creation_enabled_for_all=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.creation_gk=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").BOOL?c.is_online_learning_call=a.readBool():a.skip(e);break;case 8:e===b("ThriftTypes").BOOL?c.is_polls_setup_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.polls==null&&(c.polls=[]);c.participant_id_to_processed_action_uuids==null&&(c.participant_id_to_processed_action_uuids=new Map());c.permissions==null&&(c.permissions=new Map());c.users_with_creation_enabled==null&&(c.users_with_creation_enabled=new Set());c.is_creation_enabled_for_all==null&&(c.is_creation_enabled_for_all=!1);c.is_online_learning_call==null&&(c.is_online_learning_call=!1);c.is_polls_setup_enabled==null&&(c.is_polls_setup_enabled=!1);return c},$=function(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.create=Q(a),c="create";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState: create, "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.remove=W(a),c="remove";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState: remove, "+c);else a.skip(f);break;case 3:if(f===b("ThriftTypes").STRUCT)if(c==null)d.vote=Z(a),c="vote";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState: vote, "+c);else a.skip(f);break;case 4:if(f===b("ThriftTypes").STRUCT)if(c==null)d.remove_vote=X(a),c="remove_vote";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState: remove_vote, "+c);else a.skip(f);break;case 5:if(f===b("ThriftTypes").STRUCT)if(c==null)d.resume=Y(a),c="resume";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState: resume, "+c);else a.skip(f);break;case 6:if(f===b("ThriftTypes").STRUCT)if(c==null)d.ping=V(a),c="ping";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState: ping, "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d},ea=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.action=$(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action==null&&(c.action={});return c},fa=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.polls=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=P(a);c.polls.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.processed_action_uuids=new Set();g=a.readSetBegin();for(var f=0;f<g.size;++f){d=a.readString();c.processed_action_uuids.add(d)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.permissions=O(a):a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.is_creation_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.polls==null&&(c.polls=[]);c.processed_action_uuids==null&&(c.processed_action_uuids=new Set());c.permissions==null&&(c.permissions=k());c.is_creation_enabled==null&&(c.is_creation_enabled=!1);return c};e.exports={Content$DefaultConstructor:j,ParticipantPermissions$DefaultConstructor:k,Poll$DefaultConstructor:l,PollCreateInputState$DefaultConstructor:m,PollOption$DefaultConstructor:n,PollOptionPermissions$DefaultConstructor:o,PollParticipant$DefaultConstructor:p,PollPermissions$DefaultConstructor:q,PollPingInputState$DefaultConstructor:r,PollRemoveInputState$DefaultConstructor:s,PollRemoveVoteInputState$DefaultConstructor:t,PollResumeInputState$DefaultConstructor:u,PollStates:a,PollTypes:c,PollVoteInputState$DefaultConstructor:v,PollsConferenceOutputState$DefaultConstructor:w,PollsParticipantActionInputState$Types:d,PollsParticipantInputState$DefaultConstructor:x,PollsParticipantOutputState$DefaultConstructor:y,VotersVisibilitys:f,deserializeContent:N,deserializeParticipantPermissions:O,deserializePoll:P,deserializePollCreateInputState:Q,deserializePollOption:R,deserializePollOptionPermissions:S,deserializePollParticipant:T,deserializePollPermissions:U,deserializePollPingInputState:V,deserializePollRemoveInputState:W,deserializePollRemoveVoteInputState:X,deserializePollResumeInputState:Y,deserializePollVoteInputState:Z,deserializePollsConferenceOutputState:da,deserializePollsParticipantActionInputState:$,deserializePollsParticipantInputState:ea,deserializePollsParticipantOutputState:fa,serializeContent:z,serializeParticipantPermissions:A,serializePoll:B,serializePollCreateInputState:C,serializePollOption:D,serializePollOptionPermissions:E,serializePollParticipant:F,serializePollPermissions:G,serializePollPingInputState:H,serializePollRemoveInputState:I,serializePollRemoveVoteInputState:J,serializePollResumeInputState:K,serializePollVoteInputState:L,serializePollsConferenceOutputState:aa,serializePollsParticipantActionInputState:M,serializePollsParticipantInputState:ba,serializePollsParticipantOutputState:ca}}),null);
__d("RaisedHandsQueueState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,CLASS_ROOM:1,WORKPLACE:2,MESSENGER:3});var g=new Set(Object.values(a));c=Object.freeze({UNKNOWN:0,JOIN:1,LEAVE:2,LOWER_OTHER_RAISED_HAND:3,LOWER_EVERYONE_HANDS:4});var h=new Set(Object.values(c));d=Object.freeze({UNKNOWN:0,HIDDEN:1,VISIBLE:2});var i=new Set(Object.values(d));f=function(){return{request_id:""}};var j=function(){return{can_lower_other_raised_hand:!1}},k=function(){return{actor_uuid:""}},l=function(){return{queue:[],is_raise_hand_feature_enabled:!1,participant_id_to_processed_action_uuids:new Map()}},m=function(){return{queue:[],is_raise_hand_feature_enabled:!1}},n=function(){return{}},o=function(){return{queue:[],is_raise_hand_feature_enabled:!1,processed_action_uuids:new Set()}},p=function(){return{uid:"",state_info_history:[]}},q=function(){return{start_time:"0",is_new_state:!1}},r=function(a,c){c.writeStructBegin("E2EERaisedHandsQueueParticipantPayload"),a.request_type!=null&&(c.writeFieldBegin({fname:"request_type",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.request_type),c.writeFieldEnd()),c.writeFieldBegin({fname:"request_id",ftype:b("ThriftTypes").STRING,fid:2}),a.request_id!=null?c.writeString(a.request_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},s=function(a,c){c.writeStructBegin("RaiseHandsParticipantPermissions"),c.writeFieldBegin({fname:"can_lower_other_raised_hand",ftype:b("ThriftTypes").BOOL,fid:1}),a.can_lower_other_raised_hand!=null?c.writeBool(a.can_lower_other_raised_hand):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},t=function(a,c){c.writeStructBegin("RaisedHandsActionInfo");c.writeFieldBegin({fname:"actor_uuid",ftype:b("ThriftTypes").STRING,fid:1});a.actor_uuid!=null?c.writeString(a.actor_uuid):c.writeString("");c.writeFieldEnd();a.request_type!=null&&(c.writeFieldBegin({fname:"request_type",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.request_type),c.writeFieldEnd());a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.action_uuid),c.writeFieldEnd());if(a.participant_uuids!=null){a=a.participant_uuids;c.writeFieldBegin({fname:"participant_uuids",ftype:b("ThriftTypes").SET,fid:4});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.size});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeSetEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},u=function(a,c){c.writeStructBegin("RaisedHandsQueueConferenceOutputState");c.writeFieldBegin({fname:"queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;y(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];y(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});a.is_raise_hand_feature_enabled!=null?c.writeBool(a.is_raise_hand_feature_enabled):c.writeBool(!1);c.writeFieldEnd();a.is_lower_raised_hand_by_moderator_enabled!=null&&(c.writeFieldBegin({fname:"is_lower_raised_hand_by_moderator_enabled",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_lower_raised_hand_by_moderator_enabled),c.writeFieldEnd());if(a.moderator_uids_if_empty_means_everyone_is_moderator!=null){d=a.moderator_uids_if_empty_means_everyone_is_moderator;c.writeFieldBegin({fname:"moderator_uids_if_empty_means_everyone_is_moderator",ftype:b("ThriftTypes").SET,fid:4});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:d.size});for(var e=d,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=e.length)break;d=e[g++]}else{g=e.next();if(g.done)break;d=g.value}d=d;c.writeString(d)}c.writeSetEnd();c.writeFieldEnd()}a.call_type!=null&&(c.writeFieldBegin({fname:"call_type",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.call_type),c.writeFieldEnd());c.writeFieldBegin({fname:"participant_id_to_processed_action_uuids",ftype:b("ThriftTypes").MAP,fid:6});if(a.participant_id_to_processed_action_uuids!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:a.participant_id_to_processed_action_uuids.size});for(var d=a.participant_id_to_processed_action_uuids.entries(),g=Array.isArray(d),f=0,d=g?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=d.length)break;e=d[f++]}else{f=d.next();if(f.done)break;e=f.value}a=e;e=a[0];a=a[1];c.writeString(e);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.size});for(var e=a,a=Array.isArray(e),h=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:i.size});for(var h=i.entries(),a=Array.isArray(h),e=0,h=a?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(e>=h.length)break;f=h[e++]}else{e=h.next();if(e.done)break;f=e.value}g=f;d=g[0];i=g[1];c.writeString(d);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:i.size});for(var f=i,g=Array.isArray(f),d=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=f.length)break;i=f[d++]}else{d=f.next();if(d.done)break;i=d.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},v=function(a,c){c.writeStructBegin("RaisedHandsQueueExtensionOutputState");c.writeFieldBegin({fname:"queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;y(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];y(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});a.is_raise_hand_feature_enabled!=null?c.writeBool(a.is_raise_hand_feature_enabled):c.writeBool(!1);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},w=function(a,c){c.writeStructBegin("RaisedHandsQueueParticipantInputState");a.request_type!=null&&(c.writeFieldBegin({fname:"request_type",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.request_type),c.writeFieldEnd());if(a.lowered_other_raised_hand_participants_uids!=null){var d=a.lowered_other_raised_hand_participants_uids;c.writeFieldBegin({fname:"lowered_other_raised_hand_participants_uids",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").STRING,size:d.length});for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd();c.writeFieldEnd()}a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.action_uuid),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},x=function(a,c){c.writeStructBegin("RaisedHandsQueueParticipantOutputState");c.writeFieldBegin({fname:"queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;y(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];y(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});a.is_raise_hand_feature_enabled!=null?c.writeBool(a.is_raise_hand_feature_enabled):c.writeBool(!1);c.writeFieldEnd();a.participant_action_permissions!=null&&(c.writeFieldBegin({fname:"participant_action_permissions",ftype:b("ThriftTypes").STRUCT,fid:3}),s(a.participant_action_permissions,c),c.writeFieldEnd());c.writeFieldBegin({fname:"processed_action_uuids",ftype:b("ThriftTypes").SET,fid:4});if(a.processed_action_uuids!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.processed_action_uuids.size});for(var d=a.processed_action_uuids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();if(a.action_infos!=null){g=a.action_infos;c.writeFieldBegin({fname:"action_infos",ftype:b("ThriftTypes").LIST,fid:5});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var d=g,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;a=d[f++]}else{f=d.next();if(f.done)break;a=f.value}g=a;t(g,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()},y=function(a,c){c.writeStructBegin("RaisedHandsQueuer");c.writeFieldBegin({fname:"uid",ftype:b("ThriftTypes").STRING,fid:1});a.uid!=null?c.writeString(a.uid):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"state_info_history",ftype:b("ThriftTypes").LIST,fid:3});if(a.state_info_history!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.state_info_history.length});for(var a=a.state_info_history,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;z(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var e=0;e<f.length;e++){d=f[e];z(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},z=function(a,c){c.writeStructBegin("RaisedHandsQueuerStateInfo"),a.state!=null&&(c.writeFieldBegin({fname:"state",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.state),c.writeFieldEnd()),c.writeFieldBegin({fname:"start_time",ftype:b("ThriftTypes").I64,fid:2}),a.start_time!=null?c.writeI64(b("jsbi").BigInt(a.start_time)):c.writeI64(b("jsbi").BigInt("0")),c.writeFieldEnd(),c.writeFieldBegin({fname:"is_new_state",ftype:b("ThriftTypes").BOOL,fid:3}),a.is_new_state!=null?c.writeBool(a.is_new_state):c.writeBool(!1),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},A=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.request_type=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.request_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.request_id==null&&(c.request_id="");return c},B=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_lower_other_raised_hand=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_lower_other_raised_hand==null&&(c.can_lower_other_raised_hand=!1);return c},C=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.actor_uuid=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.request_type=d)}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.participant_uuids=new Set();d=a.readSetBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participant_uuids.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.actor_uuid==null&&(c.actor_uuid="");return c},D=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var h=H(a);c.queue.push(h)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_lower_raised_hand_by_moderator_enabled=a.readBool():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.moderator_uids_if_empty_means_everyone_is_moderator=new Set();h=a.readSetBegin();for(var f=0;f<h.size;++f){d=a.readString();c.moderator_uids_if_empty_means_everyone_is_moderator.add(d)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.call_type=d)}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.participant_id_to_processed_action_uuids=new Map();f=a.readMapBegin();for(var h=0;h<f.size;++h){d=a.readString();var i=new Set(),j=a.readSetBegin();for(var k=0;k<j.size;++k){var l=a.readString();i.add(l)}c.participant_id_to_processed_action_uuids.set(d,i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue==null&&(c.queue=[]);c.is_raise_hand_feature_enabled==null&&(c.is_raise_hand_feature_enabled=!1);c.participant_id_to_processed_action_uuids==null&&(c.participant_id_to_processed_action_uuids=new Map());return c},E=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=H(a);c.queue.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue==null&&(c.queue=[]);c.is_raise_hand_feature_enabled==null&&(c.is_raise_hand_feature_enabled=!1);return c},F=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.request_type=d)}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.lowered_other_raised_hand_participants_uids=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.lowered_other_raised_hand_participants_uids.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},G=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=H(a);c.queue.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.participant_action_permissions=B(a):a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.processed_action_uuids=new Set();g=a.readSetBegin();for(var f=0;f<g.size;++f){d=a.readString();c.processed_action_uuids.add(d)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").LIST){c.action_infos=[];d=a.readListBegin();for(var f=0;f<d.size;++f){g=C(a);c.action_infos.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue==null&&(c.queue=[]);c.is_raise_hand_feature_enabled==null&&(c.is_raise_hand_feature_enabled=!1);c.processed_action_uuids==null&&(c.processed_action_uuids=new Set());return c},H=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uid=a.readString():a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.state_info_history=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=I(a);c.state_info_history.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uid==null&&(c.uid="");c.state_info_history==null&&(c.state_info_history=[]);return c},I=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.state=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.start_time=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_new_state=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.start_time==null&&(c.start_time="0");c.is_new_state==null&&(c.is_new_state=!1);return c};e.exports={CallTypes:a,E2EERaisedHandsQueueParticipantPayload$DefaultConstructor:f,RaiseHandsParticipantPermissions$DefaultConstructor:j,RaisedHandsActionInfo$DefaultConstructor:k,RaisedHandsQueueConferenceOutputState$DefaultConstructor:l,RaisedHandsQueueExtensionOutputState$DefaultConstructor:m,RaisedHandsQueueParticipantInputState$DefaultConstructor:n,RaisedHandsQueueParticipantOutputState$DefaultConstructor:o,RaisedHandsQueueParticipantRequestTypes:c,RaisedHandsQueuer$DefaultConstructor:p,RaisedHandsQueuerStateInfo$DefaultConstructor:q,RaisedHandsQueuerStates:d,deserializeE2EERaisedHandsQueueParticipantPayload:A,deserializeRaiseHandsParticipantPermissions:B,deserializeRaisedHandsActionInfo:C,deserializeRaisedHandsQueueConferenceOutputState:D,deserializeRaisedHandsQueueExtensionOutputState:E,deserializeRaisedHandsQueueParticipantInputState:F,deserializeRaisedHandsQueueParticipantOutputState:G,deserializeRaisedHandsQueuer:H,deserializeRaisedHandsQueuerStateInfo:I,serializeE2EERaisedHandsQueueParticipantPayload:r,serializeRaiseHandsParticipantPermissions:s,serializeRaisedHandsActionInfo:t,serializeRaisedHandsQueueConferenceOutputState:u,serializeRaisedHandsQueueExtensionOutputState:v,serializeRaisedHandsQueueParticipantInputState:w,serializeRaisedHandsQueueParticipantOutputState:x,serializeRaisedHandsQueuer:y,serializeRaisedHandsQueuerStateInfo:z}}),null);
__d("RoomsNotes",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{note_id:""}};c=function(){return{note_id:""}};d=function(a,c){c.writeStructBegin("RoomsNotesInputState"),c.writeFieldBegin({fname:"note_id",ftype:b("ThriftTypes").STRING,fid:1}),a.note_id!=null?c.writeString(a.note_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()};f=function(a,c){c.writeStructBegin("RoomsNotesOutputState"),c.writeFieldBegin({fname:"note_id",ftype:b("ThriftTypes").STRING,fid:1}),a.note_id!=null?c.writeString(a.note_id):c.writeString(""),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()};var g=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.note_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.note_id==null&&(c.note_id="");return c},h=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.note_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.note_id==null&&(c.note_id="");return c};e.exports={RoomsNotesInputState$DefaultConstructor:a,RoomsNotesOutputState$DefaultConstructor:c,deserializeRoomsNotesInputState:g,deserializeRoomsNotesOutputState:h,serializeRoomsNotesInputState:d,serializeRoomsNotesOutputState:f}}),null);
__d("ScreenshareFloorControlState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NONE:0,REQUEST_FLOOR:1,RELEASE_FLOOR:2});var g=new Set(Object.values(a));c=Object.freeze({SHARE_SCREEN:0,PIN_STREAM:1});var h=new Set(Object.values(c));d=Object.freeze({DEFAULT_STREAM:0,SCREEN_SHARE:1});var i=new Set(Object.values(d));f=function(){return{fbid:"",floorControlStream:1,floorControlIntent:0}};var j=function(){return{floorControlStream:1,floorControlIntent:0}},k=function(){return{floorParticipants:[]}},l=function(a,c){c.writeStructBegin("FloorParticipant"),c.writeFieldBegin({fname:"fbid",ftype:b("ThriftTypes").STRING,fid:1}),a.fbid!=null?c.writeString(a.fbid):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"floorControlStream",ftype:b("ThriftTypes").I32,fid:2}),a.floorControlStream!=null?c.writeI32(a.floorControlStream):c.writeI32(1),c.writeFieldEnd(),c.writeFieldBegin({fname:"floorControlIntent",ftype:b("ThriftTypes").I32,fid:3}),a.floorControlIntent!=null?c.writeI32(a.floorControlIntent):c.writeI32(0),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},m=function(a,c){c.writeStructBegin("ScreenshareFloorControlInputState"),a.floorControlAction!=null&&(c.writeFieldBegin({fname:"floorControlAction",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.floorControlAction),c.writeFieldEnd()),c.writeFieldBegin({fname:"floorControlStream",ftype:b("ThriftTypes").I32,fid:2}),a.floorControlStream!=null?c.writeI32(a.floorControlStream):c.writeI32(1),c.writeFieldEnd(),c.writeFieldBegin({fname:"floorControlIntent",ftype:b("ThriftTypes").I32,fid:3}),a.floorControlIntent!=null?c.writeI32(a.floorControlIntent):c.writeI32(0),c.writeFieldEnd(),a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.session_id),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},n=function(a,c){c.writeStructBegin("ScreenshareFloorControlOutputState");c.writeFieldBegin({fname:"floorParticipants",ftype:b("ThriftTypes").LIST,fid:1});if(a.floorParticipants!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.floorParticipants.length});for(var d=a.floorParticipants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;l(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];l(e,c)}c.writeListEnd()}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.session_id),c.writeFieldEnd());a.session_start_time_ms!=null&&(c.writeFieldBegin({fname:"session_start_time_ms",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(b("jsbi").BigInt(a.session_start_time_ms)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.fbid=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.floorControlStream=d)}else a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.floorControlIntent=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.fbid==null&&(c.fbid="");c.floorControlStream==null&&(c.floorControlStream=1);c.floorControlIntent==null&&(c.floorControlIntent=0);return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.floorControlAction=d)}else a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.floorControlStream=d)}else a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.floorControlIntent=d)}else a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.floorControlStream==null&&(c.floorControlStream=1);c.floorControlIntent==null&&(c.floorControlIntent=0);return c},q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.floorParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=o(a);c.floorParticipants.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.session_start_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.floorParticipants==null&&(c.floorParticipants=[]);return c};e.exports={FloorControlActions:a,FloorControlIntents:c,FloorControlStreams:d,FloorParticipant$DefaultConstructor:f,ScreenshareFloorControlInputState$DefaultConstructor:j,ScreenshareFloorControlOutputState$DefaultConstructor:k,deserializeFloorParticipant:o,deserializeScreenshareFloorControlInputState:p,deserializeScreenshareFloorControlOutputState:q,serializeFloorParticipant:l,serializeScreenshareFloorControlInputState:m,serializeScreenshareFloorControlOutputState:n}}),null);
__d("SctpNegotiationState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});var g=new Set(Object.values(a));c=Object.freeze({UNKNOWN:0,OFFER:1,ANSWER:2});var h=new Set(Object.values(c));d=function(){return{sdp:i(),mediaPath:0}};f=function(){return{sdp:i(),mediaPath:0}};var i=function(){return{}},j=function(a,c){c.writeStructBegin("SCTPNegotiationParticipantInputState"),c.writeFieldBegin({fname:"sdp",ftype:b("ThriftTypes").STRUCT,fid:1}),a.sdp!=null?l(a.sdp,c):l(i(),c),c.writeFieldEnd(),a.msgType!=null&&(c.writeFieldBegin({fname:"msgType",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.msgType),c.writeFieldEnd()),c.writeFieldBegin({fname:"mediaPath",ftype:b("ThriftTypes").I32,fid:3}),a.mediaPath!=null?c.writeI32(a.mediaPath):c.writeI32(0),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},k=function(a,c){c.writeStructBegin("SCTPNegotiationParticipantOutputState"),c.writeFieldBegin({fname:"sdp",ftype:b("ThriftTypes").STRUCT,fid:1}),a.sdp!=null?l(a.sdp,c):l(i(),c),c.writeFieldEnd(),a.msgType!=null&&(c.writeFieldBegin({fname:"msgType",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.msgType),c.writeFieldEnd()),c.writeFieldBegin({fname:"mediaPath",ftype:b("ThriftTypes").I32,fid:3}),a.mediaPath!=null?c.writeI32(a.mediaPath):c.writeI32(0),c.writeFieldEnd(),c.writeFieldStop(),c.writeStructEnd()},l=function(a,c){c.writeStructBegin("SctpSessionDescription"),a.sdpString!=null&&(c.writeFieldBegin({fname:"sdpString",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.sdpString),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},m=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.sdp=o(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.msgType=d)}else a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.mediaPath=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sdp==null&&(c.sdp=i());c.mediaPath==null&&(c.mediaPath=0);return c},n=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.sdp=o(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.msgType=d)}else a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.mediaPath=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sdp==null&&(c.sdp=i());c.mediaPath==null&&(c.mediaPath=0);return c},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.sdpString=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c};e.exports={SCTPNegotiationParticipantInputState$DefaultConstructor:d,SCTPNegotiationParticipantOutputState$DefaultConstructor:f,SctpMediaPaths:a,SctpMessageTypeEnums:c,SctpSessionDescription$DefaultConstructor:i,deserializeSCTPNegotiationParticipantInputState:m,deserializeSCTPNegotiationParticipantOutputState:n,deserializeSctpSessionDescription:o,serializeSCTPNegotiationParticipantInputState:j,serializeSCTPNegotiationParticipantOutputState:k,serializeSctpSessionDescription:l}}),null);
__d("SidebandState",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,CREATE_CONVERSATION:1,LEAVE_CONVERSATION:2,SEND_AC_WAVE:3,CANCEL_AC_WAVE:4,ACCEPT_AC_WAVE:5,REJECT_AC_WAVE:6,UPDATE_AVAILABILITY:7,JOIN_EXISTING_AC:8,RESPOND_TO_AC_WAVE:9});var g=new Set(Object.values(a));c=Object.freeze({UNKNOWN:0,AVAILABLE:1,NOT_AVAILABLE:2,IN_A_MEETING:3});var h=new Set(Object.values(c));d=Object.freeze({UNKNOWN:0,NEED_A_MINUTE:1});var i=new Set(Object.values(d));f=Object.freeze({UNKNOWN:0,QUICK_QUESTION:1,LETS_CHAT:2});var j=new Set(Object.values(f)),k=Object.freeze({UNKNOWN:0,REJECTED:1}),l=new Set(Object.values(k)),m=function(){return{id:"",participant_ids:[]}},n=function(){return{sender:"",recipient:""}},o=function(){return{sideband_active_conversations:[],waves:[],users_info:[]}},p=function(){return{}},q=function(){return{sideband_active_conversations:[],waves:[],users_info:[]}},r=function(){return{id:""}},s=function(a,c){c.writeStructBegin("ActiveConversation");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});a.id!=null?c.writeString(a.id):c.writeString("");c.writeFieldEnd();c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:2});if(a.participant_ids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participant_ids.length});for(var a=a.participant_ids,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeString(d)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},t=function(a,c){c.writeStructBegin("ActiveConversationWave"),c.writeFieldBegin({fname:"sender",ftype:b("ThriftTypes").STRING,fid:1}),a.sender!=null?c.writeString(a.sender):c.writeString(""),c.writeFieldEnd(),c.writeFieldBegin({fname:"recipient",ftype:b("ThriftTypes").STRING,fid:2}),a.recipient!=null?c.writeString(a.recipient):c.writeString(""),c.writeFieldEnd(),a.sender_message!=null&&(c.writeFieldBegin({fname:"sender_message",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.sender_message),c.writeFieldEnd()),a.responder_message!=null&&(c.writeFieldBegin({fname:"responder_message",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.responder_message),c.writeFieldEnd()),a.status!=null&&(c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.status),c.writeFieldEnd()),a.expiration_timestamp_seconds!=null&&(c.writeFieldBegin({fname:"expiration_timestamp_seconds",ftype:b("ThriftTypes").I64,fid:6}),c.writeI64(b("jsbi").BigInt(a.expiration_timestamp_seconds)),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},u=function(a,c){c.writeStructBegin("SidebandConferenceOutputState");c.writeFieldBegin({fname:"sideband_active_conversations",ftype:b("ThriftTypes").LIST,fid:1});if(a.sideband_active_conversations!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.sideband_active_conversations.length});for(var d=a.sideband_active_conversations,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;s(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];s(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"waves",ftype:b("ThriftTypes").LIST,fid:2});if(a.waves!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.waves.length});for(var d=a.waves,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;t(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];t(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_info",ftype:b("ThriftTypes").LIST,fid:3});if(a.users_info!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.users_info.length});for(var d=a.users_info,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}a=g;x(a,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var a=0;a<g.length;a++){f=g[a];x(f,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},v=function(a,c){c.writeStructBegin("SidebandInputState");a.sideband_type!=null&&(c.writeFieldBegin({fname:"sideband_type",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.sideband_type),c.writeFieldEnd());if(a.participant_ids!=null){var d=a.participant_ids;c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").STRING,size:d.length});for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd();c.writeFieldEnd()}a.wave!=null&&(c.writeFieldBegin({fname:"wave",ftype:b("ThriftTypes").STRUCT,fid:3}),t(a.wave,c),c.writeFieldEnd());a.availability!=null&&(c.writeFieldBegin({fname:"availability",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.availability),c.writeFieldEnd());a.active_conversation_id!=null&&(c.writeFieldBegin({fname:"active_conversation_id",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.active_conversation_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()},w=function(a,c){c.writeStructBegin("SidebandOutputState");c.writeFieldBegin({fname:"sideband_active_conversations",ftype:b("ThriftTypes").LIST,fid:1});if(a.sideband_active_conversations!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.sideband_active_conversations.length});for(var d=a.sideband_active_conversations,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;s(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];s(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"waves",ftype:b("ThriftTypes").LIST,fid:2});if(a.waves!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.waves.length});for(var d=a.waves,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;t(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];t(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_info",ftype:b("ThriftTypes").LIST,fid:3});if(a.users_info!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.users_info.length});for(var d=a.users_info,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}a=g;x(a,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var a=0;a<g.length;a++){f=g[a];x(f,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()},x=function(a,c){c.writeStructBegin("SidebandUserInfo"),c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1}),a.id!=null?c.writeString(a.id):c.writeString(""),c.writeFieldEnd(),a.availability!=null&&(c.writeFieldBegin({fname:"availability",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.availability),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participant_ids.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id==null&&(c.id="");c.participant_ids==null&&(c.participant_ids=[]);return c},z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.sender=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.recipient=a.readString():a.skip(e);break;case 3:if(e===b("ThriftTypes").I32){d=a.readI32();j.has(d)&&(c.sender_message=d)}else a.skip(e);break;case 4:if(e===b("ThriftTypes").I32){d=a.readI32();i.has(d)&&(c.responder_message=d)}else a.skip(e);break;case 5:if(e===b("ThriftTypes").I32){d=a.readI32();l.has(d)&&(c.status=d)}else a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.expiration_timestamp_seconds=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sender==null&&(c.sender="");c.recipient==null&&(c.recipient="");return c},A=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.sideband_active_conversations=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=y(a);c.sideband_active_conversations.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.waves=[];g=a.readListBegin();for(var f=0;f<g.size;++f){d=z(a);c.waves.push(d)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.users_info=[];d=a.readListBegin();for(var f=0;f<d.size;++f){g=D(a);c.users_info.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_active_conversations==null&&(c.sideband_active_conversations=[]);c.waves==null&&(c.waves=[]);c.users_info==null&&(c.users_info=[]);return c},B=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.sideband_type=d)}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var i=a.readString();c.participant_ids.push(i)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.wave=z(a):a.skip(e);break;case 4:if(e===b("ThriftTypes").I32){i=a.readI32();h.has(i)&&(c.availability=i)}else a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.active_conversation_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},C=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.sideband_active_conversations=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=y(a);c.sideband_active_conversations.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.waves=[];g=a.readListBegin();for(var f=0;f<g.size;++f){d=z(a);c.waves.push(d)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.users_info=[];d=a.readListBegin();for(var f=0;f<d.size;++f){g=D(a);c.users_info.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_active_conversations==null&&(c.sideband_active_conversations=[]);c.waves==null&&(c.waves=[]);c.users_info==null&&(c.users_info=[]);return c},D=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").I32){d=a.readI32();h.has(d)&&(c.availability=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id==null&&(c.id="");return c};e.exports={ActiveConversation$DefaultConstructor:m,ActiveConversationWave$DefaultConstructor:n,SidebandActionTypes:a,SidebandConferenceOutputState$DefaultConstructor:o,SidebandInputState$DefaultConstructor:p,SidebandOutputState$DefaultConstructor:q,SidebandUserAvailabilitys:c,SidebandUserInfo$DefaultConstructor:r,SidebandWaveResponderMessages:d,SidebandWaveSenderMessages:f,SidebandWaveStatuss:k,deserializeActiveConversation:y,deserializeActiveConversationWave:z,deserializeSidebandConferenceOutputState:A,deserializeSidebandInputState:B,deserializeSidebandOutputState:C,deserializeSidebandUserInfo:D,serializeActiveConversation:s,serializeActiveConversationWave:t,serializeSidebandConferenceOutputState:u,serializeSidebandInputState:v,serializeSidebandOutputState:w,serializeSidebandUserInfo:x}}),null);
__d("SimpleState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{number:0}};c=function(){return{max:0}};d=function(a,c){c.writeStructBegin("SimpleInputState"),c.writeFieldBegin({fname:"number",ftype:b("ThriftTypes").I32,fid:1}),a.number!=null?c.writeI32(a.number):c.writeI32(0),c.writeFieldStop(),c.writeStructEnd()};f=function(a,c){c.writeStructBegin("SimpleOutputState"),c.writeFieldBegin({fname:"max",ftype:b("ThriftTypes").I32,fid:1}),a.max!=null?c.writeI32(a.max):c.writeI32(0),c.writeFieldStop(),c.writeStructEnd()};var g=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.number=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.number==null&&(c.number=0);return c},h=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.max=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.max==null&&(c.max=0);return c};e.exports={SimpleInputState$DefaultConstructor:a,SimpleOutputState$DefaultConstructor:c,deserializeSimpleInputState:g,deserializeSimpleOutputState:h,serializeSimpleInputState:d,serializeSimpleOutputState:f}}),null);
__d("WhiteboardMessengerState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){return{is_feature_enabled:!1}};c=function(){return{}};d=function(){return{is_feature_enabled:!1}};f=function(a,c){c.writeStructBegin("WhiteboardMessengerConferenceOutputState"),c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:1}),a.is_feature_enabled!=null?c.writeBool(a.is_feature_enabled):c.writeBool(!1),c.writeFieldEnd(),a.is_feature_enabled_on_desktop!=null&&(c.writeFieldBegin({fname:"is_feature_enabled_on_desktop",ftype:b("ThriftTypes").BOOL,fid:2}),c.writeBool(a.is_feature_enabled_on_desktop),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()};var g=function(a,b){b.writeStructBegin("WhiteboardMessengerInputState"),b.writeFieldStop(),b.writeStructEnd()},h=function(a,c){c.writeStructBegin("WhiteboardMessengerOutputState"),c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:1}),a.is_feature_enabled!=null?c.writeBool(a.is_feature_enabled):c.writeBool(!1),c.writeFieldEnd(),a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.session_id),c.writeFieldEnd()),a.is_feature_enabled_on_desktop!=null&&(c.writeFieldBegin({fname:"is_feature_enabled_on_desktop",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_feature_enabled_on_desktop),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()},i=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_feature_enabled_on_desktop=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_feature_enabled==null&&(c.is_feature_enabled=!1);return c},j=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},k=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_feature_enabled_on_desktop=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_feature_enabled==null&&(c.is_feature_enabled=!1);return c};e.exports={WhiteboardMessengerConferenceOutputState$DefaultConstructor:a,WhiteboardMessengerInputState$DefaultConstructor:c,WhiteboardMessengerOutputState$DefaultConstructor:d,deserializeWhiteboardMessengerConferenceOutputState:i,deserializeWhiteboardMessengerInputState:j,deserializeWhiteboardMessengerOutputState:k,serializeWhiteboardMessengerConferenceOutputState:f,serializeWhiteboardMessengerInputState:g,serializeWhiteboardMessengerOutputState:h}}),null);
__d("WhiteboardState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NONE:0,GET_SESSION:1});var g=new Set(Object.values(a));c=function(){return{}};d=function(){return{excalidraw_url:"",excalidraw_generated_by:""}};f=function(a,c){c.writeStructBegin("WhiteboardInputState"),a.whiteboardAction!=null&&(c.writeFieldBegin({fname:"whiteboardAction",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.whiteboardAction)),c.writeFieldStop(),c.writeStructEnd()};var h=function(a,c){c.writeStructBegin("WhiteboardOutputState"),c.writeFieldBegin({fname:"excalidraw_url",ftype:b("ThriftTypes").STRING,fid:1}),a.excalidraw_url!=null?c.writeString(a.excalidraw_url):c.writeString(""),c.writeFieldBegin({fname:"excalidraw_generated_by",ftype:b("ThriftTypes").STRING,fid:2}),a.excalidraw_generated_by!=null?c.writeString(a.excalidraw_generated_by):c.writeString(""),c.writeFieldStop(),c.writeStructEnd()},i=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.whiteboardAction=d)}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},j=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.excalidraw_url=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.excalidraw_generated_by=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.excalidraw_url==null&&(c.excalidraw_url="");c.excalidraw_generated_by==null&&(c.excalidraw_generated_by="");return c};e.exports={WhiteboardActions:a,WhiteboardInputState$DefaultConstructor:c,WhiteboardOutputState$DefaultConstructor:d,deserializeWhiteboardInputState:i,deserializeWhiteboardOutputState:j,serializeWhiteboardInputState:f,serializeWhiteboardOutputState:h}}),null);
__d("WorkroomsState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,JOIN_CONVERSATION:1,CREATE_CONVERSATION:2,LEAVE_CONVERSATION:3});var g=new Set(Object.values(a));c=function(){return{participant_ids:[]}};d=function(){return{active_conversations:new Map()}};f=function(){return{}};var h=function(){return{active_conversations:new Map()}},i=function(a,c){c.writeStructBegin("ActiveConversation");c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:1});if(a.participant_ids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participant_ids.length});for(var a=a.participant_ids,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(var e=0;e<f.length;e++){d=f[e];c.writeString(d)}}c.writeFieldStop();c.writeStructEnd()},j=function(a,c){c.writeStructBegin("WorkroomConferenceOutputState");c.writeFieldBegin({fname:"active_conversations",ftype:b("ThriftTypes").MAP,fid:1});if(a.active_conversations!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.active_conversations.size});for(var a=a.active_conversations.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);i(f,c)}}else{g=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:g.size});for(var f=g.entries(),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;a=g[0];g=g[1];c.writeString(a);i(g,c)}}c.writeFieldStop();c.writeStructEnd()},k=function(a,c){c.writeStructBegin("WorkroomInputState");a.type!=null&&(c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.type));a.conversation_id!=null&&(c.writeFieldBegin({fname:"conversation_id",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.conversation_id));if(a.participant_ids!=null){a=a.participant_ids;c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:3});c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.length});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}}c.writeFieldStop();c.writeStructEnd()},l=function(a,c){c.writeStructBegin("WorkroomOutputState");c.writeFieldBegin({fname:"active_conversations",ftype:b("ThriftTypes").MAP,fid:1});if(a.active_conversations!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.active_conversations.size});for(var a=a.active_conversations.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);i(f,c)}}else{g=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:g.size});for(var f=g.entries(),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;a=g[0];g=g[1];c.writeString(a);i(g,c)}}c.writeFieldStop();c.writeStructEnd()},m=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var g=a.readString();c.participant_ids.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_ids==null&&(c.participant_ids=[]);return c},n=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.active_conversations=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=m(a);c.active_conversations.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.active_conversations==null&&(c.active_conversations=new Map());return c},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").I32){d=a.readI32();g.has(d)&&(c.type=d)}else a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.conversation_id=a.readString():a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;++f){var h=a.readString();c.participant_ids.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.active_conversations=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=m(a);c.active_conversations.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.active_conversations==null&&(c.active_conversations=new Map());return c};e.exports={ActionTypes:a,ActiveConversation$DefaultConstructor:c,WorkroomConferenceOutputState$DefaultConstructor:d,WorkroomInputState$DefaultConstructor:f,WorkroomOutputState$DefaultConstructor:h,deserializeActiveConversation:m,deserializeWorkroomConferenceOutputState:n,deserializeWorkroomInputState:o,deserializeWorkroomOutputState:p,serializeActiveConversation:i,serializeWorkroomConferenceOutputState:j,serializeWorkroomInputState:k,serializeWorkroomOutputState:l}}),null);
__d("WorkroomsVrState",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";var g=function(){return{zoneUUID:"",isBridge:!1}};a=function(){return{participant:g()}};c=function(){return{participants:new Map()}};var h=function(a,c){c.writeStructBegin("VRParticipant"),c.writeFieldBegin({fname:"zoneUUID",ftype:b("ThriftTypes").STRING,fid:1}),a.zoneUUID!=null?c.writeString(a.zoneUUID):c.writeString(""),c.writeFieldBegin({fname:"isBridge",ftype:b("ThriftTypes").BOOL,fid:2}),a.isBridge!=null?c.writeBool(a.isBridge):c.writeBool(!1),c.writeFieldStop(),c.writeStructEnd()};d=function(a,c){c.writeStructBegin("WorkroomsVRInputState"),c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1}),a.participant!=null?h(a.participant,c):h(g(),c),c.writeFieldStop(),c.writeStructEnd()};f=function(a,c){c.writeStructBegin("WorkroomsVROutputState");c.writeFieldBegin({fname:"participants",ftype:b("ThriftTypes").MAP,fid:1});if(a.participants!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:a.participants.size});for(var a=a.participants.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);h(f,c)}}else{g=new Map();c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:g.size});for(var f=g.entries(),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;a=g[0];g=g[1];c.writeString(a);h(g,c)}}c.writeFieldStop();c.writeStructEnd()};var i=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.zoneUUID=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isBridge=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.zoneUUID==null&&(c.zoneUUID="");c.isBridge==null&&(c.isBridge=!1);return c},j=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=i(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant==null&&(c.participant=g());return c},k=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.participants=new Map();d=a.readMapBegin();for(var f=0;f<d.size;++f){var g=a.readString(),h=i(a);c.participants.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participants==null&&(c.participants=new Map());return c};e.exports={VRParticipant$DefaultConstructor:g,WorkroomsVRInputState$DefaultConstructor:a,WorkroomsVROutputState$DefaultConstructor:c,deserializeVRParticipant:i,deserializeWorkroomsVRInputState:j,deserializeWorkroomsVROutputState:k,serializeVRParticipant:h,serializeWorkroomsVRInputState:d,serializeWorkroomsVROutputState:f}}),null);
__d("ZenonStateSyncSerializer",["BreakoutState","CanYouSeeMyScreenState","CompactSerializerPolyfill","ConfigEngineStateConfigEngineStateSerializers","CoplayState","CountdownTimerState","CoviewState","E2eeStateSerializers","EmojiReactionsState","IntenticonsState","LiveStreamState","MediaInformationState","MediaSyncAutoplayState","MediaSyncState","MeetingAssistantState","ModeratorControlsStateModeratorControlsStateSerializers","PollsState","RaisedHandsQueueState","RoomsNotes","ScreenshareFloorControlState","SctpNegotiationState","SidebandState","SimpleState","WhiteboardMessengerState","WhiteboardState","WorkroomsState","WorkroomsVrState","ZenonAppProvider","ZenonDataUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=null;switch(a){case"countdown_timer":c=d("CountdownTimerState").deserializeCountdownTimerOutputState;break;case"polls":c=d("PollsState").deserializePollsParticipantOutputState;break;case"emoji_reactions":c=d("EmojiReactionsState").deserializeEmojiReactionsOutputState;break;case"raised_hands_queue":c=d("RaisedHandsQueueState").deserializeRaisedHandsQueueParticipantOutputState;break;case"simple_internal":case"simple_external":c=d("SimpleState").deserializeSimpleOutputState;break;case"live_stream":c=d("LiveStreamState").deserializeLiveStreamClientOutputState;break;case"moderator_controls":c=d("ModeratorControlsStateModeratorControlsStateSerializers").deserializeModeratorControlsOutputState;break;case"media_information":c=d("MediaInformationState").deserializeMediaInformationOutputState;break;case"media_sync":c=d("MediaSyncState").deserializeMediaSyncOutputState;break;case"media_sync_autoplay":c=d("MediaSyncAutoplayState").deserializeParticipantOutputState;break;case"coplay":c=d("CoplayState").deserializeCoplayOutputState;break;case"workroom":c=d("WorkroomsState").deserializeWorkroomOutputState;break;case"screenshare_floor_control":c=d("ScreenshareFloorControlState").deserializeScreenshareFloorControlOutputState;break;case"meeting_assistant":c=d("MeetingAssistantState").deserializeParticipantOutputState;break;case"whiteboard":c=d("WhiteboardState").deserializeWhiteboardOutputState;break;case"sideband":c=d("SidebandState").deserializeSidebandOutputState;break;case"breakout":c=d("BreakoutState").deserializeBreakoutOutputState;break;case"rooms_notes":c=d("RoomsNotes").deserializeRoomsNotesOutputState;break;case"workrooms_vr":c=d("WorkroomsVrState").deserializeWorkroomsVROutputState;break;case"coview":c=d("CoviewState").deserializeCoviewOutputState;break;case"can_you_see_my_screen":c=d("CanYouSeeMyScreenState").deserializeCanYouSeeMyScreenParticipantOutputState;break;case"intenticons":c=d("IntenticonsState").deserializeIntenticonParticipantOutputState;break;case"whiteboard_messenger":c=d("WhiteboardMessengerState").deserializeWhiteboardMessengerOutputState;break;case"E2eeState":if(b!=null)return{data:d("ZenonDataUtils").base64ToUint8Array(b)};break;case"sctp_negotiation":c=d("SctpNegotiationState").deserializeSCTPNegotiationParticipantOutputState;break;default:break}if(b!=null&&c!=null){a=d("ZenonAppProvider").isInstagramApp()?d("ZenonDataUtils").stringToUint8Array(b):d("ZenonDataUtils").base64ToUint8Array(b);return d("CompactSerializerPolyfill").deserialize(a,c)}return null}function b(a,b){var c=null;switch(a){case"countdown_timer":c=d("CountdownTimerState").serializeCountdownTimerInputState;break;case"polls":c=d("PollsState").serializePollsParticipantInputState;break;case"emoji_reactions":c=d("EmojiReactionsState").serializeEmojiReactionsInputState;break;case"raised_hands_queue":c=d("RaisedHandsQueueState").serializeRaisedHandsQueueParticipantInputState;break;case"simple_internal":case"simple_external":c=d("SimpleState").serializeSimpleInputState;break;case"live_stream":c=d("LiveStreamState").serializeLiveStreamClientInputState;break;case"moderator_controls":c=d("ModeratorControlsStateModeratorControlsStateSerializers").serializeModeratorControlsInputState;break;case"media_information":c=d("MediaInformationState").serializeMediaInformationInputState;break;case"media_sync":c=d("MediaSyncState").serializeMediaSyncInputState;break;case"media_sync_autoplay":c=d("MediaSyncAutoplayState").serializeParticipantInputState;break;case"coplay":c=d("CoplayState").serializeCoplayMatchInputState;break;case"workroom":c=d("WorkroomsState").serializeWorkroomInputState;break;case"screenshare_floor_control":c=d("ScreenshareFloorControlState").serializeScreenshareFloorControlInputState;break;case"meeting_assistant":c=d("MeetingAssistantState").serializeParticipantInputState;break;case"whiteboard":c=d("WhiteboardState").serializeWhiteboardInputState;break;case"sideband":c=d("SidebandState").serializeSidebandInputState;break;case"breakout":c=d("BreakoutState").serializeBreakoutInputState;break;case"rooms_notes":c=d("RoomsNotes").serializeRoomsNotesInputState;break;case"workrooms_vr":c=d("WorkroomsVrState").serializeWorkroomsVRInputState;break;case"coview":c=d("CoviewState").serializeCoviewInputState;break;case"intenticons":c=d("IntenticonsState").serializeIntenticonParticipantInputState;break;case"E2eeState":c=d("E2eeStateSerializers").serializeE2eeClientState;break;case"can_you_see_my_screen":c=d("CanYouSeeMyScreenState").serializeCanYouSeeMyScreenParticipantInputState;break;case"config_engine":c=d("ConfigEngineStateConfigEngineStateSerializers").serializeConfigEngineClientInputState;break;case"whiteboard_messenger":c=d("WhiteboardMessengerState").serializeWhiteboardMessengerInputState;break;case"sctp_negotiation":c=d("SctpNegotiationState").serializeSCTPNegotiationParticipantInputState;break;default:break}return b!=null&&c!=null?d("ZenonDataUtils").uint8ArrayToBase64(d("CompactSerializerPolyfill").serialize(b,c)):null}g.deserializeOutputState=a;g.serializeInputState=b}),98);
__d("ZenonStateSyncStore",["ZenonInfraActionsLogger","ZenonStateSyncSerializer","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Set(),this.$4=new Map()}var e=a.prototype;e.addTopicHandler=function(a,b){this.$3.add(a);var c=this.getTopicHandlers(a);this.$4.set(a,c.add(b))};e.getTopicHandlers=function(a){return(a=this.$4.get(a))!=null?a:new Set()};e.getInputStates=function(){return this.$1};e.getOutputStates=function(){return this.$2};e.updateInputState=function(a,b){var e;this.$3.add(a);e=((e=(e=this.$1.get(a))==null?void 0:e.version)!=null?e:0)+1;this.$1.set(a,{data:b,version:e});b=d("ZenonStateSyncSerializer").serializeInputState(a,b);a==="live_stream"&&c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Update state sync "+a+" and serialized input data "+JSON.stringify(b)});return b!==null?{data:b,version:e}:{version:e}};e.updateOutputState=function(a,c){var e;if(!this.$3.has(a))return;e=(e=(e=this.$2.get(a))==null?void 0:e.version)!=null?e:-1;if(c.version<=e)return;var f=d("ZenonStateSyncSerializer").deserializeOutputState(a,c.data);this.$2.set(a,{data:f,version:c.version});e=this.getTopicHandlers(a);e&&e.forEach(function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(a(f));case 2:case"end":return c.stop()}},null,this)})};e.unsubscribe=function(a){var b;this.$3["delete"](a);b=((b=(b=this.$1.get(a))==null?void 0:b.version)!=null?b:0)+1;this.$1.set(a,{data:null,version:b});return{version:b}};return a}();g["default"]=a}),98);
__d("ZenonSignalingModel",["ZenonMediaModeManager","ZenonStateSyncStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g,h,i){this.$9=new(c("ZenonStateSyncStore"))(),this.$11=new(d("ZenonMediaModeManager").ZenonMediaModeManager)(),this.$1=i,this.$2=a,this.$3=b,this.$4=e,this.$5=f,this.$6=g,this.$7=h}var b=a.prototype;b.getActorID=function(){return this.$1};b.setActorID=function(a){this.$1=a};b.getSignalingID=function(){return this.$2};b.updateRemoteSignalingID=function(a){this.$3=a};b.getRemoteSignalingID=function(){return this.$3};b.getUserInfo=function(){return this.$4};b.getRemoteInfo=function(){return this.$5};b.getRoomInfo=function(){return this.$6};b.updateRoomInfo=function(a){this.$6=a};b.getProtocol=function(){return this.$7};b.getMediaModeManager=function(){return this.$11};b.getStateSyncStore=function(){return this.$9};b.updateOverlayConfigServerLayer=function(a){this.$8=a};b.getOverlayConfigServerLayer=function(){return this.$8};b.setNotifyCallback=function(a){this.$10=a};b.notify=function(){this.$10&&this.$10()};return a}();g["default"]=a}),98);
__d("ZenonSignalingClientManager",["ZenonActorHooks","ZenonProtocolConfiguration","ZenonSignalingModel","immutable","randomInt"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){e===void 0&&(e=null),f===void 0&&(f=null),this.$6=null,this.$7=null,this.$1=c("immutable").Map(),this.$2={userID:d("ZenonActorHooks").ZenonActor.getID()},this.$3=b,this.$4=new Set(),this.$5=a,this.$6=e,this.$7=f}var b=a.prototype;b.getSignalingClient=function(a){return this.$1.get(a)};b.getSignalingClientWithRemoteSignalingID=function(a){var b=this.$1.find(function(b){return b.getSignalingModel().getRemoteSignalingID()===a&&!b.isTerminated()});return b};b.createSignalingClient=function(a,b,e,f,g,h,i){var j=this;a=(a=a)!=null?a:String(c("randomInt")(0,4294967294)+1);e=new(c("ZenonSignalingModel"))(a,e,{userID:i},b,g,f,h);i=d("ZenonProtocolConfiguration").getConfiguration(e,this.$6);b=i.eventAggregator;g=i.messageSender;f=i.transactionManager;h=new this.$5(e,f,b,this.$3,this.$7);g.setMessageReceiver(function(a){return j.receiveMessage(a)});this.$1=this.$1.set(a,h);return h};b.receiveMessage=function(a){var b=a.getHeader(),c=this.$8(a);if(c==null)return;else a.setSignalingID(c);var d=this.getSignalingClient(c);if(d!=null)d.receiveMessage(a);else{d=this.createSignalingClient(c,b.remoteInfo,b.remoteSignalingID,b.protocol,b.roomInfo,b.actorID,b.userInfo.userID);d.getSignalingModel().updateRemoteSignalingID(b.remoteSignalingID);d.receiveMessage(a)}};b.$8=function(a){var b=a.getHeader(),d=b.signalingID;if(d!=null)return d;if(!this.$9(b.messageID))return null;b=b.remoteSignalingID;if(a.getEvents().some(function(a){return a.eventName==="terminateRequest"})&&b!=null){a=this.getSignalingClientWithRemoteSignalingID(b);a&&(d=a.getSignalingModel().getSignalingID())}if(d==null){b=c("randomInt")(0,4294967294)+1;d=String(b)}return d};b.$9=function(a){if(this.$4.has(a))return!1;this.$4.add(a);return!0};return a}();g["default"]=a}),98);
__d("ZenonSimulcastUtils",["UserAgent","ZenonSimulcastManager","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;a=(a=c("gkx")("527"))!=null?a:!1;return a}function a(a){return a&&i()&&h()}function i(){return c("UserAgent").isBrowser("Chrome >= 88")}function b(){return c("gkx")("527")?d("ZenonSimulcastManager").NUM_LAYERS:1}function e(){return c("qex")._("325")?3:d("ZenonSimulcastManager").MAX_NUM_ACTIVE_LAYERS}g.shouldUseChromeSimulcast=h;g.shouldUseSimulcast=a;g.isCurrentBrowserCompatibleWithSimulcast=i;g.getNumLayers=b;g.getMaxNumLayers=e}),98);
__d("ZenonTransportEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.emitJoinReady=function(a){this.emit("transportPlatformEvent",{messageType:"joinReady",mwRingRequest:a})};c.emitParentWindowConnectionTimeout=function(){this.emit("transportPlatformEvent",{messageType:"parentWindowConnectionTimeout",mwRingRequest:null})};return b}(c("EventEmitter"));b=new a();d=b;g["default"]=d}),98);
__d("XVideoCallTurnDiscoveryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/turndiscovery/",{version:{type:"Int",required:!0},call_id:{type:"String"}})}),null);
__d("ZenonUtils",["AsyncRequest","AsyncResponse","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=6e3;function a(a,b,d,e,f,g){b===void 0&&(b=c("emptyFunction"));d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=h);g===void 0&&(g={});a=new(c("AsyncRequest"))().setURI(a).setData(g).setAllowCrossPageTransition(!0).setHandler(b).setErrorHandler(d).setTimeoutHandler(f,function(a){d(new(c("AsyncResponse"))(a,{}))});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()}g.sendServerRequest=a}),98);
__d("ZenonTurnDiscovery",["Promise","XVideoCallTurnDiscoveryController","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=null;function a(a,e,f){f===void 0&&(f=h);if(i){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({callType:"mw",checkpoint:"[ZP] returning cached TURN credentials"});return i}var g=1,j=c("XVideoCallTurnDiscoveryController").getURIBuilder().setInt("version",g).setString("call_id",a).getURI();c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({callType:"mw",checkpoint:"[ZP] sending TURN server request to url "+j.toString()});i=new(b("Promise"))(function(b,g){h(f);function h(f){d("ZenonUtils").sendServerRequest(j,function(a){a=a.payload;return b(a)},function(){f>0?(c("ZenonDebugLogger").getFBLogger({callID:a,peerID:e}).warn("Failed turn; going to retry"),h(f-1)):g(c("err")("failed"))})}});return i}g.requestTurnCreds=a}),98);
__d("ZenonCallsManager",["invariant","FBLogger","OverlayConfigManagerWithServerLayer","PersistedQueue","Promise","SCTPSignalingListener","ZenonActorHooks","ZenonCallLogger","ZenonConnectionStateManager","ZenonDataUtils","ZenonDebugLogger","ZenonDismissReason","ZenonGraphQLMWMessageSender","ZenonIdentityStoreFactory","ZenonInfraActionsLogger","ZenonMWMessageTranslator","ZenonMessageSenderChain","ZenonMqttMWMessageSender","ZenonMqttUtil","ZenonMultiwayReliabilityLogProcessor","ZenonRTCPeerConnectionConfig","ZenonRTWebBrowserFeatureSupport","ZenonSDKRateLimiter","ZenonSctpMWMessageSender","ZenonSctpMWMessageSenderHelper","ZenonSecureFrameManagerState","ZenonSignalingChildTransport","ZenonSignalingClient","ZenonSignalingClientManager","ZenonSignalingProtocol","ZenonSimulcastUtils","ZenonTransportEventEmitter","ZenonTurnDiscovery","cr:11367","cr:1156","cr:1557768","cr:3246","cr:3249","cr:3250","cr:3454","gkx","immutable","performanceNow","promiseDone","regeneratorRuntime","unrecoverableViolation","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i="E2eeKey";a=function(){function a(a){var e=this;this.$4=new Map();this.$5=null;this.$7=null;this.$8=new(c("ZenonSctpMWMessageSenderHelper"))();this.$7=new(c("ZenonSDKRateLimiter"))();this.$1=c("immutable").Map();this.$2=a;var f=null,g=new(c("ZenonMessageSenderChain"))([new(c("ZenonMqttMWMessageSender"))(),new(c("ZenonGraphQLMWMessageSender"))(),new(c("ZenonSctpMWMessageSender"))(this.$8)]);b("cr:11367")!==null?f=new(b("cr:11367"))(g):f=g;this.$3=new(c("ZenonSignalingClientManager"))(c("ZenonSignalingClient"),function(a,b,c){return e.onInviteReceived(a,b,c)},f,a);this.$6=this.$9();var h=c("performanceNow")(),i=0,j=c("ZenonDebugLogger").getInstance();g=d("ZenonMqttUtil").getMqttChannel();g.getConnectionState()==="Connected"&&(j.logMQTTConnectStats(0,0),h=null,i++);g.subscribeChannelEvents({onMQTTStateChanged:function(a){var b=h;if((a==="Disconnected"||a==="Connecting")&&b==null)h=c("performanceNow")();else if(a==="Connected"&&b!=null){b=Math.round(c("performanceNow")()-b);j.logMQTTConnectStats(b,i);i++;h=null}j.logMQTTStateChange(a)}})}var e=a.prototype;e.$9=function(){var a,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({callType:"mw",checkpoint:"[ZP] starting TURN discovery"});a=Date.now();g.prev=2;g.next=5;return b("regeneratorRuntime").awrap(d("ZenonTurnDiscovery").requestTurnCreds("ZenonPlatform","MW_PEER_ID"));case 5:e=g.sent;c("ZenonRTCPeerConnectionConfig").setTurnCredentials(e);c("gkx")("2890")?(f={ip:e.ip,ssl_tcp_port:e.ssl_tcp_port,tcp_port:e.tcp_port,udp_port:e.udp_port},c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] successfully acquired TURN credentials: "+JSON.stringify(f)+". Took "+(Date.now()-a)+" ms."})):c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] successfully acquired TURN credentials. Took "+(Date.now()-a)+" ms."});g.next=13;break;case 10:g.prev=10,g.t0=g["catch"](2),c("ZenonInfraActionsLogger").logError({callType:"mw",checkpoint:"[ZP] failed to get TURN credentials. Took "+(Date.now()-a)+" ms. Error message: "+g.t0,errorDomain:"ZenonCallsManager_fetchTurnCredentials"});case 13:case"end":return g.stop()}},null,this,[[2,10]])};e.getLogProcessors=function(){var a=[b("cr:3246"),c("ZenonMultiwayReliabilityLogProcessor")];b("cr:1557768")&&a.push(b("cr:1557768"));b("cr:3250")&&a.push(b("cr:3250"));b("cr:3249")&&a.push(b("cr:3249"));b("cr:1156")&&a.push(b("cr:1156"));return a};e.onInviteReceived=function(a,b,e){b=this.$2.getConfigManager().getZenonMultiCallSupportConfig().getMaxConnectedCalls();var f=this.$1.filter(function(a){return a.getConnectionState()!=="terminated"}),g=f.filter(function(b){return b.getServerCallID()===((b=a.roomInfo.context)==null?void 0:b.serverInfoData)});if(g.size>0){e.respondToInvite("OK");return}g=f.some(function(a){return a.getServerCallID()==null});f.size>=b&&(f.size>b&&c("FBLogger")("rtc_www").warn("We have more than supported number of calls occurring"),e.respondToInvite("IN_ANOTHER_CALL"),g||e.sendDismiss(d("ZenonDismissReason").ZenonDismissReason.InAnotherCall))};e.join=function(a){var e,f,g,j,k,l=this,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W;return b("regeneratorRuntime").async(function(X){while(1)switch(X.prev=X.next){case 0:c("PersistedQueue").eventEmitter.emit("active",null);a.peerID!=null||h(0,18600);a.peerIDForJoiningContext!=null||a.roomID!=null||h(0,54965);m={userID:a.peerID};n=a.actorID,o=a.callTrigger,p=a.clientCallID,q=a.isE2eeMandated,r=q===void 0?!1:q,s=a.localMedia,t=a.mwRingRequest,u=a.peerID,v=a.peerIDForJoiningContext,w=a.roomID,x=w===void 0?null:w,y=a.serverCallID,z=a.setE2eeModel,A=a.usersToRing;B={context:{groupThreadID:null,peerID:v,serverInfoData:null},name:x};t!=null&&(t.jsonPayload.header.clientSessionId=(C=y)!=null?C:"");if(!(this.$1.get(p)!=null)){X.next=9;break}throw c("unrecoverableViolation")("Call with id "+p+" already exists. Use a new clientCallID/clientSessionID if rejoining.","rtc_www");case 9:D=null;y!=null&&(D=this.$3.getSignalingClient(y));E=(e=(f=n)!=null?f:t==null?void 0:(g=t.jsonPayload.header.receiver)==null?void 0:g.actorId)!=null?e:null;D==null?D=this.$3.createSignalingClient(y,m,a.serverInfoData,c("ZenonSignalingProtocol").MWPP,B,E,d("ZenonActorHooks").ZenonActor.getID()):D.getSignalingModel().setActorID(E);F=D.getSignalingModel();G=F.getSignalingID();H=t==null;I=(t==null?void 0:(j=t.jsonPayload.body.ringRequest)==null?void 0:(k=j.offer)==null?void 0:k.sdpString)!=null;F.getMediaModeManager().onJoin(H,A.length,I,r);J=this.$4.get(p);J==null&&(L=s.find(function(a){return a.contentType==="video"})!=null,J=new(c("ZenonCallLogger"))({callID:(K=y)!=null?K:p,callTrigger:o,conferenceName:a.roomID,disableTsData:r,isCaller:H,isVideo:L,localCallID:c("uuid")(),peerID:u,protocol:c("ZenonSignalingProtocol").MWPP,serverInfoData:a.serverInfoData,signalingID:G},this.getLogProcessors()),this.$4.set(p,J),c("ZenonInfraActionsLogger").updateCachedValues({signalingID:G}));M=d("ZenonSimulcastUtils").shouldUseSimulcast(!0);D!=null||h(0,23327);if(!(F.getMediaModeManager().getMediaMode()==="p2p")){X.next=25;break}X.next=25;return b("regeneratorRuntime").awrap(this.$6);case 25:if(!(d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&b("cr:3454")!=null&&z!=null)){X.next=43;break}c("ZenonInfraActionsLogger").startTimer("[E2ee] Create Identity Store");X.next=29;return b("regeneratorRuntime").awrap(d("ZenonIdentityStoreFactory").ZenonIdentityStoreFactory.create(r));case 29:Q=X.sent;c("ZenonInfraActionsLogger").stopTimer("[E2ee] Create Identity Store");c("ZenonInfraActionsLogger").startTimer("[E2ee] Create E2ee Components");R=function(a){l.endCall(p,"EndToEndEncryptionInvariantViolated",a)};X.next=35;return b("regeneratorRuntime").awrap(b("cr:3454").createE2eeComponents(r,Q,function(a){var b;(b=J)==null?void 0:b.log({e2eeStats:a,name:"updateE2EEStats"})},function(a,b){var e;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZSFM][E2EE] sending e2ee message containing "+b.length+" bytes to "+a});(e=D)==null?void 0:e.sendGenericDataMessage(i,d("ZenonDataUtils").uint8ArrayToString(b),[a],[])},z,R));case 35:S=X.sent;N=S.encryptionKeysManager;O=S.secureDataMessageManager;P=S.secureFrameManager;c("ZenonInfraActionsLogger").stopTimer("[E2ee] Create E2ee Components");D.setSecureDataMessageManager(O);X.next=44;break;case 43:r&&z==null&&this.endCall(p,"EndToEndEncryptionInvariantViolated","SetE2eeModel is null for e2ee mandated call");case 44:T=new(c("OverlayConfigManagerWithServerLayer"))(this.$2.getConfigManager());U=new(c("ZenonConnectionStateManager"))(p,D,H?"outgoing":"incoming",T,J,this.$8,M,r,P,N);J.log({hasOfferInRingRequest:I,isCaller:H,name:"callJoinRequest"});this.$1=this.$1.set(p,U);X.next=50;return b("regeneratorRuntime").awrap(U.start(a));case 50:c("ZenonInfraActionsLogger").logCheckpoint({callID:y,callType:"mw",checkpoint:"[ZP] ZenonCallsManager_join called, starting connectionStateManager",conferenceName:a.roomID,isCaller:H}),t&&(V=d("ZenonMWMessageTranslator").toSignalingMessage(t),this.$3.receiveMessage(V)),c("gkx")("3864")&&(W=new(c("SCTPSignalingListener"))(U),W.subscribe(function(a){return l.$3.receiveMessage(a)})),c("gkx")("965758")?c("ZenonInfraActionsLogger").logCheckpoint({callID:this.$10(y,p),callType:"mw",checkpoint:"[ZP] Eligible for tslog logging",conferenceName:a.roomID,isCaller:H,serverInfoData:a.serverInfoData}):c("ZenonInfraActionsLogger").logCheckpoint({callID:this.$10(y,p),callType:"mw",checkpoint:"[ZP] Not eligible for tslog logging",conferenceName:a.roomID,isCaller:H,serverInfoData:a.serverInfoData});case 54:case"end":return X.stop()}},null,this)};e.$10=function(a,b){return(a=a)!=null?a:b};e.addLocalTrack=function(a,b){this.$11(a,function(a){a.addLocalTrack(b)})};e.removeLocalTrack=function(a,b){this.$11(a,function(a){a.removeLocalTrack(b)})};e.muteTrack=function(a,b){if(!this.$12("muteTrack"))return;this.$11(a,function(a){a.muteTrack(b)})};e.unmuteTrack=function(a,b){if(!this.$12("unmuteTrack"))return;this.$11(a,function(a){a.unmuteTrack(b)})};e.stopLocalVideo=function(a,b){this.$11(a,function(a){a.stopLocalTrack(b)})};e.initializeV2Infrastructure=function(a,b){var e=b.actorID,f=b.callID,g=b.callTrigger,h=b.initializeVideo,i=b.peerID,j=b.peerIDForJoiningContext,k=b.roomID;k=k===void 0?null:k;b=b.serverInfoData;var l={userID:i};j={context:{groupThreadID:null,peerID:j,serverInfoData:null},name:k};j=this.$3.createSignalingClient(f==null?void 0:String(f),l,b,c("ZenonSignalingProtocol").MWPP,j,(l=e)!=null?l:null,d("ZenonActorHooks").ZenonActor.getID());e=j.getSignalingModel().getSignalingID();l=new(c("ZenonCallLogger"))({callID:f==null?a:String(f),callTrigger:g,conferenceName:k,isCaller:!0,isVideo:h,localCallID:c("uuid")(),peerID:i,protocol:c("ZenonSignalingProtocol").MWPP,serverInfoData:b,signalingID:e},this.getLogProcessors());this.$4.set(a,l);c("ZenonInfraActionsLogger").updateCachedValues({signalingID:e})};e.initializeSignaling=function(a,b,e,f){var g=this,h=this.$2.getSignalingListener();h.subscribe(function(a){return g.$3.receiveMessage(a)},function(a){});h=d("ZenonMqttUtil").getMqttChannel();c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Subscribed to MQTT channels. MQTT connection state: "+h.getConnectionState()});h=this.$2.getConfigManager().getZenonStartCallImmediatelyConfig().isEnabled();if(h)c("ZenonTransportEventEmitter").emitJoinReady();else if(b!=null){h=this.$2.getConfigManager().getZenonPlatformSupportConfig().getParentWindowConnectionTimeoutMs();this.$5=new(c("ZenonSignalingChildTransport"))(b,a,h,e,f)}else c("ZenonTransportEventEmitter").emitParentWindowConnectionTimeout();this.$5&&c("promiseDone")(this.$5.connect(),function(a){a.state==="join_ready"?c("ZenonTransportEventEmitter").emitJoinReady(a.mwRingRequest):c("ZenonTransportEventEmitter").emitParentWindowConnectionTimeout()})};e.endCall=function(a,b,e){b=d("ZenonDismissReason").endCallToDismissReason(b);var f=this.$1.get(a);if(f)f.end(b,e);else{f=this.$4.get(a);f!=null?f.log({endCallReason:b,endCallSubreason:e,isRemoteEnded:!1,name:"callEnded"}):c("FBLogger")("rtc_www").warn("ZenonCallLogger missing for endCall")}};e.ringParticipants=function(a,b){this.$11(a,function(a){a.addParticipants(b)})};e.removeParticipants=function(a,b){this.$11(a,function(a){a.removeParticipants(b)})};e.replaceLocalTrack=function(a,c,d,e){e===void 0;this.$11(a,function(a){a.replaceLocalTrack(c,d)});return b("Promise").resolve()};e.forceEncodingEnabled=function(a,b){this.$11(a,function(a){a.forceEncodingEnabled(b)})};e.submitRating=function(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);a=this.$4.get(a);a&&(b!=null&&a.log({name:"callRated",rating:b}),c!=null&&a.log({feedback:c,name:"callFeedbackSubmitted"}),d!=null&&a.log({name:"callSurveyChoiceSubmitted",surveyChoice:d}))};e.setRatingImpression=function(a,b){};e.setLinkSurface=function(a,b){a=this.$4.get(a);if(!a)return;b!=null&&a.log({linkSurface:b,name:"setLinkSurface"})};e.getCalls=function(){return this.$1};e.setCalls=function(a){this.$1=a};e.createDataMessageSubscription=function(a,b,c){this.$11(a,function(a){a.createDataMessageSubscription(b,c)})};e.removeDataMessageSubscription=function(a,b,c){this.$11(a,function(a){a.removeDataMessageSubscription(b,c)})};e.sendGenericDataMessage=function(a,b,c,d,e){if(!this.$12("dataMessage-"+b))return;this.$11(a,function(a){a.sendGenericDataMessage(b,c,d,e)})};e.getLogIdentifiers=function(a){return(a=this.$4.get(a))==null?void 0:a.getLogIdentifiers()};e.subscribeToRemoteVideo=function(a,b,c){a=this.$1.get(a);a!=null&&a.subscribeToRemoteVideo(b,c)};e.updateStateSyncTopic=function(a,b,c){if(!this.$12("updateStateSync-"+b))return;this.$11(a,function(a){a.updateStateSyncTopic(b,c)})};e.unsubscribeFromStateSyncTopic=function(a,b){this.$11(a,function(a){a.unsubscribeFromStateSyncTopic(b)})};e.approveParticipants=function(a,b){this.$11(a,function(a){a.approveParticipants(b.toArray())})};e.denyParticipants=function(a,b){this.$11(a,function(a){a.denyParticipants(b.toArray())})};e.getSdpFormat=function(a){return this.$11(a,function(a){return a.getSdpFormat()})};e.getSecureFrameManagerState=function(a){a=this.$11(a,function(a){return a.getSecureFrameManagerState()});return a===null?d("ZenonSecureFrameManagerState").ZenonSecureFrameManagerState$DefaultConstructor():a};e.getSignalingProtocol=function(a){a=this.$13(a);return a==null?null:(a=this.$3.getSignalingClientWithRemoteSignalingID(a))==null?void 0:a.getSignalingModel().getProtocol()};e.getMediaMode=function(a){a=this.$13(a);return a==null?null:(a=this.$3.getSignalingClientWithRemoteSignalingID(a))==null?void 0:a.getSignalingModel().getMediaModeManager().getMediaMode()};e.getConferenceName=function(a){a=this.$13(a);return a==null?null:(a=this.$3.getSignalingClientWithRemoteSignalingID(a))==null?void 0:a.getSignalingModel().getRoomInfo().name};e.$13=function(a){return this.$11(a,function(a){return a.getServerCallID()})};e.$12=function(a){if(this.$7&&!this.$7.take(a)){c("FBLogger")("rtc_www").mustfix("[ZP] Dropping "+a+" invocation. This SDK method is being called too rapidly.");return!1}return!0};e.$11=function(a,b){a=this.$1.get(a);return a!=null?b(a):null};return a}();g["default"]=a}),98);
__d("ZenonClientTslogUploader",["DateConsts","ZenonInfraActionsLogger","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=5*d("DateConsts").MS_PER_MIN,i=2e5,j="[ZP] Tslog Uploader";a=function(){function a(a,b){a===void 0&&(a=function(){});this.$1=function(){};this.$3=null;this.$4=1;this.$5=0;this.$6=h;this.$7=i;this.$1=a;this.$2=b;this.$6=(a=c("qex")._("911"))!=null?a:h;this.$7=(b=c("qex")._("912"))!=null?b:i}var b=a.prototype;b.$8=function(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:j+" - "+a})};b.$9=function(a,b,c){a=a.timeSeries;if(a==null||a.length===0){this.$8("TSLog is empty - stop sending");return}var d=a.length-this.$5;if(b||d>=c){this.$5=a.length;this.$8("TSLog chunk ID: "+this.$4+" with length "+d+" >= "+c+" will be sent and isTerminal: "+(b?"1":"0"));a=this.getSimulatedTslogWithSize(d);this.$1({name:"logTSData",serializedTSLog:{format:"EXPERIMENTAL",isTerminal:b,sequenceNumber:this.$4,timeSeries:a}});this.$4+=1}else this.$8("TSLog chunk ID: "+this.$4+" with length "+d+" < "+c+" is not sent")};b.$10=function(a,b,d){var e=a.timeSeries;if(e==null||e.length===0){this.$8("TSLog is empty - stop sending");return}var f=e.length;if(b||f>=d){this.$8("TSLog chunk ID: "+this.$4+" with length "+f+" >= "+d+" will be sent and isTerminal: "+(b?"1":"0"));if(c("gkx")("2718"))return;this.$1({name:"logTSData",serializedTSLog:{format:a.format,isTerminal:b,sequenceNumber:this.$4,timeSeries:e}});this.$2.resetTimeSeries();this.$4+=1}else this.$8("TSLog chunk ID: "+this.$4+" with length "+f+" < "+d+" is not sent")};b.$11=function(a,b){var d=this.$7;c("gkx")("2475")?this.$10(a,b,d):this.$9(a,b,d)};b.$12=function(){this.$3!=null&&(this.$8("Ending polling"),window.clearInterval(this.$3),this.$3=null)};b.$13=function(){var a=this;this.$3==null&&(this.$4=1,this.$3=window.setInterval(function(){a.$14()},this.$6))};b.$14=function(){var a=this.$2.timeSeries();this.$11(a,!1)};b.$15=function(){if(c("gkx")("2718")){this.$8("TSLog collection is stopped by gk - stop sending");return!0}return!1};b.getSimulatedTslogWithSize=function(a){return Array(a+1).join("a")};b.stopTslogUploadInChunks=function(){this.$12();if(this.$15())return;var a=this.$2.timeSeries();this.$11(a,!0)};b.logTslogInChunks=function(){if(this.$15())return;this.$8("Call is sending chunked TSLogs");this.$13()};b.logTslog=function(){if(this.$15())return;var a=this.$2.timeSeries();if(a.timeSeries==null||a.timeSeries.length===0){this.$8("TSLog is empty - stop sending from logTslog");return}this.$1({name:"logTSData",serializedTSLog:a})};return a}();g["default"]=a}),98);
__d("ZenonPeerConnectionDataActions",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(b.type==="createDataChannel"){b=b.payload;var c=b.dataChannelEstablished,d=b.dataChannelLabel,e=b.onDataChannelMessage;b=b.onDataChannelOpen;a.mediaChannelManager.createDataChannel(d,e,b,c)}};b=function(a,b){if(b.type==="dataChannelMessageReceived"){b=b.payload;var c=b.data;b=b.dataChannelLabel;a.onDataChannelMessageReceived(b,c)}};c=function(a,b){if(b.type==="createDataMessageSubscription"){b=b.payload;var c=b.dataChannelLabel;b=b.onSignalingDataMessage;a.onCreateDataMessageSubscription(c,b)}};d=function(a,b){if(b.type==="removeDataMessageSubscription"){b=b.payload;var c=b.dataChannelLabel;b=b.onSignalingDataMessage;a.onRemoveDataMessageSubscription(c,b)}};f.onCreateDataChannel=a;f.onDataChannelMessageReceived=b;f.onCreateDataMessageSubscription=c;f.onRemoveDataMessageSubscription=d}),66);
__d("ZenonPeerConnectionIceActions",["ZenonInfraActionsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={onIceConnected:function(a){a.onConnectionEstablished()},onIceConnectionStateChanged:function(a,b){if(b.type==="iceConnectionStateChange"){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"iceConnectionStateChange: "+b.payload.iceConnectionState});var d=b.payload.iceConnectionState==="connected"||b.payload.iceConnectionState==="completed",e=b.payload.iceConnectionState==="disconnected"||b.payload.iceConnectionState==="failed";d?h.onIceConnected(a):e&&a.onConnectionDropped();return b.payload}return{}}};a=h;g["default"]=a}),98);
__d("ZenonPeerConnectionMediaActions",["AggregateError","Promise","ZenonInfraActionsLogger","ZenonLoggingEventTypes","err","gkx","promiseDone","qex","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";f=function(a,b){b.type==="applyRemoteIceCandidate"&&b.payload!=null&&c("promiseDone")(a.sdpManager.setRemoteIceCandidate(b.payload),function(){a.logEvent({direction:d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive,name:"updateIceInfo",sdpString:b.payload.candidate})})};var h=function(a,b){c("ZenonInfraActionsLogger").logError({checkpoint:"Failed to add local tracks: "+b.data.toString(),errorDomain:"ZenonPeerConnectionMediaActions_onAddLocalTracks"})},i=function(a,b){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Successfully added local tracks"});return b.data},j=function(a,d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:if(!(d.type!=="addLocalTracks")){h.next=2;break}return h.abrupt("return",{});case 2:e=d.payload.tracks;f=[];h.next=6;return b("regeneratorRuntime").awrap(b("Promise").allSettled(e.map(function(c){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(a.mediaChannelManager.addTrack(c,d.payload.mediaMode));case 2:z(a,c.trackId,c.enabled);case 3:case"end":return e.stop()}},null,this)})));case 6:g=h.sent;g.forEach(function(a){a.status==="rejected"&&f.push(c("err")(a.reason))});if(!(f.length>0)){h.next=10;break}throw new(c("AggregateError"))(f);case 10:a.mediaChannelManager.addReceiveOnlyVideoTransceiverIfNeeded(d.payload.mediaMode,d.payload.callInitiator);c("gkx")("1829601")&&a.mediaChannelManager.addInactiveAudioTransceiverIfNeeded();c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"add local tracks"});return h.abrupt("return",{localMediaStateVersion:a.localMediaStateVersion+e.length});case 14:case"end":return h.stop()}},null,this)},k=function(a,b){if(b.type!=="forceEncodingEnabled")return;a.mediaChannelManager.forceEncodingEnabled(b.payload.enabled)},l=function(a,b){b.type==="iceCandidateReady"&&a.onIceCandidateReady(b.payload)},m=function(a,b){if(b.type!=="localMediaStateUpdateRetry")return{};c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"local media state update retry with media status only"});b=A(a);a=b.localMediaStateVersion;return{localMediaStateUpdateRetryTimerId:null,localMediaStateVersion:a}},n=function(a,b){if(b.type==="muteLocalTrack"){a=y(a,b.payload.trackId,!1);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"mute local track"});return a}return{}},o=function(a,b){c("ZenonInfraActionsLogger").logError({checkpoint:"Failed to remove local track: "+b.data.toString(),errorDomain:"ZenonPeerConnectionMediaActions_onRemoveLocalTracks"})},p=function(a,b){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Successfully removed local track"});return b.data},q=function(a,d){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:if(!(d.type!=="removeLocalTrack")){g.next=2;break}return g.abrupt("return",{});case 2:e=d.payload.trackId;g.next=5;return b("regeneratorRuntime").awrap(a.mediaChannelManager.removeTrack(e));case 5:f=y(a,e,!1);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"remove local track with id "+e});return g.abrupt("return",f);case 8:case"end":return g.stop()}},null,this)},r=function(a,b){c("ZenonInfraActionsLogger").logError({checkpoint:"Failed to replace local tracks: "+b.data.toString(),errorDomain:"ZenonPeerConnectionMediaActions_onReplaceLocalTrack"})},s=function(a,d){var e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(!(d.type!=="replaceLocalTrack")){i.next=2;break}return i.abrupt("return",a);case 2:e=d.payload,f=e.replacementTrack,g=e.trackIdToReplace;i.next=5;return b("regeneratorRuntime").awrap(a.mediaChannelManager.replaceTrack(g,f));case 5:h=y(a,d.payload.trackIdToReplace,!1);h=y(babelHelpers["extends"]({},a,h),d.payload.replacementTrack.trackId,d.payload.replacementTrack.enabled);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"replace local track with id "+g+" by track "+f.trackId});return i.abrupt("return",h);case 9:case"end":return i.stop()}},null,this)},t=function(a,b){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Successfully replaced local track"});return b.data},u=function(a,b){return b.type!=="setLocalMediaStateVersion"?{}:{localMediaStateVersion:b.payload.version}},v=function(a,b){if(b.type!=="stopLocalTrack")return;b=b.payload.trackId;a.mediaChannelManager.stopLocalTrack(b)},w=function(a,b){if(b.type==="unmuteLocalTrack"){a=y(a,b.payload.trackId,!0);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"unmute local track"});return a}return{}};function a(a,b){if(b.type!=="applyMediaUpdate")return;x(a.mediaChannelManager,b.payload.mediaStates)}function x(a,b,c){c===void 0&&(c=!0),b&&(b.tracks.forEach(function(b){var c=b.enabled,d=b.trackID;if(d==="data"||d==="stream_label")return;a.updateTrackInfo(b);c?a.unmuteTrack(d):a.muteTrack(d)}),c&&a.removeMissingTracks(b.tracks.map(function(a){return a.trackID})))}function y(a,b,c){z(a,b,c);return A(a)}function z(a,b,c){a=a.mediaChannelManager;c?a.unmuteTrack(b):a.muteTrack(b)}function A(a){var b=a.mediaChannelManager,c=[];b=b.getLocalTracksForMWS();b.forEach(function(a){a={enabled:a.enabled,name:a.name,trackID:a.trackId,type:a.contentType};c.push(a)});b=a.localMediaStateVersion+1;var d={tracks:c,version:b};a.onLocalMediaStateUpdate(d);return{localMediaStateVersion:b}}function e(a){c("qex")._("1747")&&a.tslogUploader.logTslogInChunks()}g.applyRemoteIceCandidate=f;g.onAddLocalTracksError=h;g.onAddedLocalTracks=i;g.onAddingLocalTracks=j;g.onForceEncodingEnabled=k;g.onIceCandidateReady=l;g.onLocalMediaStateUpdateRetry=m;g.onMuteLocalTrack=n;g.onRemoveLocalTrackError=o;g.onRemovedLocalTrack=p;g.onRemovingLocalTrack=q;g.onReplaceLocalTrackError=r;g.onReplacingLocalTrack=s;g.onReplacedLocalTrack=t;g.onSetLocalMediaStateVersion=u;g.onStopLocalTrack=v;g.onUnmuteLocalTrack=w;g.onApplyMediaUpdate=a;g.applyMediaStates=x;g.startTslog=e}),98);
__d("ZenonPeerConnectionSMGuards",["ZenonDebugLogger","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=b.type==="applyRemoteSdp"&&b.payload.sdp.type==="offer";c("ZenonDebugLogger").getInstance().logGuardsResults("applyRemoteOfferSdpGuard",a);return a}function b(a,b){a=b.type==="applyRemoteSdp"&&b.payload.sdp.type==="answer";c("ZenonDebugLogger").getInstance().logGuardsResults("applyRemoteAnswerSdpGuard",a);return a}function d(a,b){a=b.type==="iceConnectionStateChange"&&(b.payload.iceConnectionState==="connected"||b.payload.iceConnectionState==="completed");c("ZenonDebugLogger").getInstance().logGuardsResults("iceConnectedEventGuard",a);return a}function e(a){a=a.iceConnectionState==="connected"||a.iceConnectionState==="completed";c("ZenonDebugLogger").getInstance().logGuardsResults("iceConnectedGuard",a);return a}function f(a){a=(a.iceConnectionState==="connected"||a.iceConnectionState==="completed")&&!c("justknobx")._("430");c("ZenonDebugLogger").getInstance().logGuardsResults("iceConnectedGuardLegacy",a);return a}function h(a){a=a.iceConnectionState!=="connected"&&a.iceConnectionState!=="completed"&&!c("justknobx")._("430");c("ZenonDebugLogger").getInstance().logGuardsResults("iceNotConnectedGuardLegacy",a);return a}function i(a,b){a=b.type==="iceConnectionStateChange"&&b.payload.iceConnectionState==="disconnected";c("ZenonDebugLogger").getInstance().logGuardsResults("iceDisconnectedEventGuard",a);return a}function j(a){a=a.iceConnectionState!=="connected"&&a.iceConnectionState!=="completed";c("ZenonDebugLogger").getInstance().logGuardsResults("iceNotConnectedGuard",a);return a}function k(a){a=(a=a.outstandingLocalOffer)!=null?a:!1;c("ZenonDebugLogger").getInstance().logGuardsResults("outstandingLocalOfferGuard",a);return a}g.applyRemoteOfferSdpGuard=a;g.applyRemoteAnswerSdpGuard=b;g.iceConnectedEventGuard=d;g.iceConnectedGuard=e;g.iceConnectedGuardLegacy=f;g.iceNotConnectedGuardLegacy=h;g.iceDisconnectedEventGuard=i;g.iceNotConnectedGuard=j;g.outstandingLocalOfferGuard=k}),98);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-grammar",[],(function $module_sdp_transform_grammar(global,require,requireDynamic,requireLazy,module,exports){

var grammar = module.exports = {
  v: [{
    name: 'version',
    reg: /^(\d*)$/
  }],
  o: [{ //o=- 20518 0 IN IP4 203.0.113.1
    // NB: sessionId will be a String in most cases because it is huge
    name: 'origin',
    reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],
    format: '%s %s %d %s IP%d %s'
  }],
  // default parsing of these only (though some of these feel outdated)
  s: [{ name: 'name' }],
  i: [{ name: 'description' }],
  u: [{ name: 'uri' }],
  e: [{ name: 'email' }],
  p: [{ name: 'phone' }],
  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly..
  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly
  //k: [{}], // outdated thing ignored
  t: [{ //t=0 0
    name: 'timing',
    reg: /^(\d*) (\d*)/,
    names: ['start', 'stop'],
    format: '%d %d'
  }],
  c: [{ //c=IN IP4 10.47.197.26
    name: 'connection',
    reg: /^IN IP(\d) (\S*)/,
    names: ['version', 'ip'],
    format: 'IN IP%d %s'
  }],
  b: [{ //b=AS:4000
    push: 'bandwidth',
    reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
    names: ['type', 'limit'],
    format: '%s:%s'
  }],
  m: [{ //m=video 51744 RTP/AVP 126 97 98 34 31
    // NB: special - pushes to session
    // TODO: rtp/fmtp should be filtered by the payloads found here?
    reg: /^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,
    names: ['type', 'port', 'protocol', 'payloads'],
    format: '%s %d %s %s'
  }],
  a: [
    { //a=rtpmap:110 opus/48000/2
      push: 'rtp',
      reg: /^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
      names: ['payload', 'codec', 'rate', 'encoding'],
      format: function (o) {
        return (o.encoding) ?
          'rtpmap:%d %s/%s/%s':
          o.rate ?
          'rtpmap:%d %s/%s':
          'rtpmap:%d %s';
      }
    },
    { //a=fmtp:108 profile-level-id=24;object=23;bitrate=64000
      //a=fmtp:111 minptime=10; useinbandfec=1
      push: 'fmtp',
      reg: /^fmtp:(\d*) ([\S| ]*)/,
      names: ['payload', 'config'],
      format: 'fmtp:%d %s'
    },
    { //a=control:streamid=0
      name: 'control',
      reg: /^control:(.*)/,
      format: 'control:%s'
    },
    { //a=rtcp:65179 IN IP4 193.84.77.194
      name: 'rtcp',
      reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
      names: ['port', 'netType', 'ipVer', 'address'],
      format: function (o) {
        return (o.address != null) ?
          'rtcp:%d %s IP%d %s':
          'rtcp:%d';
      }
    },
    { //a=rtcp-fb:98 trr-int 100
      push: 'rtcpFbTrrInt',
      reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
      names: ['payload', 'value'],
      format: 'rtcp-fb:%d trr-int %d'
    },
    { //a=rtcp-fb:98 nack rpsi
      push: 'rtcpFb',
      reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
      names: ['payload', 'type', 'subtype'],
      format: function (o) {
        return (o.subtype != null) ?
          'rtcp-fb:%s %s %s':
          'rtcp-fb:%s %s';
      }
    },
    { //a=extmap:2 urn:ietf:params:rtp-hdrext:toffset
      //a=extmap:1/recvonly URI-gps-string
      push: 'ext',
      reg: /^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,
      names: ['value', 'direction', 'uri', 'config'],
      format: function (o) {
        return 'extmap:%d' + (o.direction ? '/%s' : '%v') + ' %s' + (o.config ? ' %s' : '');
      }
    },
    { //a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32
      push: 'crypto',
      reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
      names: ['id', 'suite', 'config', 'sessionConfig'],
      format: function (o) {
        return (o.sessionConfig != null) ?
          'crypto:%d %s %s %s':
          'crypto:%d %s %s';
      }
    },
    { //a=setup:actpass
      name: 'setup',
      reg: /^setup:(\w*)/,
      format: 'setup:%s'
    },
    { //a=mid:1
      name: 'mid',
      reg: /^mid:([^\s]*)/,
      format: 'mid:%s'
    },
    { //a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a
      name: 'msid',
      reg: /^msid:(.*)/,
      format: 'msid:%s'
    },
    { //a=ptime:20
      name: 'ptime',
      reg: /^ptime:(\d*)/,
      format: 'ptime:%d'
    },
    { //a=maxptime:60
      name: 'maxptime',
      reg: /^maxptime:(\d*)/,
      format: 'maxptime:%d'
    },
    { //a=sendrecv
      name: 'direction',
      reg: /^(sendrecv|recvonly|sendonly|inactive)/
    },
    { //a=ice-lite
      name: 'icelite',
      reg: /^(ice-lite)/
    },
    { //a=ice-ufrag:F7gI
      name: 'iceUfrag',
      reg: /^ice-ufrag:(\S*)/,
      format: 'ice-ufrag:%s'
    },
    { //a=ice-pwd:x9cml/YzichV2+XlhiMu8g
      name: 'icePwd',
      reg: /^ice-pwd:(\S*)/,
      format: 'ice-pwd:%s'
    },
    { //a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33
      name: 'fingerprint',
      reg: /^fingerprint:(\S*) (\S*)/,
      names: ['type', 'hash'],
      format: 'fingerprint:%s %s'
    },
    { //a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host
      //a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10
      //a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10
      //a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10
      //a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10
      push:'candidates',
      reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],
      format: function (o) {
        var str = 'candidate:%s %d %s %d %s %d typ %s';

        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';

        // NB: candidate has three optional chunks, so %void middles one if it's missing
        str += (o.tcptype != null) ? ' tcptype %s' : '%v';

        if (o.generation != null) {
          str += ' generation %d';
        }

        str += (o['network-id'] != null) ? ' network-id %d' : '%v';
        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';
        return str;
      }
    },
    { //a=end-of-candidates (keep after the candidates line for readability)
      name: 'endOfCandidates',
      reg: /^(end-of-candidates)/
    },
    { //a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...
      name: 'remoteCandidates',
      reg: /^remote-candidates:(.*)/,
      format: 'remote-candidates:%s'
    },
    { //a=ice-options:trickle fb-force-5245
      name: 'iceOptions',
      reg: /^ice-options:(.*)/,
      format: 'ice-options:%s'
    },
    { //a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1
      push: 'ssrcs',
      reg: /^ssrc:(\d*) ([\w_]*)(?::(.*))?/,
      names: ['id', 'attribute', 'value'],
      format: function (o) {
        var str = 'ssrc:%d';
        if (o.attribute != null) {
          str += ' %s';
          if (o.value != null) {
            str += ':%s';
          }
        }
        return str;
      }
    },
    { //a=ssrc-group:FEC 1 2
      //a=ssrc-group:FEC-FR 3004364195 1080772241
      push: 'ssrcGroups',
      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E
      reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
      names: ['semantics', 'ssrcs'],
      format: 'ssrc-group:%s %s'
    },
    { //a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV
      name: 'msidSemantic',
      reg: /^msid-semantic:\s?(\w*) (\S*)/,
      names: ['semantic', 'token'],
      format: 'msid-semantic: %s %s' // space after ':' is not accidental
    },
    { //a=group:BUNDLE audio video
      push: 'groups',
      reg: /^group:(\w*) (.*)/,
      names: ['type', 'mids'],
      format: 'group:%s %s'
    },
    { //a=rtcp-mux
      name: 'rtcpMux',
      reg: /^(rtcp-mux)/
    },
    { //a=rtcp-rsize
      name: 'rtcpRsize',
      reg: /^(rtcp-rsize)/
    },
    { //a=sctpmap:5000 webrtc-datachannel 1024
      name: 'sctpmap',
      reg: /^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,
      names: ['sctpmapNumber', 'app', 'maxMessageSize'],
      format: function (o) {
        return (o.maxMessageSize != null) ?
          'sctpmap:%s %s %s' :
          'sctpmap:%s %s';
      }
    },
    { //a=x-google-flag:conference
      name: 'xGoogleFlag',
      reg: /^x-google-flag:([^\s]*)/,
      format: 'x-google-flag:%s'
    },
    { //a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0
      push: 'rids',
      reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
      names: ['id', 'direction', 'params'],
      format: function (o) {
        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';
      }
    },
    { //a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]
      //a=imageattr:* send [x=800,y=640] recv *
      //a=imageattr:100 recv [x=320,y=240]
      push: 'imageattrs',
      reg: new RegExp(
        //a=imageattr:97
        '^imageattr:(\\d+|\\*)' +
        //send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]
        '[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)' +
        //recv [x=330,y=250]
        '(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?'
      ),
      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],
      format: function (o) {
        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    { //a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8
      //a=simulcast:recv 1;4,5 send 6;7
      name: 'simulcast',
      reg: new RegExp(
        //a=simulcast:
        '^simulcast:' +
        //send 1,2,3;~4,~5
        '(send|recv) ([a-zA-Z0-9\\-_~;,]+)' +
        //space + recv 6;~7,~8
        '(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?' +
        //end
        '$'
      ),
      names: ['dir1', 'list1', 'dir2', 'list2'],
      format: function (o) {
        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    { //Old simulcast draft 03 (implemented by Firefox)
      //  https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03
      //a=simulcast: recv pt=97;98 send pt=97
      //a=simulcast: send rid=5;6;7 paused=6,7
      name: 'simulcast_03',
      reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
      names: ['value'],
      format: 'simulcast: %s'
    },
    {
      //a=framerate:25
      //a=framerate:29.97
      name: 'framerate',
      reg: /^framerate:(\d+(?:$|\.\d+))/,
      format: 'framerate:%s'
    },
    { // any a= that we don't understand is kepts verbatim on media.invalid
      push: 'invalid',
      names: ['value']
    }
  ]
};

// set sensible defaults to avoid polluting the grammar with boring details
Object.keys(grammar).forEach(function (key) {
  var objs = grammar[key];
  objs.forEach(function (obj) {
    if (!obj.reg) {
      obj.reg = /(.*)/;
    }
    if (!obj.format) {
      obj.format = '%s';
    }
  });
});

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-parser",["sdp-transform-grammar"],(function $module_sdp_transform_parser(global,require,requireDynamic,requireLazy,module,exports){

var toIntIfInt = function (v) {
  return String(Number(v)) === v ? Number(v) : v;
};

var attachProperties = function (match, location, names, rawName) {
  if (rawName && !names) {
    location[rawName] = toIntIfInt(match[1]);
  }
  else {
    for (var i = 0; i < names.length; i += 1) {
      if (match[i+1] != null) {
        location[names[i]] = toIntIfInt(match[i+1]);
      }
    }
  }
};

var parseReg = function (obj, location, content) {
  var needsBlank = obj.name && obj.names;
  if (obj.push && !location[obj.push]) {
    location[obj.push] = [];
  }
  else if (needsBlank && !location[obj.name]) {
    location[obj.name] = {};
  }
  var keyLocation = obj.push ?
    {} :  // blank object that will be pushed
    needsBlank ? location[obj.name] : location; // otherwise, named location or root

  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);

  if (obj.push) {
    location[obj.push].push(keyLocation);
  }
};

var grammar = require('sdp-transform-grammar');
var validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);

exports.parse = function (sdp) {
  var session = {}
    , media = []
    , location = session; // points at where properties go under (one of the above)

  // parse lines we understand
  sdp.split(/(\r\n|\r|\n)/).filter(validLine).forEach(function (l) {
    var type = l[0];
    var content = l.slice(2);
    if (type === 'm') {
      media.push({rtp: [], fmtp: []});
      location = media[media.length-1]; // point at latest media line
    }

    for (var j = 0; j < (grammar[type] || []).length; j += 1) {
      var obj = grammar[type][j];
      if (obj.reg.test(content)) {
        return parseReg(obj, location, content);
      }
    }
  });

  session.media = media; // link it up
  return session;
};

var paramReducer = function (acc, expr) {
  var s = expr.split(/=(.+)/, 2);
  if (s.length === 2) {
    acc[s[0]] = toIntIfInt(s[1]);
  }
  return acc;
};

exports.parseParams = function (str) {
  return str.split(/\;\s?/).reduce(paramReducer, {});
};

// For backward compatibility - alias will be removed in 3.0.0
exports.parseFmtpConfig = exports.parseParams;

exports.parsePayloads = function (str) {
  return str.split(' ').map(Number);
};

exports.parseRemoteCandidates = function (str) {
  var candidates = [];
  var parts = str.split(' ').map(toIntIfInt);
  for (var i = 0; i < parts.length; i += 3) {
    candidates.push({
      component: parts[i],
      ip: parts[i + 1],
      port: parts[i + 2]
    });
  }
  return candidates;
};

exports.parseImageAttributes = function (str) {
  return str.split(' ').map(function (item) {
    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});
  });
};

exports.parseSimulcastStreamList = function (str) {
  return str.split(';').map(function (stream) {
    return stream.split(',').map(function (format) {
      var scid, paused = false;

      if (format[0] !== '~') {
        scid = toIntIfInt(format);
      } else {
        scid = toIntIfInt(format.substring(1, format.length));
        paused = true;
      }

      return {
        scid: scid,
        paused: paused
      };
    });
  });
};

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-writer",["sdp-transform-grammar"],(function $module_sdp_transform_writer(global,require,requireDynamic,requireLazy,module,exports){

var grammar = require('sdp-transform-grammar');

// customized util.format - discards excess arguments and can void middle ones
var formatRegExp = /%[sdv%]/g;
var format = function (formatStr) {
  var i = 1;
  var args = arguments;
  var len = args.length;
  return formatStr.replace(formatRegExp, function (x) {
    if (i >= len) {
      return x; // missing argument
    }
    var arg = args[i];
    i += 1;
    switch (x) {
    case '%%':
      return '%';
    case '%s':
      return String(arg);
    case '%d':
      return Number(arg);
    case '%v':
      return '';
    }
  });
  // NB: we discard excess arguments - they are typically undefined from makeLine
};

var makeLine = function (type, obj, location) {
  var str = obj.format instanceof Function ?
    (obj.format(obj.push ? location : location[obj.name])) :
    obj.format;

  var args = [type + '=' + str];
  if (obj.names) {
    for (var i = 0; i < obj.names.length; i += 1) {
      var n = obj.names[i];
      if (obj.name) {
        args.push(location[obj.name][n]);
      }
      else { // for mLine and push attributes
        args.push(location[obj.names[i]]);
      }
    }
  }
  else {
    args.push(location[obj.name]);
  }
  return format.apply(null, args);
};

// RFC specified order
// TODO: extend this with all the rest
var defaultOuterOrder = [
  'v', 'o', 's', 'i',
  'u', 'e', 'p', 'c',
  'b', 't', 'r', 'z', 'a'
];
var defaultInnerOrder = ['i', 'c', 'b', 'a'];


module.exports = function (session, opts) {
  opts = opts || {};
  // ensure certain properties exist
  if (session.version == null) {
    session.version = 0; // 'v=0' must be there (only defined version atm)
  }
  if (session.name == null) {
    session.name = ' '; // 's= ' must be there if no meaningful name set
  }
  session.media.forEach(function (mLine) {
    if (mLine.payloads == null) {
      mLine.payloads = '';
    }
  });

  var outerOrder = opts.outerOrder || defaultOuterOrder;
  var innerOrder = opts.innerOrder || defaultInnerOrder;
  var sdp = [];

  // loop through outerOrder for matching properties on session
  outerOrder.forEach(function (type) {
    grammar[type].forEach(function (obj) {
      if (obj.name in session && session[obj.name] != null) {
        sdp.push(makeLine(type, obj, session));
      }
      else if (obj.push in session && session[obj.push] != null) {
        session[obj.push].forEach(function (el) {
          sdp.push(makeLine(type, obj, el));
        });
      }
    });
  });

  // then for each media line, follow the innerOrder
  session.media.forEach(function (mLine) {
    sdp.push(makeLine('m', grammar.m[0], mLine));

    innerOrder.forEach(function (type) {
      grammar[type].forEach(function (obj) {
        if (obj.name in mLine && mLine[obj.name] != null) {
          sdp.push(makeLine(type, obj, mLine));
        }
        else if (obj.push in mLine && mLine[obj.push] != null) {
          mLine[obj.push].forEach(function (el) {
            sdp.push(makeLine(type, obj, el));
          });
        }
      });
    });
  });

  return sdp.join('\r\n') + '\r\n';
};

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform",["sdp-transform-parser","sdp-transform-writer"],(function $module_sdp_transform(global,require,requireDynamic,requireLazy,module,exports){

var parser = require('sdp-transform-parser');
var writer = require('sdp-transform-writer');

exports.write = writer;
exports.parse = parser.parse;
exports.parseFmtpConfig = parser.parseFmtpConfig;
exports.parseParams = parser.parseParams;
exports.parsePayloads = parser.parsePayloads;
exports.parseRemoteCandidates = parser.parseRemoteCandidates;
exports.parseImageAttributes = parser.parseImageAttributes;
exports.parseSimulcastStreamList = parser.parseSimulcastStreamList;

/*  */}),null);
/**
 * Copyright @ 2015 Atlassian Pty Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Modified by Meta.
 *
 * @emails oncall+rp_rooms_infra_www
 * 
 * @format
 * @oncall rp_rooms_infra_www
 * @preserve-header
 * @preserve-whitespace
 */__d("ZenonSDPInteropTransform",["sdp-transform"],(function $module_ZenonSDPInteropTransform(global,require,importDefault,importNamespace,requireLazy,module,exports){

"use strict";










exports.write=function(
session,
opts,
options)
{
if(
session!==undefined&&
session.media!==undefined&&
Array.isArray(session.media))
{
session.media.forEach(function(mLine){







var groupedSsrcs=[];
var ungroupedSsrcs=Object.keys(mLine.sources||{});


if(mLine.ssrcGroups!==undefined&&Array.isArray(mLine.ssrcGroups)){
mLine.ssrcGroups.forEach(function(ssrcGroup){
if(ssrcGroup.ssrcs!==undefined&&Array.isArray(ssrcGroup.ssrcs)){
var ssrcsArray=ssrcGroup.ssrcs;

groupedSsrcs=groupedSsrcs.concat(ssrcsArray);
ungroupedSsrcs=ungroupedSsrcs.filter(
function(ssrc){return ssrcsArray.indexOf(ssrc)===-1;});

ssrcGroup.ssrcs=ssrcsArray.join(" ");
}
});
}


if(
mLine.sources!==undefined&&
Object.keys(mLine.sources).length!==0)
{
var mLine_sources=mLine.sources;
var alreadyAddedSsrcs=new Set();
var mLine_ssrcs=[];
groupedSsrcs.concat(ungroupedSsrcs).forEach(function(ssrc){
var source=mLine_sources[ssrc];
Object.keys(source).forEach(function(attribute){
var newSsrcKey=[
ssrc,
String(attribute),
String(source[attribute])].
join("|");
if(!alreadyAddedSsrcs.has(newSsrcKey)){
mLine_ssrcs.push({
attribute:String(attribute),
id:parseInt(ssrc,10),
value:String(source[attribute])});

alreadyAddedSsrcs.add(newSsrcKey);
}
});
});
mLine.ssrcs=mLine_ssrcs;
if(options&&options.iceOptions){
mLine.iceOptions=options.iceOptions;
}
delete mLine.sources;
}
});
}


if(
session!==undefined&&
session.groups!==undefined&&
Array.isArray(session.groups))
{
session.groups.forEach(function(g){
if(g.mids!==undefined&&Array.isArray(g.mids)){
g.mids=g.mids.join(" ");
}
});
}

return importDefault("sdp-transform").write(session,opts);
};

exports.parse=function(sdp){
var session=importDefault("sdp-transform").parse(sdp);

if(
session!==undefined&&
session.media!==undefined&&
Array.isArray(session.media))
{
session.media.forEach(function(mLine){

if(mLine.ssrcs!==undefined&&Array.isArray(mLine.ssrcs)){
mLine.sources={};
mLine.ssrcs.forEach(function(ssrc){
if(!mLine.sources[ssrc.id]){
mLine.sources[ssrc.id]={};
}
mLine.sources[ssrc.id][ssrc.attribute]=ssrc.value;
});

delete mLine.ssrcs;
}


if(mLine.ssrcGroups!==undefined&&Array.isArray(mLine.ssrcGroups)){
mLine.ssrcGroups.forEach(function(ssrcGroup){
if(typeof ssrcGroup.ssrcs==="string"){
ssrcGroup.ssrcs=ssrcGroup.ssrcs.split(" ");
}
});
}
});
}

if(
session!==undefined&&
session.groups!==undefined&&
Array.isArray(session.groups))
{
session.groups.forEach(function(g){
if(typeof g.mids==="string"){
g.mids=g.mids.split(" ");
}
});
}

return session;
};}),34);
__d("ZenonSDP",["ZenonBrowsers","ZenonSDPInteropTransform","gkx","justknobx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1={};var e=a.sdp;e!=null&&(this.$1=d("ZenonSDPInteropTransform").parse(e));this.$3=a.type;this.$2=b;this.$4=c}var b=a.prototype;b.$5=function(a,b,c){a=a.split(";");var d=a.findIndex(function(a){return a.startsWith(b+"=")});c=b+"="+c;d>=0?a[d]=c:a.push(c);return""+a.join(";")};b.getMedia=function(){var a=this.$1.media;return a};b.getGroups=function(){var a;return(a=this.$1.groups)!=null?a:null};b.getMsidSemantic=function(){return this.$1.msidSemantic};b.getMediaCname=function(){var a="",b=this.$1.media;b!=null&&b.some(function(b){return b.sources==null?!1:Object.keys(b.sources).some(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(b.sources)[d];if(d!=null&&d.cname!=null){a=d.cname;return!0}}return!1})});return a};b.getTrackIdAndCnameMap=function(){var a=this,b=new Map(),c=this.$1.media;c.forEach(function(c){var d=c.msid;c=c.sources;d=a.$6(d);c=a.$7(c);d!=null&&c!=null&&b.set(d,c)});return b};b.getActiveTrackIDs=function(){var a=[],b=this.$1.media;b.forEach(function(b){b=b.msid;if(b!=null){b=b.split(" ");b.length>=2&&b[0]!=="-"&&a.push(b[1])}});return a};b.$7=function(a){var b=null;a!=null&&Object.keys(a).some(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(a)[d];if(d!=null&&d.cname!=null){b=d.cname;return!0}}return!1});return b};b.$6=function(a){if(a!=null){a=a.split(" ");if(a.length>=2)return a[1]}return null};b.addFmtpConfig=function(a,b,c){var d=this,e=this.$1.media;e!=null&&e.forEach(function(e){e.rtp.filter(function(b){return b.codec===a}).forEach(function(a){var f=e.fmtp.find(function(b){return b.payload===a.payload});f==null?e.fmtp.push({config:b+"="+c,payload:a.payload}):f.config=d.$5(f.config,b,c)})})};b.maybeAddPtimeForOpusOnly=function(a){var b=this.$1.media;if(b==null)return;b.forEach(function(b){if(b.type!=="audio")return;var c=b.rtp.filter(function(a){return a.codec!=="opus"}).length>=1;if(c)return;c=b.rtp.find(function(a){return a.codec==="opus"});if(c==null)return;if(b.ptime!=null)return;b.ptime=a})};b.addAudioNACK=function(){var a=this.$1.media;a!=null&&a.forEach(function(a){if(a.type!=="audio")return;a.rtcpFb==null&&(a.rtcpFb=[]);a.rtp.forEach(function(b){var c;if(!((c=a.rtcpFb)==null?void 0:c.some(function(a){return a.payload===b.payload&&a.type==="nack"}))){(c=a.rtcpFb)==null?void 0:c.push({payload:b.payload,type:"nack"})}})})};b.replaceAudioCname=function(a){var b=this.$1.media;b!=null&&b.forEach(function(b){b.type==="audio"&&b.sources!=null&&Object.keys(b.sources).forEach(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(b.sources)[d];d!=null&&d.cname!=null&&(d.cname=a+d.cname)}})})};b.filterExtension=function(a,b){var c=this.$1.media;c!=null&&c.forEach(function(c){c.type===b&&c.ext!=null&&(c.ext=c.ext.filter(function(b){return!b.uri.includes(a)}))})};b.useDTLSOverCrypto=function(){var a=this.$1.media;a!=null&&a.forEach(function(a){a.fingerprint!=null&&delete a.crypto})};b.addSetupActPass=function(){if(this.$3==="offer"){var a=this.$1.media;a!=null&&a.forEach(function(a){a.setup==null&&(a.setup="actpass")})}};b.removeCodec=function(a){var b=this.$1.media;b!=null&&b.forEach(function(b){var c=b.rtp.filter(function(b){return b.codec===a}).map(function(a){a=a.payload;return a}),d=b.fmtp.filter(function(a){a=a.config.match(/apt=(\d*)/);return a!=null?c.includes(Number(a[1])):!1}).map(function(a){a=a.payload;return a}),e=c.concat(d);if(e.length<1)return;b.rtp=b.rtp.filter(function(a){return!e.includes(a.payload)});b.fmtp=b.fmtp.filter(function(a){return!e.includes(a.payload)});b.rtcpFb!=null&&(b.rtcpFb=b.rtcpFb.filter(function(a){return!e.includes(a.payload)}));b.rtcpFbTrrInt!=null&&(b.rtcpFbTrrInt=b.rtcpFbTrrInt.filter(function(a){return!e.includes(a.payload)}));d=new RegExp("("+e.join("|")+") ?","g");b.payloads=b.payloads.replace(d,"").trim()})};b.preferCodec=function(a,b){var c=b.preferredCodec,d=b.preferredCodecRate;b=this.$1.media;b!=null&&b.forEach(function(b){if(b.type===a){var e=b.rtp.find(function(a){return a.codec===c&&a.rate===d});e!=null&&(b.payloads=b.payloads.replace(e.payload+" ",""),b.payloads=e.payload+" "+b.payloads)}})};b.mungeInactiveMediaSSRC=function(a){var b=new Map();a!=null&&a.$1.media!=null&&a.$1.media.forEach(function(a){a.sources!=null&&a.mid!=null&&b.set(a.mid,a.sources)});a=this.$1.media;a==null?void 0:a.forEach(function(a){if(a.mid!=null&&a.direction==="inactive"&&a.sources==null){var c=b.get(a.mid);c!=null&&(a.sources=c)}})};b.preferH264Codec=function(a){var b=this.$1.media;b!=null&&b.forEach(function(b){if(b.type==="video"){var c=[];b.rtp.forEach(function(a){a.codec==="H264"&&c.push(a.payload)});var d=a.levelAsymmetryAllowed?"1":"0",e=a.packetizationMode?"1":"0",f=new RegExp("level-asymmetry-allowed="+d+";packetization-mode="+e+";profile-level-id="+a.profileLevelId);d=b.fmtp.find(function(a){return a.config.match(f)&&c.includes(a.payload)});d!=null&&(b.payloads=b.payloads.replace(d.payload+" ",""),b.payloads=d.payload+" "+b.payloads)}})};b.stripDataChannel=function(){if(!c("justknobx")._("426")&&d("ZenonBrowsers").isDataChannelSupported())return;var a=this.$1,b=a.groups;a=a.media;var e=null;a!=null&&a.forEach(function(a){a.type==="application"&&(a.protocol.includes("RTP")||!c("justknobx")._("426"))&&(a.port=0,a.protocol="UDP/DTLS/SCTP",e=typeof a.mid==="number"?a.mid.toString():a.mid,a.rtp=[],a.payloads="webrtc-datachannel")});b!=null&&e!==null&&b.forEach(function(a){var b=typeof a.mids==="string"?a.mids.split(" "):a.mids;a.mids=b.filter(function(a){return a!==e})})};b.convertMediaSetupActpass=function(){var a=this.$1.media;if(a==null)return;a.forEach(function(a){if(a.type==="application")return;a.setup="actpass"})};b.copyWithTypeAndActpass=function(a){throw c("unrecoverableViolation")("Abstract parent method was called instead of child method","rtc_www")};b.copyWithType=function(a){throw c("unrecoverableViolation")("Abstract parent method was called instead of child method","rtc_www")};b.setVersion=function(a){this.$1.origin.sessionVersion=a};b.getSdpFormat=function(){return this.$2};b.getType=function(){return this.$3};b.toDesc=function(){var a=function(a){return a!=null&&a.split(" ").includes("renomination")},b="trickle fb-force-5245";(this.isRemote()?this.$1.media.every(function(b){return a(b.iceOptions)}):c("gkx")("3545"))&&(b+=" renomination");return{sdp:d("ZenonSDPInteropTransform").write(this.$1,{},{iceOptions:b}),type:this.$3}};b.isRemote=function(){return this.$4==="remote"};b.toLoggingString=function(){var a="\n",b=[" IP4 "," IP6 "],c=this.toDesc().sdp.split(a);c.forEach(function(a,d){a.startsWith("a=crypto:")?c[d]="a=crypto:**-----**":a.startsWith("a=candidate:")?c[d]="a=candidate:**-----**":b.forEach(function(b){var e=a.indexOf(b);e!==-1&&(c[d]=a.slice(0,e+b.length)+"**-----**")})});return c.join(a)};b.enableExtension=function(a,b,c){var d=this.$1.media;d.forEach(function(d){var e;d.ext==null&&(d.ext=[]);e=(e=(e=d.ext)==null?void 0:e.some(function(b){return b.uri===a}))!=null?e:!1;if(e)return;if(b!==""&&d.type!==b)return;(e=d.ext)==null?void 0:e.push({uri:a,value:c})})};b.updateMSection=function(a,b){b=d("ZenonSDPInteropTransform").parse(b);b=b.media;if(b.length<1)throw c("unrecoverableViolation")("Could not parse body from delta SDP","rtc_www");b=b[0];var e=this.$1.media;a<e.length?e[a]=b:e.push(b)};b.updateMids=function(a){var b;b=(b=this.$1.groups)!=null?b:[];var c=b.find(function(a){return a.type==="BUNDLE"});if(c){var d;typeof c.mids==="string"?d=c.mids.split(" "):d=c.mids;d=new Set([].concat(d,a));c.mids=Array.from(d)}else b.push({mids:a,type:"BUNDLE"}),this.$1.groups=b};b.updateMsidSemantic=function(){var a=this.$1.media,b=new Set();a.forEach(function(a){a=(a=a.msid)==null?void 0:a.split(" ");a!=null&&a.length>0&&a[0].length>0&&a[0]!=="-"&&b.add(a[0])});this.$1.msidSemantic={semantic:"WMS",token:Array.from(b).join(" ")}};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c,"local")||this}var c=b.prototype;c.copyWithTypeAndActpass=function(c){c=new b({sdp:this.toDesc().sdp,type:c},a.prototype.$ZenonLocalSDP1);c.convertMediaSetupActpass();return c};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c,"remote")||this}var c=b.prototype;c.copyWithType=function(c){return new b({sdp:this.toDesc().sdp,type:c},a.prototype.$ZenonRemoteSDP1)};return b}(a);g.ZenonSDP=a;g.ZenonLocalSDP=b;g.ZenonRemoteSDP=e}),98);
__d("ZenonPeerConnectionSdpActions",["Promise","ZenonBrowsers","ZenonInfraActionsLogger","ZenonPeerConnectionMediaActions","ZenonSDP","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a.onRemoteSdpSet()};e=function(a,e){var f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(!(e.type!=="remoteSdpFailed")){i.next=2;break}return i.abrupt("return");case 2:c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"trying to rollback to last successful sdp pair",sdpFormat:a.sdpManager.getSdpFormat()});if(!d("ZenonBrowsers").supportsRollback()){i.next=8;break}i.next=6;return b("regeneratorRuntime").awrap(a.sdpManager.rollbackSdp());case 6:i.next=15;break;case 8:if(!(a.lastSuccessfulSdpPair==null)){i.next=10;break}throw c("unrecoverableViolation")("No last successfully negotiated SDP pair, should never happen here","rtc_www");case 10:f=a.lastSuccessfulSdpPair,g=f.localSdp,h=f.remoteSdp;i.next=13;return b("regeneratorRuntime").awrap(a.sdpManager.setLocalSdp(g));case 13:i.next=15;return b("regeneratorRuntime").awrap(a.sdpManager.setRemoteSdp(h,a.logEvent));case 15:c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"successful rollback to last successful sdp pair",sdpFormat:a.sdpManager.getSdpFormat()});case 16:case"end":return i.stop()}},null,this)};f=function(a,d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:if(!(d.type==="applyLocalSdp"||d.type==="localMediaStateUpdateRetry"||d.type==="iceRestart")){h.next=8;break}e=d.type==="iceRestart";f=a.localMediaStateVersion+1;h.next=5;return b("regeneratorRuntime").awrap(a.sdpManager.createAndSetLocalSdp(f,"offer",{iceRestart:e}));case 5:c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply local SDP",sdpFormat:a.sdpManager.getSdpFormat()});g=d.type==="localMediaStateUpdateRetry"?null:a.localMediaStateUpdateRetryTimerId;return h.abrupt("return",{localMediaStateUpdateRetryTimerId:g,localMediaStateVersion:f,outstandingLocalOffer:!0});case 8:return h.abrupt("return",b("Promise").resolve({}));case 9:case"end":return h.stop()}},null,this)};var h=function(a,e){var f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:if(!(e.type==="applyRemoteSdp")){o.next=21;break}f=a.mediaChannelManager,g=a.sdpManager;h=e.payload.sdp,i=h.sdp,j=h.type;if(!(j==="answer")){o.next=9;break}a.logEvent({name:"setRemoteSdpAnswer"});o.next=7;return b("regeneratorRuntime").awrap(g.setRemoteSdp(new(d("ZenonSDP").ZenonRemoteSDP)({sdp:i,type:j},f.getSdpFormat()),a.logEvent));case 7:a.logEvent({name:"endSetRemoteDescription"}),c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply remote answer",sdpFormat:a.sdpManager.getSdpFormat()});case 9:d("ZenonPeerConnectionMediaActions").applyMediaStates(f,e.payload.mediaStates);k=e.payload.renegotiationOffer;if(!(k!=null)){o.next=19;break}l=k.sdp,m=k.type;o.next=15;return b("regeneratorRuntime").awrap(g.setRemoteSdp(new(d("ZenonSDP").ZenonRemoteSDP)({sdp:l,type:m},f.getSdpFormat()),a.logEvent));case 15:n=a.localMediaStateVersion+1;o.next=18;return b("regeneratorRuntime").awrap(a.sdpManager.createAndSetLocalSdp(n,"answer"));case 18:c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Apply renegotiation offer and set local answer",sdpFormat:a.sdpManager.getSdpFormat()});case 19:e.payload.source==="joinResponse"?a.logEvent({name:"inviteResponseProcessed"}):e.payload.source==="serverMediaUpdateRequest"&&e.payload.sdp.type==="answer"&&a.logEvent({name:"smuWithAnswerProcessed"}),e.payload.onProcessed&&e.payload.onProcessed();case 21:case"end":return o.stop()}},null,this)},i=function(a,e){var f,g,h,i,j,k,l,m,n,o;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:f=a.mediaChannelManager,g=a.sdpManager;if(!(e.type==="applyRemoteSdp")){p.next=18;break}h=e.payload.sdp;if(!(h.type==="offer")){p.next=18;break}a.logEvent({name:"setRemoteSdpOffer"});j=f.getSdpFormat();h.update?(i=(k=a.sdpManager.getRemoteSdp())!=null?k:new(d("ZenonSDP").ZenonRemoteSDP)({type:h.type},j),l=Object.keys(h.update.media),l.forEach(function(a){var b=h.update.media[a].body;i.updateMSection(parseInt(a,10),b)}),i.setVersion(h.version),i.updateMids(l.map(function(a){return h.update.media[a].mid})),i.updateMsidSemantic(),f.removeMissingTracks(i.getActiveTrackIDs())):i=new(d("ZenonSDP").ZenonRemoteSDP)({sdp:h.sdp,type:h.type},j);p.next=9;return b("regeneratorRuntime").awrap(g.setRemoteSdp(i,a.logEvent));case 9:m=p.sent;d("ZenonPeerConnectionMediaActions").applyMediaStates(f,e.payload.mediaStates,h.update==null);e.payload.onProcessed&&e.payload.onProcessed();n=a.localMediaStateVersion+1;p.next=15;return b("regeneratorRuntime").awrap(a.sdpManager.createAndSetLocalSdp(n,"answer"));case 15:o=p.sent;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply remote offer and set local answer",sdpFormat:a.sdpManager.getSdpFormat()});return p.abrupt("return",{lastSuccessfulSdpPair:{localSdp:o.copyWithTypeAndActpass("offer"),remoteSdp:m.copyWithType("answer")},localMediaStateVersion:n});case 18:return p.abrupt("return",{});case 19:case"end":return p.stop()}},null,this)},j=function(a,b){c("ZenonInfraActionsLogger").logError({checkpoint:"Failed to apply remote offer and set local answer: "+b.data.toString(),errorDomain:"ZenonPeerConnectionSdpActions_onApplyRemoteOfferAndSetLocalAnswer",sdpFormat:a.sdpManager.getSdpFormat()})},k=function(a){var b=a.sdpManager.getLocalSdp();if(b==null)throw c("unrecoverableViolation")("Local sdp should never be null after setting remote answer","rtc_www");a=a.sdpManager.getRemoteSdp();if(a==null)throw c("unrecoverableViolation")("Remote sdp should never be null after setting remote answer","rtc_www");return{lastSuccessfulSdpPair:{localSdp:b,remoteSdp:a},outstandingLocalOffer:!1}},l=function(a){a.logEvent({name:"negotiationComplete"})},m=function(a,b){var c=a.sdpManager.getLocalSdp();b=b.data;if(c!==null&&b.localMediaStateVersion!=null){var d=c.toDesc(),e=d.sdp;d=d.type;a.onLocalSdpSet({sdp:e,type:d,version:b.localMediaStateVersion},a.mediaChannelManager.getLocalTracksForMWS())}c!==null&&a.mediaChannelManager.onLocalSdpSet(c);return b};g.onRemoteSdpSet=a;g.applyingLastSuccessfulSdpPair=e;g.applyLocalSdp=f;g.applyRemoteAnswer=h;g.applyRemoteOfferAndSetLocalAnswer=i;g.onApplyRemoteOfferSetLocalAnswerError=j;g.updateSdpPair=k;g.logNegotiationCompleted=l;g.onLocalSdpSet=m}),98);
__d("ZenonPeerConnectionTerminatedState",[],(function(a,b,c,d,e,f){"use strict";a=function(a){a.sdpManager.restartPeerConnection()};f.restart=a}),66);
__d("ZenonPeerConnectionTerminatingState",["FBLogger","Promise","ZenonInfraActionsLogger","ZenonMediaError","qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,e){var f;a.mediaChannelManager.stopStatsPolling();(e.type!=="endCall"||e.payload.stopLocalTracks)&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"stopping local tracks"}),a.mediaChannelManager.stopLocalTracks());switch(e.type){case"endCall":if(((f=e.payload)==null?void 0:f.restart)!==!0){a.onConnectionDestroyed((f=e.payload.error)!=null?f:null)}break;case"applyLocalSdp":case"error.platform.applyLocalSdpInvoke":a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed);break;case"applyRemoteSdp":case"error.platform.applyRemoteSdpInvoke":case"error.platform.renegotiatingInvoke":a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed);break;case"error.platform.rollingSdpBackInvoke":a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed);break;default:c("FBLogger")("rtc_www").warn("Event "+e.type+" logged as unknown error. Please add a more specific error for this event type.");a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.UnknownError);break}a.sdpManager.closePeerConnection();c("qex")._("1747")&&a.tslogUploader.stopTslogUploadInChunks();a.tslogUploader.logTslog();return b("Promise").resolve(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"cleaning up peer connection"}))};e=function(a,b){};g.cleanUp=a;g.done=e}),98);
__d("ZenonPeerConnectionStateMachine",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","ZenonPeerConnectionDataActions","ZenonPeerConnectionIceActions","ZenonPeerConnectionMediaActions","ZenonPeerConnectionSMGuards","ZenonPeerConnectionSdpActions","ZenonPeerConnectionTerminatedState","ZenonPeerConnectionTerminatingState","ZenonStateMachineBase","qpl","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h={iceConnectionState:"new",iceConnectionTimeoutID:null,lastSuccessfulSdpPair:null,localMediaStateUpdateRetryTimerId:null,localMediaStateVersion:1,outstandingLocalOffer:!1,retryCount:0},i={loggingStateName:"peerConnectionState",name:"PeerConnectionStateMachine",shortname:"Peer Connection",timeoutEvent:d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.STUCK_IN_PEER_CONNECTION_STATE_MACHINE};function j(a){var b;return((b=a.payload)==null?void 0:b.messageID)!=null?String((b=a.payload)==null?void 0:b.messageID):null}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;e===void 0&&(e="init");f=a.call(this,{base:{guards:d("ZenonPeerConnectionSMGuards"),initState:"init"},logging:babelHelpers["extends"]({},i,{eventToLogTimeoutsOn:"applyRemoteSdp",getTransactionId:j,loggableEvents:["applyRemoteSdp"],loggingId:Date.now()}),machine:{context:babelHelpers["extends"]({},h,b),initialState:e,states:m}})||this;f.sm.onTransition(function(a){f.logTransaction(a.event,d("ZenonMWMessageReliabilityLogger").MWMessageReliabilityEvent.PROCESSED_SM_EVENT)});f.sm.onTransition(function(a){c("ZenonInfraActionsLogger").updateCachedValues({peerConnectionState:a.value}),f.logTransition(a),a.value==="terminated"&&c("ZenonDebugLogger").getInstance().endQPL(c("qpl")._(64239068,"6172"),f.loggingId)});c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64239068,"6172"),f.loggingId);return f}var e=b.prototype;e.getLocalMediaStateVersion=function(){return this.sm.state.context.localMediaStateVersion};return b}(d("ZenonStateMachineBase").ZenonStateMachineBase);b={actions:[d("ZenonPeerConnectionMediaActions").onApplyMediaUpdate]};e={actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)]};f={actions:[d("ZenonPeerConnectionDataActions").onDataChannelMessageReceived]};var k={actions:[d("ZenonPeerConnectionMediaActions").onForceEncodingEnabled]},l={actions:[d("ZenonPeerConnectionMediaActions").onIceCandidateReady]},m={init:{exit:[d("ZenonPeerConnectionMediaActions").startTslog],on:{addLocalTracks:{target:"addingLocalTracks"},applyLocalSdp:{target:"applyingLocalSdp"},applyMediaUpdate:b,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:{cond:d("ZenonPeerConnectionSMGuards").applyRemoteOfferSdpGuard,target:"renegotiating"},createDataChannel:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataChannel]},createDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataMessageSubscription]},dataChannelMessageReceived:f,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceConnectionStateChange:e,localMediaStateUpdateRetry:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onLocalMediaStateUpdateRetry)]},muteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onMuteLocalTrack)]},removeDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onRemoveDataMessageSubscription]},removeLocalTrack:{target:"removingLocalTrack"},replaceLocalTrack:{target:"replacingLocalTrack"},setLocalMediaStateVersion:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onSetLocalMediaStateVersion)]},stopLocalTrack:{actions:[d("ZenonPeerConnectionMediaActions").onStopLocalTrack]},unmuteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onUnmuteLocalTrack)]}}},applyingLocalSdp:{invoke:{id:"applyLocalSdpInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").onLocalSdpSet)],target:"hasLocalSdp"},onError:"terminating",src:d("ZenonPeerConnectionSdpActions").applyLocalSdp},on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyMediaUpdate:b,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},rollingSdpBack:{invoke:{id:"rollingSdpBackInvoke",onDone:{target:"connected"},onError:{target:"terminating"},src:d("ZenonPeerConnectionSdpActions").applyingLastSuccessfulSdpPair},on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyMediaUpdate:b,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:l,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,remoteSdpFailed:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},hasLocalSdp:{entry:[function(a){return a.mediaChannelManager.setSimulcastSingleLayerParams()}],on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyMediaUpdate:b,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:[{cond:d("ZenonPeerConnectionSMGuards").applyRemoteAnswerSdpGuard,target:"applyingRemoteSdp"},{cond:d("ZenonPeerConnectionSMGuards").applyRemoteOfferSdpGuard,target:"renegotiating"}],remoteSdpFailed:{target:"rollingSdpBack"},createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:l,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},applyingRemoteSdp:{invoke:[{id:"applyRemoteSdpInvoke",onDone:[{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair)],cond:d("ZenonPeerConnectionSMGuards").iceNotConnectedGuardLegacy,target:"negotiated"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair),c("ZenonPeerConnectionIceActions").onIceConnected],cond:d("ZenonPeerConnectionSMGuards").iceConnectedGuardLegacy,target:"connected"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair),d("ZenonPeerConnectionSdpActions").onRemoteSdpSet],cond:d("ZenonPeerConnectionSMGuards").iceNotConnectedGuard,target:"negotiated"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair),d("ZenonPeerConnectionSdpActions").onRemoteSdpSet],cond:d("ZenonPeerConnectionSMGuards").iceConnectedGuard,target:"connected"}],onError:{target:"terminating"},src:d("ZenonPeerConnectionSdpActions").applyRemoteAnswer}],on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:l,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},negotiated:{entry:[d("ZenonPeerConnectionSdpActions").logNegotiationCompleted],on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyMediaUpdate:b,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:{actions:[d("ZenonPeerConnectionMediaActions").applyRemoteIceCandidate]},applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:k,iceCandidateReady:l,iceConnectionStateChange:[{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)],cond:d("ZenonPeerConnectionSMGuards").iceConnectedEventGuard,target:"connected"},{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)]}],iceRestart:{target:"applyingLocalSdp"},localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},connected:{on:{addLocalTracks:{target:"addingLocalTracks"},applyLocalSdp:{target:"applyingLocalSdp"},applyMediaUpdate:b,applyRemoteIceCandidate:{actions:[d("ZenonPeerConnectionMediaActions").applyRemoteIceCandidate]},applyRemoteSdp:{cond:d("ZenonPeerConnectionSMGuards").applyRemoteOfferSdpGuard,target:"renegotiating"},createDataChannel:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataChannel]},createDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataMessageSubscription]},dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:k,iceCandidateReady:l,iceConnectionStateChange:[{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)],cond:d("ZenonPeerConnectionSMGuards").iceDisconnectedEventGuard,target:"negotiated"},{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)]}],localMediaStateUpdateRetry:[{cond:d("ZenonPeerConnectionSMGuards").outstandingLocalOfferGuard,target:"applyingLocalSdp"},{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onLocalMediaStateUpdateRetry)]}],muteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onMuteLocalTrack)]},removeDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onRemoveDataMessageSubscription]},removeLocalTrack:{target:"removingLocalTrack"},replaceLocalTrack:{target:"replacingLocalTrack"},stopLocalTrack:{actions:[d("ZenonPeerConnectionMediaActions").onStopLocalTrack]},unmuteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onUnmuteLocalTrack)]}}},addingLocalTracks:{invoke:{id:"addLocalTracksInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onAddedLocalTracks)],target:"connected"},onError:{actions:[d("ZenonPeerConnectionMediaActions").onAddLocalTracksError],target:"connected"},src:d("ZenonPeerConnectionMediaActions").onAddingLocalTracks},on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:b,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},removingLocalTrack:{invoke:{id:"removeLocalTrackInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onRemovedLocalTrack)],target:"connected"},onError:{actions:[d("ZenonPeerConnectionMediaActions").onRemoveLocalTrackError],target:"connected"},src:d("ZenonPeerConnectionMediaActions").onRemovingLocalTrack},on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},replacingLocalTrack:{invoke:{id:"replaceLocalTrackInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onReplacedLocalTrack)],target:"connected"},onError:{actions:[d("ZenonPeerConnectionMediaActions").onReplaceLocalTrackError],target:"connected"},src:d("ZenonPeerConnectionMediaActions").onReplacingLocalTrack},on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:f,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceConnectionStateChange:e,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},renegotiating:{invoke:{id:"renegotiatingInvoke",onDone:[{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").onLocalSdpSet)],cond:d("ZenonPeerConnectionSMGuards").iceNotConnectedGuard,target:"negotiated"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").onLocalSdpSet)],cond:d("ZenonPeerConnectionSMGuards").iceConnectedGuard,target:"connected"}],onError:{actions:[d("ZenonPeerConnectionSdpActions").onApplyRemoteOfferSetLocalAnswerError],target:"terminating"},src:d("ZenonPeerConnectionSdpActions").applyRemoteOfferAndSetLocalAnswer},on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,endCall:{target:"terminating"},forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceConnectionStateChange:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},terminating:{exit:[d("ZenonPeerConnectionTerminatingState").done],invoke:[{onDone:{target:"terminated"},src:d("ZenonPeerConnectionTerminatingState").cleanUp}],on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceConnectionStateChange:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,restartPeerConnection:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},terminated:{on:{restartPeerConnection:{actions:[d("ZenonPeerConnectionTerminatedState").restart],target:"init"},addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceConnectionStateChange:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}}};g["default"]=a}),98);
__d("ZenonEventListenerCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.add=function(a,b){var c=this.getByType(a);c.push(b);this.$1.set(a,c)};b["delete"]=function(a,b){var c=this.getByType(a);c=c.filter(function(a){return a!==b});c.length<1?this.$1["delete"](a):this.$1.set(a,c)};b.forEachEventListener=function(a){var b=this,c=this.getCachedEventTypes();c.forEach(function(c){var d=b.getByType(c);d.forEach(function(b){a(c,b)})})};b.getByType=function(a){return(a=this.$1.get(a))!=null?a:[]};b.getCachedEventTypes=function(){return Array.from(this.$1.keys())};b.getAll=function(){return this.$1};return a}();f["default"]=a}),66);
__d("ZenonRTCPeerConnectionHelper",["FBLogger","RTCPeerConnection"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.signalingState!=="closed"&&a.close()}function b(a,b,d){b===void 0&&(b={});d===void 0&&(d={});try{var e=[{googNumUnsignalledRecvStreams:10},{DtlsSrtpKeyAgreement:!0}];a.getZenonPeerConnectionConfig().isRtpDataChannels()&&e.push({RtpDataChannels:!0});return new(c("RTCPeerConnection"))(babelHelpers["extends"]({},b),babelHelpers["extends"]({optional:e},d))}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to create peer connection")}}function d(a){return a instanceof c("RTCPeerConnection")}g.closePeerConnection=a;g.createPeerConnection=b;g.isRTCPeerConnectionInstance=d}),98);
__d("ZenonSimulcastSdpUtils",["Random","UserAgent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="\r\n";function i(a){a=a.filter(function(a){return a.startsWith("a=ssrc:")}).map(function(a){return a.split(" ")[0].split(":")[1]});return new Set(a)}function j(a,b){var c=new RegExp("^a=ssrc:\\d+ "+b+":");b=a.filter(function(a){return c.test(a)})[0];return b?b.split(" ")[1].split(":")[1]:b}function k(a){a=a.filter(function(a){return a.startsWith("a=ssrc-group:FID")}).map(function(a){return a.split(" ")[2]});return new Set(a)}function l(a){var b=new RegExp("^a=ssrc:\\d+ msid:");a=a.filter(function(a){return b.test(a)})[0];a=a.split(" ");return a.length>2?a[2]:null}function m(a,b){var c=[];for(var e=0;e<a;e++){var f=0;while(f===0||b.has(f.toString()))f=d("Random").uint32();b.add(f.toString());c.push(f.toString())}return c}function a(a,b){if(!c("UserAgent").isBrowser("Chrome >= 88")){c("recoverableViolation")("Attempted to add unified-plan simulcast in unsupported browser","rtc_www");return a}if(b<=1||b>3){c("recoverableViolation")("Unsupported number of layers passed: "+b,"rtc_www");return a}var d=a.trim().split(h),e=i(d),f=d.findIndex(function(a){return/^m=video/.test(a)});if(f===-1)return a;a=f+1;while(a<d.length){if(d[a].startsWith("m="))break;a++}a=d.splice(f,a-f);var g=i(a),n=k(a);g=new Set(Array.from(g).filter(function(a){return!n.has(a)}));if(g.size!==1||n.size>1)return[].concat(d.slice(0,f),a,d.slice(f)).join(h);var o=n.size===1;g=Array.from(g)[0];var p="";o&&(p=Array.from(n)[0]);var q=j(a,"cname"),r=j(a,"msid"),s=l(a);s!=null&&(r+=" "+s);var t=j(a,"mslabel"),u=j(a,"label");s=[g].concat(m(b-1,e));g=[];o&&(s.forEach(function(a){return e.add(a)}),g=[p].concat(m(b-1,e)));var v=[];v.push("a=ssrc-group:SIM "+s.join(" "));for(var p=0;p<g.length;p++)v.push("a=ssrc-group:FID "+s[p]+" "+g[p]);b=[];if(o)for(var p=0;p<s.length;p++)b.push(s[p]),b.push(g[p]);else b=s;b.forEach(function(a){v.push("a=ssrc:"+a+" cname:"+q),v.push("a=ssrc:"+a+" msid:"+r),t&&v.push("a=ssrc:"+a+" mslabel:"+t),u&&v.push("a=ssrc:"+a+" label:"+u)});a=a.filter(function(a){return!a.startsWith("a=ssrc")});a=[].concat(a,v);return[].concat(d.slice(0,f),a,d.slice(f)).join(h)+h}g.addSimulcastToChromeOffer=a}),98);
__d("ZenonRTCPeerConnectionWrapper",["FBLogger","Promise","ZenonBrowsers","ZenonEventListenerCache","ZenonInfraActionsLogger","ZenonRTCPeerConnectionHelper","ZenonSDP","ZenonSdpFormat","ZenonSimulcastSdpUtils","ZenonSimulcastUtils","gkx","recoverableViolation","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;b===void 0&&(b={});e===void 0&&(e={});f===void 0&&(f=!1);this.$5=new(c("ZenonEventListenerCache"))();this.$9=!1;this.$10=!1;this.$14=function(a){a=a.channel;var b=g.$7.get(a.label);b!=null&&(a.onmessage=function(a){a=a.data;typeof a==="string"?b.onmessage(a):a instanceof ArrayBuffer&&b.onmessage(new TextDecoder().decode(a))},a.onopen=b.onopen);g.$6.set(a.label,a)};this.$2=a;this.$3=b;this.$4=e;this.$1=d("ZenonRTCPeerConnectionHelper").createPeerConnection(a,b,e);this.$6=new Map();this.$7=new Map();this.$8=f;f&&(this.$9=!0);this.$11=new Map();this.$12=new Map();this.$13=new Map();this.addEventListener("datachannel",this.$14)}var e=a.prototype;e.createOffer=function(a){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:a===void 0&&(a={});f.next=3;return b("regeneratorRuntime").awrap(this.$15(a));case 3:e=f.sent;if(this.$9){if(e.sdp!=null)try{e.sdp=d("ZenonSimulcastSdpUtils").addSimulcastToChromeOffer(e.sdp,d("ZenonSimulcastUtils").getNumLayers())}catch(a){c("ZenonInfraActionsLogger").logError({error:a.toString(),errorDomain:"ZenonRTCPeerConnectionWrapper_createOffer_addSimulcastToChromeOffer"})}this.$9=!1}return f.abrupt("return",new(d("ZenonSDP").ZenonLocalSDP)(e,this.getSdpFormat()));case 6:case"end":return f.stop()}},null,this)};e.rollbackSdp=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return b("regeneratorRuntime").awrap(this.$1.setLocalDescription({type:"rollback"}));case 3:a.next=9;break;case 5:a.prev=5;a.t0=a["catch"](0);c("ZenonInfraActionsLogger").logError({error:a.t0.toString(),errorDomain:"ZenonRTCPeerConnectionWrapper_rollbackSDP",sdpFormat:this.getSdpFormat()});throw a.t0;case 9:case"end":return a.stop()}},null,this,[[0,5]])};e.setLocalDescription=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.$16(a.getMedia(),this.$11);d=a.toDesc();e.prev=2;if(!(this.getSignalingState()!=="closed")){e.next=6;break}e.next=6;return b("regeneratorRuntime").awrap(this.$1.setLocalDescription(d));case 6:e.next=12;break;case 8:e.prev=8;e.t0=e["catch"](2);c("FBLogger")("rtc_www").catching(e.t0).mustfix("Error processing modern API setLocalDescription in ZenonRTCPeerConnectionWrapper.");throw e.t0;case 12:case"end":return e.stop()}},null,this,[[2,8]])};e.createAnswer=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$1.createAnswer());case 2:a=c.sent;return c.abrupt("return",new(d("ZenonSDP").ZenonLocalSDP)(a,this.getSdpFormat()));case 4:case"end":return c.stop()}},null,this)};e.setRemoteDescription=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:this.$16(a.getMedia(),this.$12);d=a.toDesc();this.$17(d);e.prev=3;e.next=6;return b("regeneratorRuntime").awrap(this.$1.setRemoteDescription(d));case 6:e.next=12;break;case 8:e.prev=8;e.t0=e["catch"](3);c("FBLogger")("rtc_www").catching(e.t0).mustfix("Error processing modern API setRemoteDescription in ZenonRTCPeerConnectionWrapper.");throw e.t0;case 12:case"end":return e.stop()}},null,this,[[3,8]])};e.setRemoteIceCandidate=function(a){if(this.$1.currentRemoteDescription===null){c("FBLogger")("rtc_www").mustfix("Remote ICE candidate should not be applied before remote description");return b("Promise").resolve()}return this.$1.addIceCandidate(a)};e.close=function(){d("ZenonRTCPeerConnectionHelper").closePeerConnection(this.$1)};e.restart=function(){this.$1=d("ZenonRTCPeerConnectionHelper").createPeerConnection(this.$2,this.$3,this.$4),this.addCachedEventListenersToPeerConnection()};e.addEventListener=function(a,b){this.$5.add(a,b),this.$1.addEventListener(a,b)};e.createDataChannel=function(a,b,e,f){if(!d("ZenonBrowsers").isDataChannelSupported())return;var g=this.$6.get(a);if(g==null)if(f){f={onmessage:b,onopen:e};this.$7.set(a,f)}else g=this.$1.createDataChannel(a,this.$18()),g==null&&c("recoverableViolation")("Unable to create requested data channel: "+a,"rtc_www");g!=null&&(g.onmessage=function(a){a=a.data;typeof a==="string"?b(a):a instanceof ArrayBuffer&&b(new TextDecoder().decode(a))},g.onopen=e,this.$6.set(a,g))};e.getDataChannelState=function(a){a=this.$6.get(a);return a==null?void 0:a.readyState};e.sendDataMessage=function(a,b){var d=this.$6.get(a);d!=null?d.send(b):c("recoverableViolation")("Unable to send a message on data channel: "+a,"rtc_www")};e.getCnameFromTrackId=function(a){return(a=this.$13.get(a))!=null?a:null};e.getAllEventListeners=function(){return this.$5.getAll()};e.getEventListenersForType=function(a){return(a=this.$5.getByType(a))!=null?a:[]};e.canAcceptRemoteSdp=function(){return this.$1.iceConnectionState!=="closed"&&this.$1.signalingState!=="closed"};e.removeEventListener=function(a,b){this.$5["delete"](a,b),this.$1.removeEventListener(a,b)};e.removeAllEventListeners=function(){var a=this;this.$5.forEachEventListener(function(b,c){a.$1.removeEventListener(b),a.$5["delete"](b,c)})};e.addCachedEventListenersToPeerConnection=function(){var a=this;this.$5.forEachEventListener(function(b,c){a.$1.addEventListener(b,c)})};e.addTrack=function(a,b){return b==null?this.$1.addTrack(a):this.$1.addTrack(a,b)};e.addTransceiver=function(a,b){return this.$1.addTransceiver(a,b)};e.getTransceivers=function(){return typeof this.$1.getTransceivers==="function"?this.$1.getTransceivers():[]};e.getTransceiverFromSender=function(a){return this.getTransceivers().find(function(b){return b.sender===a})};e.getReceivers=function(){return typeof this.$1.getReceivers==="function"?this.$1.getReceivers():[]};e.getSenders=function(){return typeof this.$1.getSenders==="function"?this.$1.getSenders():[]};e.getStats=function(a){return this.$1.getStats(a)};e.getSignalingState=function(){return this.$1.signalingState};e.removeTrack=function(a){var b=!1;for(var d=this.$1.getSenders(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g.track===a&&(this.$1.removeTrack(g),b=!0)}b||c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonRTCPeerConnectionWrapper.removeTrack: Could not find sender for track "+a.id,sdpFormat:this.getSdpFormat()})};e.supportsSimulcast=function(){return this.$8};e.getSimulcastInitialized=function(){return this.$10};e.setSimulcastInitialized=function(a){this.$10=a};e.$15=function(a){return b("Promise").resolve(this.$1.createOffer(a))};e.getSdpFormat=function(){return c("ZenonSdpFormat").UNIFIED_PLAN};e.$16=function(a,b){var c=this;a.forEach(function(a){if(a.type!=="application"){var d=a.msid;d=c.getTrackIdFromMsid(d);d!=null&&a.mid!=null&&b.set(String(a.mid),d)}})};e.$18=function(){var a={};c("gkx")("3864")&&(a.negotiated=!1);return a};e.$17=function(a){var b=this,c=a.sdp;a=a.type;c=new(d("ZenonSDP").ZenonRemoteSDP)({sdp:c,type:a},this.getSdpFormat()).getTrackIdAndCnameMap();c.forEach(function(a,c){b.$13.set(c,a)})};e.getTrackIdFromMsid=function(a){if(a!=null){a=a.split(" ");if(a.length>=2)return a[1];else c("FBLogger")("rtc_www").warn("MSID did not have an eligible ID for caching")}return null};e.getLocalMWTrackId=function(a){return a!==null?(a=this.$11.get(a))!=null?a:null:null};e.getRemoteMWTrackId=function(a){return a!==null?(a=this.$12.get(a))!=null?a:null:null};e.getCurrentRemoteDescription=function(){return this.$1.currentRemoteDescription!=null?new(d("ZenonSDP").ZenonRemoteSDP)(this.$1.currentRemoteDescription,this.getSdpFormat()):null};e.getDataChannel_TESTONLY=function(a){return this.$6.get(a)};return a}();g["default"]=a}),98);
__d("ZenonSDPRtpHeaderExtensionManager",["ZenonBrowsers","ZenonInfraActionsLogger","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],i="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",j="http://www.webrtc.org/experiments/rtp-hdrext/generic-frame-descriptor-00",k=0;a=function(){function a(a){this.$1=[],this.$2=a,this.$3()}var b=a.prototype;b.$3=function(){if(d("ZenonBrowsers").isVideoLayersAllocationSupported()){var a={existingId:k,isRemoteSupported:!0,mediaType:"video",notFoundCounterName:"no_unused_extension_id_found_for_vla",uri:i};this.$1.push(a)}if(this.$2){a={existingId:k,isRemoteSupported:!0,mediaType:"video",notFoundCounterName:"no_unused_extension_id_found_for_gfd",uri:j};this.$1.push(a)}};b.resetRtpHeaderExtensionStatus=function(){this.$1=[],this.$3()};b.setExtensionsSupportedByRemote=function(a){var b=this;this.$1.forEach(function(d){var e=b.$4(a,d.uri);e===k?d.isRemoteSupported=!1:c("justknobx")._("447")&&d.existingId===k&&(d.existingId=e)})};b.enableRegisteredExtensions=function(a){var b=this,d=a.getMedia();if(d==null)return;this.$1.forEach(function(e){if(e.isRemoteSupported){var f=e.existingId!==k?e.existingId:b.$5(d,e);if(f===k)return;e.existingId=f;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP] enabling header extension for <uri: "+e.uri+", id: "+f+", media type: "+e.mediaType+", >"});a.enableExtension(e.uri,e.mediaType,f)}})};b.$5=function(a,b){var d=new Set(h),e=0;a.forEach(function(a){if(a.ext==null)return;for(var a=a.ext,c=Array.isArray(a),f=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(g.uri===b.uri){e=g.value;return}d["delete"](g.value)}});if(e===k&&d.size===0){b.notFoundCounterName!==""&&c("ZenonInfraActionsLogger").logCounter(b.notFoundCounterName);return k}a=e===k?Array.from(d)[0]:e;return a};b.$4=function(a,b){var c=k;a=a.getMedia();if(a!=null)for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;(f=f.ext)==null?void 0:f.forEach(function(a){a.uri===b&&(c=a.value)})}return c};b.getRegisteredRtpHeaderExtensions=function(){return this.$1};return a}();g["default"]=a}),98);
__d("ZenonSDPManager",["FBLogger","ZenonInfraActionsLogger","ZenonSDPRtpHeaderExtensionManager","ZenonScreenShare","gkx","pako","performanceNow","qex","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",i="urn:3gpp:video-orientation",j="urn:ietf:params:rtp-hdrext:ssrc-audio-level";a=function(){function a(a,b,d,e){d===void 0&&(d=!1),e===void 0&&(e=!1),this.$2=null,this.$3=null,this.$1=a,this.$4=b.getZenonSdpTransformConfig(),this.$5=new(c("ZenonSDPRtpHeaderExtensionManager"))(e||d),this.$6=d}var e=a.prototype;e.getLocalSdp=function(){return this.$2};e.getRemoteSdp=function(){return this.$3};e.getSdpFormat=function(){return this.$1.getSdpFormat()};e.getZenonSDPRtpHeaderExtensionManager=function(){return this.$5};e.shouldPreferH264Multiway=function(){return c("gkx")("1707280")};e.createLocalSdp=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(c==="offer")){f.next=6;break}f.next=3;return b("regeneratorRuntime").awrap(this.$1.createOffer(babelHelpers["extends"]({},d,{preserveH264:this.$4.isPreserveH264()})));case 3:f.t0=f.sent;f.next=9;break;case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$1.createAnswer());case 8:f.t0=f.sent;case 9:e=f.t0;this.shouldPreferH264Multiway()&&(this.$4.isPreferSwH264()?e.preferH264Codec({levelAsymmetryAllowed:!0,packetizationMode:!0,profileLevelId:"42e01f"}):e.preferCodec("video",{preferredCodec:"H264",preferredCodecRate:9e4}));this.$4.isPreserveH264()||e.removeCodec("H264");e.removeCodec("flexfec-03");e.removeCodec("VP9");e.removeCodec("AV1");e.removeCodec("red");e.removeCodec("ulpfec");this.$7(e);e.setVersion(a);this.$2=e;return f.abrupt("return",e);case 21:case"end":return f.stop()}},null,this)};e.setLocalSdp=function(a){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.prev=0;d=btoa(c("pako").deflate(a.toLoggingString(),{to:"string"}));c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Set local description sdp: "+d});e=c("performanceNow")();g.next=6;return b("regeneratorRuntime").awrap(this.$1.setLocalDescription(a));case 6:f=c("performanceNow")()-e;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP]["+a.getType()+"] Finished setting local sdp of type in: "+String(f)});g.next=14;break;case 10:g.prev=10;g.t0=g["catch"](0);c("ZenonInfraActionsLogger").logError({checkpoint:"[ZP] Failed to set local sdp",error:g.t0.toString(),errorDomain:"ZenonSDPManager_setLocalSdp",sdpFormat:this.$1.getSdpFormat()});throw g.t0;case 14:this.$2=a;case 15:case"end":return g.stop()}},null,this,[[0,10]])};e.rollbackSdp=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return b("regeneratorRuntime").awrap(this.$1.rollbackSdp());case 3:c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Successfully called rollback sdp"});a.next=10;break;case 6:a.prev=6;a.t0=a["catch"](0);c("ZenonInfraActionsLogger").logError({checkpoint:"[ZP] Failed to set rollback sdp",error:a.t0.toString(),errorDomain:"ZenonSDPManager_rollbackSDP",sdpFormat:this.$1.getSdpFormat()});throw a.t0;case 10:case"end":return a.stop()}},null,this,[[0,6]])};e.createAndSetLocalSdp=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.createLocalSdp(a,c,d));case 2:e=f.sent;f.next=5;return b("regeneratorRuntime").awrap(this.setLocalSdp(e));case 5:return f.abrupt("return",e);case 6:case"end":return f.stop()}},null,this)};e.setRemoteSdp=function(a,e){var f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:a.isRemote()||c("ZenonInfraActionsLogger").logError({checkpoint:"[ZP] Wrong SDP location",error:"Non-remote SDP passed to setRemoteSdp()",errorDomain:"ZenonSDPManager_setRemoteSdp",sdpFormat:this.$1.getSdpFormat()});if(this.$1.canAcceptRemoteSdp()){i.next=3;break}return i.abrupt("return",a);case 3:e({name:"beginRemoteSdpMunging"});this.$7(a);e({name:"endRemoteSdpMunging"});d("ZenonScreenShare").screenShareWithReplaceTrack()&&c("gkx")("2255")&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Munge inactive media SSRC"}),a.mungeInactiveMediaSSRC(this.$1.getCurrentRemoteDescription()));i.prev=7;f=btoa(c("pako").deflate(a.toLoggingString(),{to:"string"}));c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Set remote description sdp: "+f});g=c("performanceNow")();i.next=13;return b("regeneratorRuntime").awrap(this.$1.setRemoteDescription(a));case 13:h=c("performanceNow")()-g;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Finished setting remote sdp in: "+String(h)});i.next=21;break;case 17:i.prev=17;i.t0=i["catch"](7);c("ZenonInfraActionsLogger").logError({checkpoint:"[ZP] Failed to set remote sdp",error:i.t0.toString(),errorDomain:"ZenonSDPManager_setRemoteSdp",sdpFormat:this.$1.getSdpFormat()});throw i.t0;case 21:this.$3=a;return i.abrupt("return",a);case 23:case"end":return i.stop()}},null,this,[[7,17]])};e.setRemoteIceCandidate=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(this.$1.setRemoteIceCandidate(a));case 3:d.next=10;break;case 5:d.prev=5;d.t0=d["catch"](0);c("FBLogger")("rtc_www").catching(d.t0).warn("Failed to setRemoteIceCandidate with ",JSON.stringify(a));c("ZenonInfraActionsLogger").logError({checkpoint:"[ZP] Failed to set remote ice candidate",error:d.t0.toString(),errorDomain:"ZenonSDPManager_setRemoteIceCandidate",sdpFormat:this.$1.getSdpFormat()});throw d.t0;case 10:case"end":return d.stop()}},null,this,[[0,5]])};e.closePeerConnection=function(){this.$1.close()};e.restartPeerConnection=function(){this.$5.resetRtpHeaderExtensionStatus(),this.$1.restart()};e.$7=function(a){a.useDTLSOverCrypto();a.stripDataChannel();a.maybeAddPtimeForOpusOnly(60);c("gkx")("1720807")&&a.addFmtpConfig("H264","sps-pps-idr-in-keyframe","1");this.$4.isDisableOpusStereo()&&a.addFmtpConfig("opus","stereo","0");a.addFmtpConfig("opus","useinbandfec",this.$4.isSetOpusUseinbandfec()?"1":"0");a.addFmtpConfig("opus","usedtx",this.$4.isSetOpusUsedtx()?"1":"0");var b=this.$4.getSetOpusMaxaveragebitrate();b>0&&a.addFmtpConfig("opus","maxaveragebitrate",b.toString());b=this.$4.getSetOpusMaxplaybackrate();b>0&&a.addFmtpConfig("opus","maxplaybackrate",b.toString());a.addAudioNACK();a.isRemote()?(this.$5.setExtensionsSupportedByRemote(a),c("qex")._("1745")&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] replacing audio cname in sdp to disable AV sync"}),a.replaceAudioCname("mungedStream")),c("gkx")("2943")&&a.addSetupActPass()):(a.filterExtension(h,"video"),c("gkx")("3613")&&a.filterExtension(i,"video"),this.$6&&a.filterExtension(j,"audio"),this.$5.enableRegisteredExtensions(a))};return a}();g["default"]=a}),98);
__d("ZenonSimulcastDataMessageParser",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=0;a.perSsrcTargetBitrateBpsMap!=null&&(b=h(a.perSsrcTargetBitrateBpsMap));if(a.qualityMask!=null){a=parseInt(a.qualityMask,10);isNaN(a)||(c=a)}return{perSsrcTargetBitrateBpsMap:b,qualityMask:c}}function h(a){var b=new Map();Object.keys(a).forEach(function(d){var e=parseInt(a[d],10);if(isNaN(e)){c("recoverableViolation")("Simulcast bitrate string could not be parsed as int","rtc_www");return}b.set(d,e)});return b}g.parseSimulcastControlMessage=a}),98);
__d("ZenonPeerConnectionManager",["DateConsts","FBLogger","ZenonBrowsers","ZenonClientTslogUploader","ZenonInfraActionsLogger","ZenonMediaChannelManager","ZenonMediaError","ZenonPeerConnectionStateMachine","ZenonRTCPeerConnectionConfig","ZenonRTCPeerConnectionWrapper","ZenonSDPManager","ZenonSimulcastDataMessageParser","ZenonSimulcastManager","ZenonSimulcastUtils","clearTimeout","justknobx","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC,i=6,j=3,k=2*d("DateConsts").MS_PER_SEC;a=function(){function a(a,b,e,f,g,h,i,j){var l=this;e===void 0&&(e=!1);f===void 0&&(f=function(){});i===void 0&&(i=!1);j===void 0&&(j=!1);this.$5=null;this.$6=function(){};this.$7=new Set();this.$8=new Map();this.$9=!1;this.$11=null;this.$12=null;this.$13=0;this.$14=new Map();this.$15=!1;this.$17=function(a){a=a.target;a=a.iceConnectionState;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"iceConnectionStateChange: "+a,sdpFormat:l.$4.getSdpFormat()});var b=a==="connected"||a==="completed";a!=="checking"&&a!=="new"&&a!=="closed"&&l.$6({connected:b,name:"peerConnectionStateChanged",newState:a});b&&l.$6({name:"mediaConnected"});a==="connected"&&l.$6({name:"iceConnectionStateChangedConnected"});a==="disconnected"&&l.$6({name:"iceConnectionStateChangedDisconnected"});l.updateIceConnectionTimer(a);l.$15&&l.updateIceRestartTimer(a,k);l.$1.processEvent({payload:{iceConnectionState:a},type:"iceConnectionStateChange"})};this.$19=function(a){a=a.target;a.signalingState==="closed"&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Peer connection signaling state changed to closed",sdpFormat:l.$4.getSdpFormat()});if(c("justknobx")._("567")&&a.connectionState==="closed"){a=!0;var b=d("ZenonMediaError").ZenonMediaError.ConnectionClosed;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Peer connection state changed to closed"});l.$1.processEvent({payload:{error:b,stopLocalTracks:a},type:"endCall"})}};this.$18=function(a){a=a.candidate;a!=null&&l.$1.processEvent({payload:a,type:"iceCandidateReady"})};this.$9=e;this.$10=a.getSimulcastOverSignalingConfig().isSimulcastOverSignalingEnabled();this.$6=f;this.$5=null;f=c("ZenonRTCPeerConnectionConfig").getConfigZenonPlatform();this.$4=new(c("ZenonRTCPeerConnectionWrapper"))(a,babelHelpers["extends"]({},f),{},e);this.$6({name:"peerConnectionCreated",sdpFormat:f.sdpSemantics});this.$2=new(c("ZenonMediaChannelManager"))(this.$4,b,function(a){return l.$6({mediaStats:a,name:"setMediaStats"})},g,h);this.$3=new(c("ZenonSDPManager"))(this.$4,a,j,g!=null);this.$1=new(c("ZenonPeerConnectionStateMachine"))(babelHelpers["extends"]({},this.$16(),{logEvent:function(a){return l.$6(a)},mediaChannelManager:this.$2,sdpManager:this.$3,tslogUploader:new(c("ZenonClientTslogUploader"))(function(a){return l.$6(a)},this.$2)}));this.$15=i&&d("ZenonBrowsers").supportsIceRestart();this.$4.addEventListener("iceconnectionstatechange",this.$17);this.$4.addEventListener("icecandidate",this.$18);this.$4.addEventListener("signalingstatechange",this.$19)}var b=a.prototype;b.subscribeDataChannelOpen=function(a,b){var c;c=(c=this.$14.get(b))!=null?c:[];c.push(a);this.$14.set(b,c)};b.unsubscribeDataChannelOpen=function(a,b){var c;c=(c=this.$14.get(b))!=null?c:[];c=c.filter(function(b){return b!==a});this.$14.set(b,c)};b.updateIceRestartTimer=function(a,b){var d=this,e=a==="connected"||a==="completed";a=a==="disconnected"||a==="failed";e&&this.$12!=null?(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Clearing platform ice restart timer",sdpFormat:this.$4.getSdpFormat()}),c("clearTimeout")(this.$12),this.$12=null):a&&this.$12==null&&this.$13<j&&(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Creating an ICE Restart timer"}),this.$12=c("setTimeout")(function(){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Issuing an ICE Restart"}),d.$13++,d.$1.processEvent({type:"iceRestart"})},b))};b.updateIceConnectionTimer=function(a){var b=this,e=a==="connected"||a==="completed";a=a==="disconnected"||a==="failed";e&&this.$11!=null?(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Clearing platform connection drop timer",sdpFormat:this.$4.getSdpFormat()}),c("clearTimeout")(this.$11),this.$11=null):a&&this.$11==null&&(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Setting platform connection drop timer",sdpFormat:this.$4.getSdpFormat()}),this.$11=c("setTimeout")(function(){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Ending call on platform connection drop timeout",sdpFormat:b.$4.getSdpFormat()}),b.$1.processEvent({payload:{error:d("ZenonMediaError").ZenonMediaError.IceDisconnected,stopLocalTracks:!0},type:"endCall"})},h))};b.getLocalMediaStateVersion=function(){return this.$1.getLocalMediaStateVersion()};b.setLocalMediaStateVersion=function(a){this.$1.processEvent({payload:{version:a},type:"setLocalMediaStateVersion"})};b.addLocalTracks=function(a,b,c){this.$1.processEvent({payload:{callInitiator:c,mediaMode:b,tracks:a},type:"addLocalTracks"})};b.removeLocalTrack=function(a){this.$1.processEvent({payload:{trackId:a},type:"removeLocalTrack"})};b.replaceLocalTrack=function(a,b){this.$1.processEvent({payload:{replacementTrack:b,trackIdToReplace:a},type:"replaceLocalTrack"})};b.createDataChannel=function(a,b){var d=this;this.$7.add(a);this.$1.processEvent({payload:{dataChannelEstablished:b,dataChannelLabel:a,onDataChannelMessage:function(b){var e;d.$1.processEvent({payload:{data:b,dataChannelLabel:a},type:"dataChannelMessageReceived"});e=(e=c("qex")._("635"))!=null?e:!1;d.$9&&a==="data"&&e&&d.maybeHandleSimulcastDataMessage(b)},onDataChannelOpen:function(){var b=d.$14.get(a);b==null?void 0:b.forEach(function(a){a()})}},type:"createDataChannel"})};b.onSimulcastSignalingDataMessage=function(a){this.$9&&this.$10&&this.maybeHandleSignalingSimulcastDataMessage(a)};b.createDataMessageSubscription=function(a,b){this.$8.has(a)||(this.$8.set(a,b),this.$1.processEvent({payload:{dataChannelLabel:a,onSignalingDataMessage:b},type:"createDataMessageSubscription"}))};b.removeDataMessageSubscription=function(a){if(this.$8.has(a)){var b;b=(b=this.$8.get(a))!=null?b:function(){};this.$8["delete"](a);this.$1.processEvent({payload:{dataChannelLabel:a,onSignalingDataMessage:b},type:"removeDataMessageSubscription"})}};b.getSdpFormat=function(){return this.$4.getSdpFormat()};b.getDataChannelLabels=function(){return this.$7};b.getDataChannelState=function(a){return this.$4.getDataChannelState(a)};b.getDataMessageSubscriptions=function(){return this.$8};b.getSupportsSimulcastOverSignaling=function(){return this.$10};b.setSupportsSimulcastOverSignaling=function(a){this.$10=a};b.localMediaStateUpdateRetry=function(a){var b=this,c=this.$1.getContext();c.retryCount<i&&(c.retryCount++,c.localMediaStateUpdateRetryTimerId=window.setTimeout(function(){b.$1.processEvent({type:"localMediaStateUpdateRetry"})},a))};b.clearRetryCount=function(){var a=this.$1.getContext();a.retryCount=0};b.cancelPendingNegotiation=function(){this.$1.processEvent({type:"remoteSdpFailed"})};b.muteLocalTrack=function(a){this.$1.processEvent({payload:{trackId:a},type:"muteLocalTrack"})};b.unmuteLocalTrack=function(a){this.$1.processEvent({payload:{trackId:a},type:"unmuteLocalTrack"})};b.stopLocalTrack=function(a){this.$1.processEvent({payload:{trackId:a},type:"stopLocalTrack"})};b.applyLocalSdp=function(){this.$1.processEvent({type:"applyLocalSdp"})};b.applyMediaUpdate=function(a){this.$1.processEvent({payload:{mediaStates:a},type:"applyMediaUpdate"})};b.applyRemoteSdp=function(a,b,c,d,e,f){this.$1.processEvent({payload:{mediaStates:b,messageID:f,onProcessed:e,renegotiationOffer:d,sdp:a,source:c},type:"applyRemoteSdp"})};b.applyRemoteIceCandidate=function(a){this.$1.processEvent({payload:a,type:"applyRemoteIceCandidate"})};b.forceEncodingEnabled=function(a){this.$1.processEvent({payload:{enabled:a},type:"forceEncodingEnabled"})};b.end=function(a,b){c("clearTimeout")(this.$12),this.$1.processEvent({payload:{restart:b,stopLocalTracks:a},type:"endCall"})};b.restart=function(){this.end(!1,!0),this.$2.clearTracks(),this.$1.processEvent({type:"restartPeerConnection"})};b.getTracks=function(){return this.$2.getTracks()};b.updateTrackInfo=function(a){return this.$2.updateTrackInfo(a)};b.getLocalTracksForMWS=function(){return this.$2.getLocalTracksForMWS()};b.getRtpSenders=function(){return this.$4.getSenders()};b.getRtpReceivers=function(){return this.$4.getReceivers()};b.setPeerConnectionEventHandlers=function(a){this.$5=a};b.swapPeerConnectionEventHandlers=function(a){var b=this.$5;this.$5=a.$5;a.$5=b};b.registerNetworkStatusListener=function(a){this.$2.registerNetworkStatusListener(a)};b.registerTrackListener=function(a){this.$2.registerTrackListener(a)};b.setTrackListenersFromManager=function(a){this.$2.setTrackListenersFromManager(a.$2)};b.setLoggingEventHandler=function(a){this.$6=a};b.sendDataMessage=function(a,b){this.$4.sendDataMessage(a,b)};b.$16=function(){return{onConnectionDestroyed:this.$20("onConnectionDestroyed"),onConnectionDropped:this.$20("onConnectionDropped"),onConnectionEstablished:this.$20("onConnectionEstablished"),onCreateDataMessageSubscription:this.$20("onCreateDataMessageSubscription"),onDataChannelMessageReceived:this.$20("onDataChannelMessageReceived"),onIceCandidateReady:this.$20("onIceCandidateReady"),onLocalMediaStateUpdate:this.$20("onLocalMediaStateUpdate"),onLocalSdpSet:this.$20("onLocalSdpSet"),onRemoteSdpSet:this.$20("onRemoteSdpSet"),onRemoveDataMessageSubscription:this.$20("onRemoveDataMessageSubscription")}};b.$20=function(a){var b=this;return function(){if(b.$5&&b.$5[a]){var c;(c=b.$5)[a].apply(c,arguments)}}};b.maybeHandleSimulcastDataMessage=function(a){try{a=JSON.parse(a);a=a.body;if(a.videoUploadRequest){a=d("ZenonSimulcastDataMessageParser").parseSimulcastControlMessage(a.videoUploadRequest);this.handleSimulcastUploadRequest(a)}}catch(a){c("FBLogger")("rtc_www").warn("MaybeHandleSimulcastDataMessage failed:",a)}};b.maybeHandleSignalingSimulcastDataMessage=function(a){try{a=JSON.parse(a);if(a.qualityMask&&a.perSsrcTargetBitrateBpsMap){a={perSsrcTargetBitrateBpsMap:a.perSsrcTargetBitrateBpsMap,qualityMask:a.qualityMask};a=d("ZenonSimulcastDataMessageParser").parseSimulcastControlMessage(a);this.handleSimulcastUploadRequest(a)}}catch(a){c("FBLogger")("rtc_www").warn("MaybeHandleSignalingSimulcastDataMessage failed:",a)}};b.handleSimulcastUploadRequest=function(a){var b,c;if(!d("ZenonSimulcastUtils").isCurrentBrowserCompatibleWithSimulcast()||!this.$4.supportsSimulcast()||typeof ((b=window.RTCRtpSender)==null?void 0:b.prototype.getParameters)!=="function")return;b=this.$4.getSenders().filter(function(a){return a.track&&a.track.kind==="video"});if(b.length===0)return;b=b[0];var e=this.$4.getTransceiverFromSender(b);if(!e||e.stopped)return;e=!1;var f=this.$2.getTracks();if((c=b.track)==null?void 0:c.id){f=f.get((c=b.track)==null?void 0:c.id);e=f&&f.contentType==="screen"}c=this.getTotalVideoParticipants();a=d("ZenonSimulcastManager").getSimulcastEncodingParameters(b.getParameters(),a,c,d("ZenonSimulcastManager").getSimulcastSsrcToLayerMap(((f=this.$3.getLocalSdp())==null?void 0:f.toDesc().sdp)||""),e,d("ZenonSimulcastUtils").getMaxNumLayers(),{height:(c=(a=b.track)==null?void 0:a.getSettings().height)!=null?c:720,width:(e=(f=b.track)==null?void 0:f.getSettings().width)!=null?e:1280},d("ZenonSimulcastManager").ALLOW_SCREENSHARE_SIMULCAST,d("ZenonSimulcastManager").MIN_NUM_ACTIVE_LAYERS);c=a.params;b.setParameters(c)};b.getTotalVideoParticipants=function(){var a=this.$4.getTransceivers(),b=this.$4.getReceivers();if(a!=null&&a.length>0){a=a.filter(function(a){var b;return((b=a.receiver.track)==null?void 0:b.kind)==="video"&&a.currentDirection!=="inactive"&&((b=a.receiver.track)==null?void 0:b.readyState)==="live"});a=a.length}else{b=b.filter(function(a){return((a=a.track)==null?void 0:a.kind)==="video"});a=b.length+1}return a};b.renegotiateNullSenderTransport=function(){for(var a=this.getRtpSenders(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.transport==null){this.applyLocalSdp();break}}};return a}();g["default"]=a}),98);
__d("OverlayConfigLayer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getLayerSource=function(){return this.$1};b.getValue=function(a){return this.$2[a]};b.logExposure=function(a){};return a}();f["default"]=a}),66);
__d("OverlayConfigLayerBuilder",["OverlayConfigConstants","OverlayConfigLayer","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new Array(b("OverlayConfigConstants").OverlayConfigNumParameters).fill(b("OverlayConfigConstants").OverlayConfigNotPresentFlagValue),this.$2=a}var c=a.prototype;c.build=function(){return new(b("OverlayConfigLayer"))(this.$2,this.$1)};c.$3=function(a,c){a>=b("OverlayConfigConstants").OverlayConfigNumParameters&&b("unrecoverableViolation")("Parameter ID passed in exceeds max parameter id","rtc_www"),this.$1[a]=c};c.$4=function(a,b){this.$3(a,b?1:0)};c.setExampleConfigEnabled=function(a){this.$4(0,a)};c.setExampleConfigSomeBoolean=function(a){this.$4(2,a)};c.setExampleConfigSomeOtherIntegerHasValue=function(a){this.$4(1724,a)};c.setExampleConfigSomeOtherBoolean=function(a){this.$4(2044,a)};c.setExampleConfigSomeInteger=function(a){this.$3(1,a)};c.setExampleConfigSomeOtherInteger=function(a){this.$3(3,a)};c.setExampleConfigSomeDouble=function(a){this.$3(2011,a)};c.setSimulcastOverSignalingConfigSimulcastOverSignalingEnabled=function(a){this.$4(651,a)};c.setZenonSdpTransformConfigPreserveH264=function(a){this.$4(244,a)};c.setZenonSdpTransformConfigPreferH264ForMwCall=function(a){this.$4(420,a)};c.setZenonSdpTransformConfigPreferSwH264=function(a){this.$4(421,a)};c.setZenonSdpTransformConfigAddAudioNack=function(a){this.$4(245,a)};c.setZenonSdpTransformConfigDisableOpusStereo=function(a){this.$4(246,a)};c.setZenonSdpTransformConfigPreferIsacForGroupAudio=function(a){this.$4(248,a)};c.setZenonSdpTransformConfigEnableOpusFmtpMunging=function(a){this.$4(1448,a)};c.setZenonSdpTransformConfigSetOpusUsedtx=function(a){this.$4(1444,a)};c.setZenonSdpTransformConfigSetOpusUseinbandfec=function(a){this.$4(1445,a)};c.setZenonSdpTransformConfigSetOpusMaxplaybackrate=function(a){this.$3(1446,a)};c.setZenonSdpTransformConfigSetOpusMaxaveragebitrate=function(a){this.$3(1447,a)};c.setZenonPeerConnectionConfigRtpDataChannels=function(a){this.$4(302,a)};c.setZenonStartCallImmediatelyConfigEnabled=function(a){this.$4(308,a)};c.setZenonGeneralizedIdentityConfigDuplicatedParticipantsProcessingMode=function(a){this.$3(1891,a)};c.setZenonMultiCallSupportConfigMaxConnectedCalls=function(a){this.$3(309,a)};c.setZenonPlatformSupportConfigSupportsZenonPlatform=function(a){this.$4(316,a)};c.setZenonPlatformSupportConfigStartImmediatelyEnabled=function(a){this.$4(318,a)};c.setZenonPlatformSupportConfigUploadSummaryOnCallEnded=function(a){this.$4(2251,a)};c.setZenonPlatformSupportConfigMultiwayAvEscalationEnabled=function(a){this.$4(1900,a)};c.setZenonPlatformSupportConfigMaxConnectedCalls=function(a){this.$3(317,a)};c.setZenonPlatformSupportConfigParentWindowConnectionTimeoutMs=function(a){this.$3(319,a)};c.setZenonSimulcastConfigSimulcastEnabled=function(a){this.$4(453,a)};c.setDynamicRuleConfigEnabled=function(a){this.$4(1342,a)};c.setDynamicRuleConfigDebugLoggingEnabled=function(a){this.$4(1597,a)};c.setDynamicRuleConfigDisableCallTypeConditional=function(a){this.$4(1821,a)};c.setDynamicRuleConfigDisableAbweSubscriber=function(a){this.$4(1820,a)};c.setDynamicRuleConfigProcessIntervalMs=function(a){this.$3(1359,a)};c.setDynamicRuleConfigNetworkProcessIntervalMs=function(a){this.$3(1510,a)};c.setDynamicRuleConfigDebugLoggingIntervalMs=function(a){this.$3(1612,a)};c.setSignalingPingConfigPingIntervalMs=function(a){this.$3(1470,a)};return a}();e.exports=a}),null);
__d("ChromeOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource","ZenonBrowsers"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);a.setSimulcastOverSignalingConfigSimulcastOverSignalingEnabled(!0);a.setZenonPeerConnectionConfigRtpDataChannels(d("ZenonBrowsers").isDataChannelSupported());return a.build()}();b=a;g["default"]=b}),98);
__d("EdgeOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);return a.build()}();b=a;g["default"]=b}),98);
__d("FirefoxOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);return a.build()}();b=a;g["default"]=b}),98);
__d("OperaOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);a.setZenonSdpTransformConfigPreserveH264(c("gkx")("1406693"));return a.build()}();b=a;g["default"]=b}),98);
__d("ZenonOverlayConfigManager",["ChromeOverlayConfigLayer","EdgeOverlayConfigLayer","FirefoxOverlayConfigLayer","OperaOverlayConfigLayer","OverlayConfigManager","RTWebSignalingListener","UserAgentData"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a;this.$2=new(c("OverlayConfigManager"))();var b={Chrome:c("ChromeOverlayConfigLayer"),"Edge (Chromium Based)":c("EdgeOverlayConfigLayer"),Firefox:c("FirefoxOverlayConfigLayer"),Opera:c("OperaOverlayConfigLayer")};b=b[c("UserAgentData").browserName];b&&this.$2.layerManager.addLayer(b);a.appConfig&&this.$2.layerManager.addLayer(a.appConfig)}var b=a.prototype;b.getSignalingListener=function(){var a;return(a=this.$1.signalingListener)!=null?a:new(c("RTWebSignalingListener"))()};b.getConfigManager=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ZenonCallSDK",["EventEmitter","ZenonCallsManager","ZenonCallsModelEmitter","ZenonOverlayConfigManager","ZenonTransportEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;b=new(c("ZenonOverlayConfigManager"))(b);e.$ZenonCallSDK2=b;e.$ZenonCallSDK1=new(c("ZenonCallsManager"))(b);d("ZenonCallsModelEmitter").CallsModelEmitterInstance.addListener("callsModelUpdate",function(a){e.emit("callsModelUpdate",a)});c("ZenonTransportEventEmitter").addListener("transportPlatformEvent",function(a){e.emit("signalingEvent",a)});return e}var e=b.prototype;e.initSignaling=function(a,b,c,d){this.$ZenonCallSDK1.initializeSignaling(a,b,c,d)};e.endCall=function(a,b,c){this.$ZenonCallSDK1.endCall(a,b,c)};e.join=function(a){this.$ZenonCallSDK1.join(a)};e.ringParticipants=function(a,b){this.$ZenonCallSDK1.ringParticipants(a,b)};e.removeParticipants=function(a,b){this.$ZenonCallSDK1.removeParticipants(a,b)};e.forceEncodingEnabled=function(a,b){this.$ZenonCallSDK1.forceEncodingEnabled(a,b)};e.addLocalTrack=function(a,b){this.$ZenonCallSDK1.addLocalTrack(a,b)};e.removeLocalTrack=function(a,b){this.$ZenonCallSDK1.removeLocalTrack(a,b)};e.replaceLocalTrack=function(a,b,c,d){d===void 0&&(d=!1);return this.$ZenonCallSDK1.replaceLocalTrack(a,b,c,d)};e.muteTrack=function(a,b){this.$ZenonCallSDK1.muteTrack(a,b)};e.unmuteTrack=function(a,b){this.$ZenonCallSDK1.unmuteTrack(a,b)};e.stopLocalVideo=function(a,b){this.$ZenonCallSDK1.stopLocalVideo(a,b)};e.createDataMessageSubscription=function(a,b,c){this.$ZenonCallSDK1.createDataMessageSubscription(a,b,c)};e.removeDataMessageSubscription=function(a,b,c){this.$ZenonCallSDK1.removeDataMessageSubscription(a,b,c)};e.sendGenericDataMessage=function(a,b,c,d,e){this.$ZenonCallSDK1.sendGenericDataMessage(a,b,c,d,e)};e.getLogIdentifiers=function(a){return this.$ZenonCallSDK1.getLogIdentifiers(a)};e.subscribeToRemoteVideo=function(a,b,c){this.$ZenonCallSDK1.subscribeToRemoteVideo(a,b,c)};e.unsubscribeFromStateSyncTopic=function(a,b){this.$ZenonCallSDK1.unsubscribeFromStateSyncTopic(a,b)};e.subscribeToStateSyncTopic=function(a,b){this.$ZenonCallSDK1.updateStateSyncTopic(a,b,null)};e.updateStateSyncTopic=function(a,b,c){this.$ZenonCallSDK1.updateStateSyncTopic(a,b,c)};e.approveParticipants=function(a,b){this.$ZenonCallSDK1.approveParticipants(a,b)};e.denyParticipants=function(a,b){this.$ZenonCallSDK1.denyParticipants(a,b)};e.getSdpFormat=function(a){return this.$ZenonCallSDK1.getSdpFormat(a)};e.getSecureFrameManagerState=function(a){return this.$ZenonCallSDK1.getSecureFrameManagerState(a)};e.getSignalingProtocol=function(a){return this.$ZenonCallSDK1.getSignalingProtocol(a)};e.getMediaMode=function(a){return this.$ZenonCallSDK1.getMediaMode(a)};e.getConferenceName=function(a){return this.$ZenonCallSDK1.getConferenceName(a)};e.initV2Infrastructure_DEPRECATED=function(a,b){this.$ZenonCallSDK1.initializeV2Infrastructure(a,b)};e.setLinkSurface=function(a,b){this.$ZenonCallSDK1.setLinkSurface(a,b)};e.submitRating_DEPRECATED=function(a,b,c,d){c===void 0&&(c=null),d===void 0&&(d=null),this.$ZenonCallSDK1.submitRating(a,b,c,d)};e.setRatingImpression_DEPRECATED=function(a,b,c){b===void 0&&(b=!1),c===void 0&&(c=!1),this.$ZenonCallSDK1.setRatingImpression(b,c)};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("useZenonSyncState",["FBLogger","ZenonCallsContext","ZenonCallsHooks","ZenonCallsModelTypes","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j="useZenonSyncState";function a(a){var b=c("ZenonCallsHooks").useCallState(),e=i(c("ZenonCallsContext")),f=e.callSDK,g=e.currentClientCallId;e=b===d("ZenonCallsModelTypes").ZenonCallState.Connected;var k=h(function(e){if(b!==d("ZenonCallsModelTypes").ZenonCallState.Connected)return;c("setTimeout")(function(){c("FBLogger")("rtc_www").info(j+": Update state sync "+a),f.updateStateSyncTopic(g,a,e)},0)},[f,b,g,a]);return{canUpdate:e,update:k}}g["default"]=a}),98);
__d("ZenonDominantSpeakerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({dominantSpeakerID:null});c=b;g["default"]=c}),98);
__d("ZenonDominantSpeakerHooks",["ZenonDominantSpeakerContext","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useDebugValue;function a(){var a=h(c("ZenonDominantSpeakerContext"));a=a.dominantSpeakerID;i(a);return a}g.useDominantSpeakerID=a}),98);
__d("ZenonLayoutContext",["ZenonLayout","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({canSetLayout:!1,hasOverflowingRemoteView:!1,layout:c("ZenonLayout").Grid,pinnedSpeakerID:null,setHasOverflowingRemoteView:function(a){throw new Error("setHasOverflowingRemoteView is not implemented!")},setLayout:function(a){throw new Error("setLayout is not implemented!")},setPinnedSpeakerID:function(a){throw new Error("setPinnedSpeakerID is not implemented!")}});e=b;g["default"]=e}),98);
__d("ZenonLayoutHooks",["ZenonLayoutContext","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";d=d("react");var h=d.useCallback,i=d.useContext,j=d.useDebugValue,k=d.useEffect,l=d.useRef;function a(){var a=i(c("ZenonLayoutContext"));a=a.canSetLayout;j(a);return a}function m(){var a=i(c("ZenonLayoutContext")),b=a.hasOverflowingRemoteView;a=a.setHasOverflowingRemoteView;j(b);return[b,a]}function b(){var a=i(c("ZenonLayoutContext")),b=a.layout;a=a.setLayout;j(b);return[b,a]}function e(a){a===void 0&&(a=[]);var b=l(null),d=m();d[0];var e=d[1],f=h(function(){var a=b.current;if(a&&a.parentElement){a=a.scrollHeight>a.parentElement.clientHeight||a.scrollWidth>a.parentElement.clientWidth;e(a)}},[e]);k(function(){var a=c("debounce")(f);window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},[f]);k(f,[f].concat(a));return b}function f(){var a=i(c("ZenonLayoutContext")),b=a.pinnedSpeakerID;a=a.setPinnedSpeakerID;j(b);return[b,a]}g.useCanSetLayout=a;g.useHasOverflowingRemoteView=m;g.useLayout=b;g.useOverflowingRemoteViewObserver=e;g.usePinnedSpeakerID=f}),98);
__d("ZenonLoggingContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({callID:null,callTrigger:"",codebaseVersion:"",deviceID:"",isCaller:null,isCheckpointDomainLogged:function(a){throw c("unrecoverableViolation")("isCheckpointDomainsLogged is not implemented!","rtc_www")},isErrorDomainLogged:function(a){throw c("unrecoverableViolation")("isErrorDomainLogged is not implemented!","rtc_www")},page:"",peerID:null,roomID:"",setCallTrigger:function(a){throw c("unrecoverableViolation")("setCallTrigger is not implemented!","rtc_www")},setCheckpointDomainLogged:function(a){throw c("unrecoverableViolation")("setCheckpointDomainsLogged is not implemented!","rtc_www")},setErrorDomainLogged:function(a){throw c("unrecoverableViolation")("setErrorDomainLogged is not implemented!","rtc_www")},setIsCaller:function(a){throw c("unrecoverableViolation")("setIsCaller is not implemented!","rtc_www")},startTimer:function(a){throw c("unrecoverableViolation")("startTimer is not implemented!","rtc_www")},stopTimer:function(a){throw c("unrecoverableViolation")("stopTimer is not implemented!","rtc_www")}});e=b;g["default"]=e}),98);
__d("ZenonScreenSharingContext",["ZenonScreenSharingAvailabilityType","emptyFunction","immutable","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({isPopoutOpen:!1,remoteScreenSharingSourcePerUserID:c("immutable").Map(),remoteScreenSharingUserIDs:c("immutable").OrderedSet(),remoteUserCount:0,screenSharingAvailability:c("ZenonScreenSharingAvailabilityType").Unknown,screenSharingSource:"default",setPopoutOpen:function(a){throw c("unrecoverableViolation")("setPopoutOpen is not implemented!","rtc_www")},setScreenSharingSource:c("emptyFunction"),setStopScreenSharingSignal:function(a){throw c("unrecoverableViolation")("setStopScreenSharingSignal is not implemented!","rtc_www")},stopScreenSharingSignal:null});e=b;g["default"]=e}),98);
__d("ZenonHotKeysConfig",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=[{altKey:!0,key:"e",label:h._(/*FBT_CALL*/"K\u1ebft th\u00fac cu\u1ed9c g\u1ecdi"/*FBT_CALL*/)},{altKey:!0,key:"f",label:h._(/*FBT_CALL*/"To\u00e0n m\u00e0n h\u00ecnh"/*FBT_CALL*/)},{altKey:!0,key:"r",label:h._(/*FBT_CALL*/"Gi\u01a1 tay"/*FBT_CALL*/)},{altKey:!0,key:"s",label:h._(/*FBT_CALL*/"Chia s\u1ebb m\u00e0n h\u00ecnh"/*FBT_CALL*/)},{altKey:!0,key:"p",label:h._(/*FBT_CALL*/"C\u00e0i \u0111\u1eb7t"/*FBT_CALL*/)},{altKey:!0,key:"m",label:h._(/*FBT_CALL*/"Chuy\u1ec3n sang t\u1eaft"/*FBT_CALL*/)},{altKey:!0,key:"v",label:h._(/*FBT_CALL*/"Chuy\u1ec3n video"/*FBT_CALL*/)}];g.config=a}),98);
__d("ZenonAppFeaturesContextValue",["DateConsts","ZenonHotKeysConfig","ZenonSignalingConstants"],(function(a,b,c,d,e,f,g){"use strict";a={"default":{allowFullscreen:!0,alwaysShowSelfViewInGrid:!1,callUserPopoverItems:new Set(["name","messageLink","profileLink","muteParticipant","removeGuest"]),chat:!0,connectionDroppedTimeout:30*d("DateConsts").MS_PER_SEC,dataChannelLabels:new Set(["data",d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC]),hotKeysConfig:d("ZenonHotKeysConfig").config,maxRemoteUsersInGrid:8,maxRemoteVideoSubscriptions:8,maxUserThresholdForScreenSharing:16,mediaAccessTimeout:5e3,mediaStatesOnStart:{isAudioEnabledOnStart:!0,isConfigPrivacyRequirement:!1,isVideoEnabledOnStart:!0},muteTracksOnStart:!1,ringBack:!0,screenSharing:!0}};g["default"]=a}),98);
__d("ZenonAppFeaturesContext",["ZenonAppFeaturesContextValue","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(c("ZenonAppFeaturesContextValue")["default"]);g["default"]=b}),98);
__d("ZenonScreenSharingConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="kMNScreenShareDataKeyUserId";c="kMNScreenSharingSource";d=b("$InternalEnum")({End:"kMNScreenShareDataEndScreenSharing",Start:"kMNScreenShareDataStartScreenSharing"});f.SCREEN_SHARE_DATA_USER_ID_KEY=a;f.SCREEN_SHARING_SOURCE_KEY=c;f.ZenonScreenSharingDataMessageTopic=d}),66);
__d("ZenonScreenSharingHooks",["RelayHooks","ZenonActorHooks","ZenonAppFeaturesContext","ZenonCallsContext","ZenonCallsHooks","ZenonScreenSharingAvailabilityType","ZenonScreenSharingConstants","ZenonScreenSharingContext","ZenonScreenSharingHooks_isFloorControlEnabled.graphql","ZenonScreenSharingHooks_maxRecipients.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=j.useCallback,l=j.useContext,m=j.useDebugValue;function a(){var a=l(c("ZenonScreenSharingContext")),b=a.remoteUserCount;a=a.screenSharingAvailability;var d=l(c("ZenonAppFeaturesContext"));d=d.maxUserThresholdForScreenSharing;a=a===c("ZenonScreenSharingAvailabilityType").Available&&b>d-1;m(a);return a}function e(a){var e=l(c("ZenonScreenSharingContext")),f=e.remoteUserCount;e=e.screenSharingAvailability;a=d("RelayHooks").useFragment(h!==void 0?h:h=b("ZenonScreenSharingHooks_maxRecipients.graphql"),a);e=e===c("ZenonScreenSharingAvailabilityType").Available&&((a==null?void 0:a.max_screen_share_recipients)==null?!1:f>a.max_screen_share_recipients);m(e);return e}function f(a){a=d("RelayHooks").useFragment(i!==void 0?i:i=b("ZenonScreenSharingHooks_isFloorControlEnabled.graphql"),a);return a.is_screen_share_floor_control_enabled}function n(){var a=l(c("ZenonScreenSharingContext")),b=a.isPopoutOpen,d=a.setPopoutOpen;a=k(function(a){d(a)},[d]);m(b);return[b,a]}function o(){var a=l(c("ZenonAppFeaturesContext"));a=a.maxUserThresholdForScreenSharing;m(a);return a}function p(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0];a=l(c("ZenonCallsContext"));var e=a.callSDK,f=a.currentClientCallId;return k(function(a){var c;e.sendGenericDataMessage(f,d("ZenonScreenSharingConstants").ZenonScreenSharingDataMessageTopic.End,JSON.stringify((c={},c[d("ZenonScreenSharingConstants").SCREEN_SHARE_DATA_USER_ID_KEY]=b,c)),a,[])},[b,e,f])}function q(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0];a=l(c("ZenonCallsContext"));var e=a.callSDK,f=a.currentClientCallId;a=l(c("ZenonScreenSharingContext"));var g=a.screenSharingSource;return k(function(a){var c;e.sendGenericDataMessage(f,d("ZenonScreenSharingConstants").ZenonScreenSharingDataMessageTopic.Start,JSON.stringify((c={},c[d("ZenonScreenSharingConstants").SCREEN_SHARE_DATA_USER_ID_KEY]=b,c[d("ZenonScreenSharingConstants").SCREEN_SHARING_SOURCE_KEY]=g,c)),a,[])},[b,e,f,g])}function r(){var a=l(c("ZenonScreenSharingContext"));a=a.remoteScreenSharingUserIDs;var b=c("ZenonCallsHooks").useRemoteScreenSharingUserIDs_DEPRECATED();a=a.size>=b.size?a:b;m(a);return a}function s(){var a=l(c("ZenonScreenSharingContext")),b=a.setStopScreenSharingSignal;a=a.stopScreenSharingSignal;var d=k(function(a){b(a)},[b]);m(a);return[a,d]}function t(a){return k(function(b){try{var c;b=JSON.parse(b);c=(c=b[d("ZenonScreenSharingConstants").SCREEN_SHARE_DATA_USER_ID_KEY])!=null?c:null;b=(b=b[d("ZenonScreenSharingConstants").SCREEN_SHARING_SOURCE_KEY])!=null?b:null;c!==null&&a(c,b)}catch(a){}},[a])}g.useDoesScreenSharingExceedMaxParticipants=a;g.useDoesScreenSharingExceedMaxParticipantsUnified=e;g.useIsFloorControlEnabled=f;g.useIsScreenContentPoppedOut=n;g.useMaxUserThreshold=o;g.useNotifyScreenShareEnd=p;g.useNotifyScreenShareStart=q;g.useRemoteScreenSharingUserIDs=r;g.useStopScreenSharingSignal=s;g.useUpdateRemoteScreenSharingUsers=t}),98);
__d("ZenonNotification",["react","uuid"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(){return"zenon-notif-"+c("uuid")().toString()}function b(a){return"zenon-notif-"+a}g.createID=a;g.createCustomID=b}),98);
__d("ZenonNotificationAtoms",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":[],key:"ZenonNotificationAtoms_notificationState"});g.ZenonNotificationAtoms_notificationState=a}),98);
__d("ZenonNotificationHooks",["Recoil","ZenonNotification","ZenonNotificationAtoms","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("Recoil").useSetRecoilState(d("ZenonNotificationAtoms").ZenonNotificationAtoms_notificationState);return h(function(b,c){var e=(c=c)!=null?c:d("ZenonNotification").createID();a(function(a){return[].concat(a,[{id:e,render:b}])})},[a])}function b(){var a=d("Recoil").useSetRecoilState(d("ZenonNotificationAtoms").ZenonNotificationAtoms_notificationState);return h(function(b){a(function(a){return a.some(function(a){return a.id===b})?a.filter(function(a){return a.id!==b}):a})},[a])}function c(){var a=d("Recoil").useSetRecoilState(d("ZenonNotificationAtoms").ZenonNotificationAtoms_notificationState);return h(function(){a(function(a){return a.length===0?a:[]})},[a])}function e(){var a=d("Recoil").useRecoilValue(d("ZenonNotificationAtoms").ZenonNotificationAtoms_notificationState);return a}g.usePushZenonNotification=a;g.useDismissZenonNotification=b;g.useDismissAllZenonNotifications=c;g.useZenonNotifications=e}),98);
__d("ZenonMosaicGridAtom",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":[],key:"ZenonMosaicGridAtom"});b=a;g["default"]=b}),98);
__d("ZenonZIndex",[],(function(a,b,c,d,e,f,g){"use strict";a={mainContent:{zIndex:"ly4sbmxm"},callControlsLayer:{zIndex:"cvby54pj"},dropdownsLayer:{zIndex:"kalj1f5w"},sidePanelLayer:{zIndex:"n3zdpzlr"},dialogsLayer:{zIndex:"alo7yt51"},notificationsLayer:{zIndex:"mywzyh5o"}};b=a;g["default"]=b}),98);
__d("ZenonDialogCloseIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("svg",{className:a.className,viewBox:"0 0 28 28",children:h.jsx("path",{d:"M14 12l3-3a1 1 0 112 2l-3 3 3 3a1 1 0 11-2 2l-3-3-3 3a1 1 0 11-2-2l3-3-3-3a1 1 0 112-2l3 3z"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonDialogCloseButton.react",["fbt","ZenonAbstractButton.react","ZenonDialogCloseIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClick;a=babelHelpers.objectWithoutPropertiesLoose(a,["onClick"]);return i.jsx(c("ZenonAbstractButton.react"),babelHelpers["extends"]({"aria-label":h._(/*FBT_CALL*/"\u0110\u00f3ng"/*FBT_CALL*/),className:"pcwd6mxu n80b6jj3 pxsnkk09 l5wt5ig2 ggagh4we ruewosqj b80demol tmim2xmv ra7dho7y di6nqzxa dyco0h0g fcqeik31 h6hzo99s a83566g4 aew9upud nxe5nuwb k0wp8trf gnr7189n ek9wyhim f6xbwjrt",onClick:b},a,{children:i.jsx(c("ZenonDialogCloseIcon.react"),{className:"ehi1kzmu i0i9u5yc pr0mtg1e svuzmm7t g0javuny nkafkkgu qukc8cf6"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StatsOverlayZenonStyles",[],(function(a,b,c,d,e,f){"use strict";a={overlay:{background:"rgba(0, 0, 0, 0.5)",color:"white",fontFamily:"Inconsolata, monospace",fontSize:"100%",left:0,lineHeight:1,maxWidth:"350px",padding:"10px",position:"absolute",start:"0",textAlign:"start",textShadow:"0 0 0.1rem #000",top:0,whiteSpace:"break-spaces",width:"100%"}};f.zenonOverlayStyles=a}),66);
__d("StatsOverlayZenonErrorBoundaryFallback.react",["StatsOverlayZenonStyles","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.error;return h.jsx("div",{"data-testid":void 0,style:d("StatsOverlayZenonStyles").zenonOverlayStyles.overlay,children:h.jsxs("span",{children:["Error loading StatsOverlayZenon with error message: ",a.message]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StatsOverlayZenonErrorBoundaryProject",[],(function(a,b,c,d,e,f){"use strict";a="stats_overlay";f["default"]=a}),66);
__d("ZenonDefaultErrorBoundaryProject",[],(function(a,b,c,d,e,f){"use strict";a="default";f["default"]=a}),66);
__d("ZenonLogLongSuspension.react",["ODS","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.name;h(function(){return j(b,5)},[b]);h(function(){return j(b,15)},[b]);h(function(){return j(b,60)},[b]);h(function(){return j(b,300)},[b]);return null}var i=/\W/g;function j(a,b){var e=c("setTimeout")(function(){d("ODS").bumpEntityKey(4272,"zenon_product","zenon_integration_boundary."+a.replace(i,"_")+".suspended_"+b.toString(10)+"_sec")},b*1e3);return function(){c("clearTimeout")(e)}}g["default"]=a}),98);
__d("ZenonPluginErrorState",["EventEmitter","Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({dangerouslyAllowMutability:!0,get:function(){return new(c("EventEmitter"))()},key:"ZenonPluginErrorState_events"});b=d("Recoil").atomFamily({"default":!1,key:"ZenonPluginErrorState_statuses"});g.events=a;g.statuses=b}),98);
__d("ZenonIntegrationBoundary.react",["ErrorBoundary.react","FBLogger","Recoil","ZenonDefaultErrorBoundaryProject","ZenonLogLongSuspension.react","ZenonPluginErrorState","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=a.children,e=a.errorBoundaryProject,f=a.forceResetErrorCount;f=f===void 0?void 0:f;var g=a.localErrorFallback;g=g===void 0?c("emptyFunction").thatReturns(null):g;var j=a.name,k=a.onError,l=k===void 0?c("emptyFunction"):k;k=a.projectErrorFallback;k=k===void 0?null:k;a=a.suspenseFallback;a=a===void 0?null:a;var m=i(!1),n=m[0],o=m[1],p=d("Recoil").useRecoilValue(d("ZenonPluginErrorState").events);m=d("Recoil").useRecoilState(d("ZenonPluginErrorState").statuses(e));var q=m[0],r=m[1];return q&&!n?k:h.jsx(c("ErrorBoundary.react"),{fallback:g,forceResetErrorCount:f,onError:function(a,b){if(l(a,b)===!1)c("FBLogger")("rtc_www","error_propagation_stopped").catching(a).info('ZenonIntegrationBoundary caught an error from "%s" in module "%s" and the caller stopped propagation');else if(e===c("ZenonDefaultErrorBoundaryProject")||e==="EXCEPTIONS_CRASH_THE_ENTIRE_APP"){c("FBLogger")("rtc_www","default_error_boundary_integration_crashed").catching(a).mustfix('ZenonIntegrationBoundary caught an error from "%s" in module "%s" and re-threw it because it is associated with the default error boundary project',j,b);throw a}else c("FBLogger")("rtc_www","error_propagated").catching(a).warn('ZenonIntegrationBoundary caught an error from "%s" of error boundary project "%s" in module "%s"',j,e,b),p.emit(e,j,a),o(!0),r(!0)},children:h.jsx(h.Suspense,{fallback:h.jsxs(h.Fragment,{children:[a,h.jsx(c("ZenonLogLongSuspension.react"),{name:j})]}),children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonLoggingSurfaceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext("call_container");g["default"]=b}),98);
__d("ZenonUIMedia",["ZenonMediaActionLogger","assignMediaStream","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ZenonUIMedia",i="setSinkId"in window.HTMLMediaElement.prototype;/\{\s+\[native code\]/.test(Function.prototype.toString.call(window.HTMLMediaElement.prototype.play))||c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonUIMedia warning: play() is non-native",h,null,"warn");a={attachAudioSink:function(a,d,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:e===void 0&&(e=i);if(e){g.next=3;break}return g.abrupt("return");case 3:f=a instanceof HTMLAudioElement?"audio":"video";g.prev=4;g.next=7;return b("regeneratorRuntime").awrap(a.setSinkId(d));case 7:g.next=13;break;case 9:g.prev=9;g.t0=g["catch"](4);c("ZenonMediaActionLogger").logErrorToFbLogger("Encountered error while calling attachAudioSink on "+f+" element",h,g.t0,"warn");throw g.t0;case 13:case"end":return g.stop()}},null,this,[[4,9]])},attachMediaStream:function(a,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=a instanceof HTMLAudioElement?"audio":"video";f.prev=1;c("assignMediaStream")(a,d);f.prev=3;f.next=6;return b("regeneratorRuntime").awrap(a.play());case 6:f.next=18;break;case 8:f.prev=8;f.t0=f["catch"](3);f.t1=f.t0.name;f.next=f.t1==="AbortError"?13:f.t1==="NotAllowedError"?15:17;break;case 13:c("ZenonMediaActionLogger").logErrorToFbLogger("Calling play() on "+e+" element failed",h,f.t0,"info");return f.abrupt("break",18);case 15:c("ZenonMediaActionLogger").logErrorToFbLogger("Browser blocked calling play() on "+e+" element",h,f.t0,"warn");return f.abrupt("break",18);case 17:c("ZenonMediaActionLogger").logErrorToFbLogger("Encountered an unknown or critical error calling play() on "+e+" element",h,f.t0,"mustfix");case 18:f.next=24;break;case 20:f.prev=20;f.t2=f["catch"](1);c("ZenonMediaActionLogger").logErrorToFbLogger("Encountered error while calling attachMediaStream on "+e+" element",h,f.t2,"warn");throw f.t2;case 24:case"end":return f.stop()}},null,this,[[1,20],[3,8]])},detachMediaStream:function(a){var b=a instanceof HTMLAudioElement?"audio":"video";try{c("assignMediaStream")(a,null)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger("Encountered error while calling detachMediaStream on "+b+" element",h,a,"warn");throw a}},supportsSetSink:i};d=a;g["default"]=d}),98);
__d("ZenonVideoWithDoubleBuffering.react",["FBLogger","MutationObserver","Promise","StatsOverlayZenonErrorBoundaryFallback.react","StatsOverlayZenonErrorBoundaryProject","UserAgent","ZenonIntegrationBoundary.react","ZenonLoggingHooks","ZenonMediaElementTracker","ZenonUIMedia","cr:1779315","cr:239","err","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useImperativeHandle,l=e.useRef,m=(e=b("cr:1779315"))!=null?e:function(){return null},n=(e=b("cr:239"))!=null?e:function(){return null},o=["abort","emptied","ended","error","pause","play","playing","stalled","waiting"],p={contain:{objectFit:"c0yktcng"},container:{overflowX:"rb9yzgxv",overflowY:"hgsucude",position:"hs7kmpfx"},content:{bottom:"geq71ugt",end:"hnte7a8w",height:"p3f4w9ai",position:"alrytcbg",start:"r30xiam5",top:"m0q0jmkx",width:"f5zavhip"},cover:{objectFit:"bb9rp2hf"}};function a(a,e){var f=a.allowOverlay,g=a["data-testid"];g=a.fit;var o=a.maxWidth,t=a.muted;t=t===void 0?!1:t;var u=a.onError,v=a.onReady,w=a.onResize,x=a.stream;a=a.xstyle;var y=l(null),z=l(null),A=l(!1),B="ZenonVideoDefaultImpl",C=d("ZenonLoggingHooks").useCheckpointLogging(),D=d("ZenonLoggingHooks").useErrorLogging(),E=i(function(a){a.forEach(function(a){a.type==="attributes"&&a.attributeName==="autoplay"&&(c("FBLogger")("rtweb").warn("ZenonVideo warning: autoplay was modified"),C("ZenonVideo autoplay was modified"))})},[C]),F=l(null),G=s(x),H=i(function(a,b){F.current&&F.current.disconnect(),a&&(F.current=new(c("MutationObserver"))(E),F.current.observe(a,{attributes:!0})),G(a,b),b.current=a},[G,E]);d("ZenonMediaElementTracker").useMediaElementTracker(y,x);d("ZenonMediaElementTracker").useMediaElementTracker(z,x);var I=i(function(a){var d=y.current,e=z.current,f=A.current;if(d==null||e==null||a==null)return b("Promise").reject(c("err")("Tried to attach a video stream with no available elements, or tried to attach a null stream"));if(f)return c("ZenonUIMedia").attachMediaStream(d,a).then(function(){d.style.display="block",e.style.display="none",c("ZenonUIMedia").detachMediaStream(e),A.current=!1,w==null?void 0:w()});else return c("ZenonUIMedia").attachMediaStream(e,a).then(function(){d.style.display="none",e.style.display="block",c("ZenonUIMedia").detachMediaStream(d),A.current=!0,w==null?void 0:w()})},[w]);j(function(){var a=y.current,b=z.current;return function(){a!=null&&b!=null&&(c("ZenonUIMedia").detachMediaStream(a),c("ZenonUIMedia").detachMediaStream(b))}},[]);j(function(){var a=y.current,b=z.current;a&&b&&x?(C("ZenonVideo attaching stream: "+x.id),I(x).then(function(){a.paused&&(c("FBLogger")("rtweb").warn("ZenonVideo invoked play(), but is still paused"),C("ZenonVideo invoked play(), but is still paused"))})["catch"](function(a){var b;D({checkpoint:"ZenonVideo failed to attach and play stream: "+x.id+". Error: "+((b=a==null?void 0:a.toString())!=null?b:"null"),error:c("err")(a==null?void 0:a.toString()),errorDomain:B+"_onAttachingStream"})})):a==null&&C("ZenonVideo ref is empty.")},[x,y,z,C,D,I]);var J=i(function(a){if(a!=null&&w!=null){a.addEventListener("resize",w);return function(){a.removeEventListener("resize",w)}}},[w]);j(function(){J(y.current),J(z.current)},[J]);k(e,function(){return{getDimension:function(){var a;if(((a=z.current)==null?void 0:(a=a.style)==null?void 0:a.display)!=="none"){return{height:(a=z.current)==null?void 0:a.videoHeight,width:(a=z.current)==null?void 0:a.videoWidth}}return{height:(a=y.current)==null?void 0:a.videoHeight,width:(a=y.current)==null?void 0:a.videoWidth}}}});var K=i(function(a,b){var d,e,f,g;d=(d=(d=b.current)==null?void 0:(d=d.error)==null?void 0:d.code)!=null?d:"empty error code";e=(e=(e=b.current)==null?void 0:(e=e.error)==null?void 0:e.message)!=null?e:"empty error message";var h=b.current==null?"unavailable":"available";f=(f=(f=a.target)==null?void 0:(f=f.error)==null?void 0:f.message)!=null?f:"empty";g=(g=(g=a.target)==null?void 0:(g=g.error)==null?void 0:g.code)!=null?g:"empty";b=q(b.current);d="Encountered error while rendering video, "+d+",\n      "+e+", current video ref: "+h+" video: "+b+"\n      error target: "+q(a==null?void 0:a.target)+" message: "+f+"\n      code: "+g;D({checkpoint:d,error:c("err")(e),errorDomain:B+"_onErrorHandler"});u!=null&&u()},[u,D]);e=i(function(a){K(a,y)},[K]);var L=i(function(a){K(a,z)},[K]),M=function(a){a=a.current;a!=null&&a.paused===!0&&(c("FBLogger")("rtc_www").warn("ZenonVideo element can play but is paused. Invoking video.play()."),a.play())};return h.jsxs(h.Fragment,{children:[f!==!1&&h.jsxs(h.Fragment,{children:[h.jsx(c("ZenonIntegrationBoundary.react"),{errorBoundaryProject:c("StatsOverlayZenonErrorBoundaryProject"),localErrorFallback:function(a){return h.jsx(c("StatsOverlayZenonErrorBoundaryFallback.react"),{error:a})},name:"StatsOverlayZenon",children:h.jsx(m,{stream:x})}),h.jsx(c("ZenonIntegrationBoundary.react"),{errorBoundaryProject:"ZenonArmadilloStatsOverlay",name:"ZenonArmadilloStatsOverlay",children:h.jsx(n,{stream:x})})]}),h.jsxs("div",{className:c("stylex")(a,p.container),"data-testid":void 0,style:{maxWidth:o},children:[h.jsx("video",{autoPlay:!0,className:c("stylex")(p.content,g==="cover"&&p.cover,g==="contain"&&p.contain),muted:t,onCanPlayThrough:function(){return M(y)},onContextMenu:r,onError:e,onLoadedMetadata:v,playsInline:c("UserAgent").isBrowser("Mobile Safari"),ref:function(a){return H(a,y)},style:{maxWidth:o}}),h.jsx("video",{autoPlay:!0,className:c("stylex")(p.content,g==="cover"&&p.cover,g==="contain"&&p.contain),muted:t,onCanPlayThrough:function(){return M(z)},onContextMenu:r,onError:L,onLoadedMetadata:v,playsInline:c("UserAgent").isBrowser("Mobile Safari"),ref:function(a){return H(a,z)},style:{maxWidth:o}})]})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){return a==null?"no video":"height: "+a.videoHeight+" weight: "+a.videoWidth+"\n  poster: "+a.poster}function r(a){a.preventDefault()}function s(a){var b=d("ZenonLoggingHooks").useCheckpointLogging(),e=l([]);return function(d,f){if(c("gkx")("2890")){var g,h=f.current;b("ZenonVideo ref change for stream "+((g=a==null?void 0:a.id)!=null?g:"null")+": "+JSON.stringify({nextRef:(g=d==null?void 0:d.toString())!=null?g:null,prevRef:(g=h==null?void 0:h.toString())!=null?g:null}));h&&e.current.forEach(function(a){var b=a[0];a=a[1];h.removeEventListener(b,a)});e.current=[];d!=null&&(e.current=o.map(function(c){var e=function(){var d,e;d=(d=f.current)==null?void 0:d.srcObject;b("ZenonVideo received '"+c+"' event for stream "+((e=a==null?void 0:a.id)!=null?e:"null")+". srcObject: "+((e=d==null?void 0:d.id)!=null?e:"null"))};d.addEventListener(c,e);return[c,e]}))}}}e=h.forwardRef(a);g["default"]=e}),98);
__d("ZenonVideo.react",["ZenonVideoWithDoubleBuffering.react","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=c("ZenonVideoWithDoubleBuffering.react")}),98);
__d("ZenonBaseNotification.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.testid;return h.jsx("div",{className:"clck0ace esxzf4m3 trzicp7m mc5b1ln6 czioq7fe ej7xpb16 n0nrc7zx rennink8","data-testid":void 0,role:"alert",children:h.jsx("div",{className:"mmcxjezo rb14lje7 foed1vyy dyco0h0g t2wbnrlp k3usjmvm w6utz60d efvl2zpz kckw0wwj sd0tyowg",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonPersistentDismissableNotificationInner.react",["fbt","CometColumn.react","CometRow.react","CometRowItem.react","MDSTextPairing.react","ZenonAbstractButton.react","ZenonDialogCloseButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.button;if(a==null)return null;var b=a.testid;return i.jsx(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:12,spacing:8,children:i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("ZenonAbstractButton.react"),{className:c("stylex")(k.secondaryButton),"data-testid":void 0,onClick:a.onClick,children:a.text})})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.alignTop,d=a.bodyLineLimit,e=a.headlineLineLimit,f=a.icon,g=a.onDismiss,l=a.secondaryButton,m=a.testid;m=a.text;a=a.titleText;return i.jsxs(c("CometColumn.react"),{expanding:!0,paddingHorizontal:12,paddingVertical:12,testid:void 0,children:[i.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacing:0,verticalAlign:b===!0?"top":"center",children:[i.jsx(c("CometRowItem.react"),{xstyle:k.icon,children:f}),i.jsx(c("CometRowItem.react"),{expanding:!0,xstyle:k.text,children:i.jsx(c("MDSTextPairing.react"),{body:m,bodyColor:"white",bodyLineLimit:d,headline:a,headlineColor:"white",headlineLineLimit:e,level:4,reduceEmphasis:!0,textAlign:"start"})}),i.jsx(c("CometRowItem.react"),{xstyle:k.closeButton,children:i.jsx(c("ZenonDialogCloseButton.react"),{label:h._(/*FBT_CALL*/"N\u00fat \u0111\u1ec3 b\u1ecf qua th\u00f4ng b\u00e1o"/*FBT_CALL*/),onClick:g})})]}),i.jsx(j,{button:l})]})}a.displayName=a.name+" [from "+f.id+"]";var k={closeButton:{alignItems:"sd0tyowg",display:"foed1vyy",flexShrink:"tmim2xmv",height:"b80demol",justifyContent:"ocjcko58",width:"n80b6jj3"},icon:{fill:"ri7cljcl",flexShrink:"tmim2xmv",height:"t1avcer6",width:"lqo7yh2p"},secondaryButton:{backgroundColor:"awvpqjb2",borderTop:"nfkmi1yv",borderEnd:"tg5ta3cq",borderBottom:"d6kjcoho",borderStart:"c57me6gj",borderTopStartRadius:"bfhj2djv",borderTopEndRadius:"jv6sviap",borderBottomEndRadius:"j290s9ic",borderBottomStartRadius:"nsrgps00",color:"dyco0h0g",cursor:"di6nqzxa",fontSize:"ej2n0i4l",fontWeight:"sinu63va",paddingTop:"l0x5e6ug",paddingEnd:"iuwz3gim",paddingBottom:"ebucrlxy",paddingStart:"fyi946na",":hover":{backgroundColor:"pcwd6mxu"}},text:{paddingEnd:"shsostf3",paddingStart:"ak9allyy",width:"f5zavhip"}};g["default"]=a}),98);
__d("ZenonPersistentDismissableNotification.react",["ZenonBaseNotification.react","ZenonPersistentDismissableNotificationInner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("ZenonBaseNotification.react"),{children:h.jsx(c("ZenonPersistentDismissableNotificationInner.react"),babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonVideoWithUserAndOrientation.react",["Recoil","ZenonLoggingHooks","ZenonMosaicGridAtom","ZenonVideo.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=2e3;function a(a){a.muted;var b=a.onOrientationChanged,e=a.stream,f=a.userID;a=babelHelpers.objectWithoutPropertiesLoose(a,["muted","onOrientationChanged","stream","userID"]);var g=k(null),m=k(null),n=d("ZenonLoggingHooks").useCheckpointLogging(),o=d("Recoil").useRecoilState(c("ZenonMosaicGridAtom")),p=o[0],q=o[1],r=f,s=i(function(){var a={height:0,width:0};if(g.current!==null){var c=g.current.getDimension(),d=c.height;c=c.width;if(c!==void 0&&c>0&&d!==void 0&&d>0){a={height:d,width:c};var h=c>d?"landscape":"portrait";a={height:d,width:c};if(h!==m.current){m.current=h;b({orientation:h,userID:f});n("ZenonVideo: stream:"+((h=e==null?void 0:e.id)!=null?h:"null")+" width:"+c+" height:"+d)}}}h=p.find(function(a){return a.userId===r});c={height:a.height,userId:r,width:a.width};if(c.height!==(h==null?void 0:h.height)||c.width!==(h==null?void 0:h.width)){d=p.filter(function(a){return a.userId!==r});q([].concat(d,[c]))}},[r,p,n,b,q,e==null?void 0:e.id,f]),t=k(s);j(function(){t.current=s},[s]);j(function(){var a=window.setInterval(function(){return t.current()},l);return function(){return window.clearInterval(a)}},[]);return h.jsx(c("ZenonVideo.react"),babelHelpers["extends"]({onReady:s,ref:g,stream:e},a,{muted:!0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonGridVideoCard.react",["ZenonDominantSpeakerHooks","ZenonVideo.react","ZenonVideoWithUserAndOrientation.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fit,e=a.highlightDominantSpeaker,f=a.mirror;f=f===void 0?!1:f;var g=a.onOrientationChanged,j=a.roundedCorner;j=j===void 0?!1:j;var k=a.stream,l=a.useBasicBackground;l=l===void 0?!1:l;a=a.userID;var m=d("ZenonDominantSpeakerHooks").useDominantSpeakerID();l=[i.video,j&&i.roundedCorners,l&&i.basicBackground,f&&i.mirror];return h.jsxs("div",{className:c("stylex")(i.container),children:[g==null?h.jsx(c("ZenonVideo.react"),{"data-testid":void 0,fit:b,muted:!0,stream:k,xstyle:l}):h.jsx(c("ZenonVideoWithUserAndOrientation.react"),{"data-testid":void 0,fit:b,onOrientationChanged:g,stream:k,userID:a,xstyle:l}),e&&m===a&&h.jsx("div",{className:c("stylex")(i.dominantSpeakerContrastHighlight,j&&i.roundedCorners),children:h.jsx("div",{className:c("stylex")(i.dominantSpeaker,j&&i.roundedCorners)})})]})}a.displayName=a.name+" [from "+f.id+"]";var i={basicBackground:{backgroundColor:"awvpqjb2"},container:{height:"p3f4w9ai",position:"hs7kmpfx",width:"f5zavhip"},dominantSpeaker:{boxShadow:"a84sz3uc",height:"p3f4w9ai",position:"alrytcbg",start:"r30xiam5",top:"m0q0jmkx",width:"f5zavhip"},dominantSpeakerContrastHighlight:{boxShadow:"kv4wa14c",height:"p3f4w9ai",position:"alrytcbg",start:"r30xiam5",top:"m0q0jmkx",width:"f5zavhip"},mirror:{transform:"eheimbl6"},roundedCorners:{borderTopStartRadius:"f939mx11",borderTopEndRadius:"l1er3j58",borderBottomEndRadius:"bb50dua7",borderBottomStartRadius:"do5ynftk"},video:{height:"p3f4w9ai",width:"f5zavhip"}};g["default"]=a}),98);
__d("ZenonChicletTileOverlayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={size:68,userID:""};c=a.createContext(b);g["default"]=c}),98);
__d("ZenonGridItemOverlayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={columnIndex:0,isActive:!1,isMouseOver:!1,rowIndex:0,totalCells:0,totalColumns:0,totalRows:0,userID:""};c=a.createContext(b);g["default"]=c}),98);
__d("EmojiReactionsAll",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({HEART:"2764_fe0f",LAUGH:"1f606",WOW:"1f62e",SAD:"1f622",ANGRY:"1f620",LIKE:"1f44d",WP_LIKE:"wp_1635855486666999",WP_LOVE:"wp_1678524932434102",WP_LAUGH:"wp_115940658764963",WP_WOW:"wp_478547315650144",WP_SAD:"wp_908563459236466",WP_ANGRY:"wp_444813342392137"});c=a;f["default"]=c}),66);
__d("EmojiReactionsWorkplaceRooms",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({WP_LIKE:"wp_1635855486666999",WP_LOVE:"wp_1678524932434102",WP_LAUGH:"wp_115940658764963",WP_WOW:"wp_478547315650144",WP_SAD:"wp_908563459236466",WP_ANGRY:"wp_444813342392137"});c=a;f["default"]=c}),66);
__d("EmojiReactionAnimatedEmojis.react",["EmojiReactionsAll","EmojiReactionsWorkplaceRooms","Keyframes.react","bx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.emoji,d=a.emojiSize;a=a.isOverlay;a=a===void 0?!1:a;var e=c("EmojiReactionsWorkplaceRooms").isValid(b);return h.jsx(c("Keyframes.react"),{assetName:c("EmojiReactionsAll").getName(b),height:a&&e?32:d,projectName:"messaging_reactions",source:a?j(b):i(b),style:a&&e?{margin:20}:void 0,width:a&&e?32:d})}a.displayName=a.name+" [from "+f.id+"]";function i(a){switch(a){case"1f620":return c("bx").getURL(c("bx")("4854"));case"2764_fe0f":return c("bx").getURL(c("bx")("4856"));case"1f606":return c("bx").getURL(c("bx")("5018"));case"1f44d":return c("bx").getURL(c("bx")("5020"));case"1f622":return c("bx").getURL(c("bx")("5024"));case"1f62e":return c("bx").getURL(c("bx")("5026"));case"wp_444813342392137":return c("bx").getURL(c("bx")("812894"));case"wp_115940658764963":return c("bx").getURL(c("bx")("812896"));case"wp_1635855486666999":return c("bx").getURL(c("bx")("812897"));case"wp_1678524932434102":return c("bx").getURL(c("bx")("812898"));case"wp_908563459236466":return c("bx").getURL(c("bx")("812899"));case"wp_478547315650144":return c("bx").getURL(c("bx")("812901"))}}function j(a){switch(a){case"1f620":return c("bx").getURL(c("bx")("4853"));case"2764_fe0f":return c("bx").getURL(c("bx")("4855"));case"1f606":return c("bx").getURL(c("bx")("5017"));case"1f44d":return c("bx").getURL(c("bx")("5019"));case"1f622":return c("bx").getURL(c("bx")("5023"));case"1f62e":return c("bx").getURL(c("bx")("5025"));case"wp_444813342392137":return c("bx").getURL(c("bx")("812894"));case"wp_115940658764963":return c("bx").getURL(c("bx")("812896"));case"wp_1635855486666999":return c("bx").getURL(c("bx")("812897"));case"wp_1678524932434102":return c("bx").getURL(c("bx")("812898"));case"wp_908563459236466":return c("bx").getURL(c("bx")("812899"));case"wp_478547315650144":return c("bx").getURL(c("bx")("812901"))}}g.EmojiReactionAnimatedEmojis=a;g.getAssetUrl=i}),98);
__d("EmojiReactions",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({HEART:"2764_fe0f",LAUGH:"1f606",WOW:"1f62e",SAD:"1f622",ANGRY:"1f620",LIKE:"1f44d"});c=a;f["default"]=c}),66);
__d("EmojiReactionsStateEmojiReactionsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,EMOJI:1,AVATAR:2,GIF:3});c=b("$InternalEnum")({UNKNOWN:0,P2P_GVC:1,MESSENGER_ROOM:2,ONLINE_LEARNING_ROOM:3,WORKPLACE_ROOM:4,REELS_TOGETHER:5,IG_P2P_GVC:6,IG_ROOM:7});e.exports={CallType:c,ReactionType:a}}),null);
__d("EmojiReactionsUtils.react",["EmojiReactionsStateEmojiReactionsStateTypes","ZenonCallsContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function i(a){return new Date()<=new Date(parseInt(a,10)*1e3)}function a(a,b){return b==null?void 0:(b=b.reactions.find(function(b){return i(b.reaction_expiry_time)&&d("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(b.selected_reaction.reaction_type)===a}))==null?void 0:b.selected_reaction}function b(){var a=h(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;return(b=b.get(a))!=null?b:null}g.isValidReaction=i;g.getReactionParticipantOutput=a;g.useCurrentCall=b}),98);
__d("EmojiReactionsHooks",["EmojiReactions","EmojiReactionsAll","EmojiReactionsStateEmojiReactionsStateTypes","EmojiReactionsUtils.react","ZenonActorHooks","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h={useEmojiReactionsState:function(){var a=d("EmojiReactionsUtils.react").useCurrentCall();a=a==null?void 0:(a=a.stateSyncOutputStates.get("emoji_reactions"))==null?void 0:a.data;return(a==null?void 0:a.emoji_participants)==null?{emoji_participants:[],is_emoji_reactions_feature_enabled:(a==null?void 0:a.is_emoji_reactions_feature_enabled)||!1}:{emoji_participants:a.emoji_participants,is_emoji_reactions_feature_enabled:(a==null?void 0:a.is_emoji_reactions_feature_enabled)||!1}},useEmojiSet:function(a){var b=[];a?a.forEach(function(a){a=c("EmojiReactionsAll").cast(a);a&&b.push(a)}):Array.from(c("EmojiReactions").members()).forEach(function(a){a=c("EmojiReactionsAll").cast(a);a&&b.push(a)});return b},useGetNewSelectedEmoji:function(a){a===void 0&&(a="");var b=d("ZenonActorHooks").useZenonActor();b=b[0];b=a===""?b:a;return h.useGetReactionParticipantOutput(d("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.EMOJI,b)},useGetReactionParticipantOutput:function(a,b){var c=h.useEmojiReactionsState();c=c.emoji_participants.find(function(a){a=a.participant_id;return a===b});return d("EmojiReactionsUtils.react").getReactionParticipantOutput(a,c)},useIsEmojiReactionsEnabled:function(){var a=c("justknobx")._("441");return h.useEmojiReactionsState().is_emoji_reactions_feature_enabled&&a}};a=h;g["default"]=a}),98);
__d("RaiseHandAnimatedEmoji.react",["Keyframes.react","bx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.emojiSize,d=a.initialProgress;d=d===void 0?0:d;var e=a.isOverlay;e=e===void 0?!1:e;a=a.playing;a=a===void 0?!0:a;var f=c("bx").getURL(c("bx")("5022")),g=c("bx").getURL(c("bx")("5021"));return h.jsx(c("Keyframes.react"),{assetName:f,height:b,initialProgress:d,playing:a,projectName:"messaging_reactions",source:e?g:f,width:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RaiseHandUtils",["fbt","QPLUserFlow","RaisedHandsQueueState","ZenonActorHooks","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i=10;function a(a){var b;return((b=a.entry)==null?void 0:b.id)===d("ZenonActorHooks").useZenonActor()[0]?h._(/*FBT_CALL*/"B\u1ea1n"/*FBT_CALL*/):(a=(b=a.entry)==null?void 0:b.name)!=null?a:null}function b(a,b){a.every(function(a){a=a.id;a===b&&c("QPLUserFlow").endSuccess(c("qpl")._(989468398,"77"),{annotations:{string:{userID:a}}})})}function e(a){c("QPLUserFlow").start(c("qpl")._(989468398,"77"),{annotations:{string:{source:a}}})}function f(a){c("QPLUserFlow").start(c("qpl")._(989469703,"286"),{annotations:{string:{source:a}}})}function j(){c("QPLUserFlow").start(c("qpl")._(989475628,"287"))}function k(a){c("QPLUserFlow").start(c("qpl")._(989473313,"76"),{annotations:{string:{source:a}}})}function l(a,b){c("QPLUserFlow").start(c("qpl")._(989466909,"417"),{annotations:{bool:{canLowerOtherHand:a},"int":{queueSize:b}}})}function m(){c("QPLUserFlow").endSuccess(c("qpl")._(989466909,"417"))}function n(a,b,e,f){b.filter(function(b){return!a.some(function(a){a=a.id;return b.id===a})}).every(function(a){var b=a.id;if(e===b&&!(f!=null&&f.some(function(a){return a.actor_uuid!==e})))c("QPLUserFlow").endSuccess(c("qpl")._(989473313,"76"),{annotations:{string:{userID:b}}});else if(e!==b){a=f==null?void 0:f.filter(function(a){return a.actor_uuid===e&&((a=a.participant_uuids)==null?void 0:a.has(b))})[0];a!=null&&(a.request_type===d("RaisedHandsQueueState").RaisedHandsQueueParticipantRequestTypes.LOWER_EVERYONE_HANDS?c("QPLUserFlow").endSuccess(c("qpl")._(989475628,"287")):a.request_type===d("RaisedHandsQueueState").RaisedHandsQueueParticipantRequestTypes.LOWER_OTHER_RAISED_HAND&&c("QPLUserFlow").endSuccess(c("qpl")._(989469703,"286")))}})}function o(a,b){return(a.filter(function(a){return!(b||[]).some(function(b){b=b.id;return a.id===b})})||[]).sort(function(a,b){return a.timestamp>b.timestamp?-1:1}).filter(function(a){a=a.timestamp;a=(new Date()-new Date(a))/1e3;return a<=i})}g.QueueEntryName=a;g.logEndRaiseHandEvent=b;g.logStartRaiseHandEvent=e;g.logStartLowerOtherHandEvent=f;g.logStartLowerAllHandEvent=j;g.logStartLowerHandEvent=k;g.logStartLowerRaiseHandImpresssionEvent=l;g.logEndLowerRaiseHandImpresssionEvent=m;g.logEndLowerHandEvent=n;g.getNewQueueEntries=o}),98);
__d("RoomsChatDataProviderPluginState",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":null,key:"RoomsChatDataProviderPluginState_chatThreadID"});b=d("Recoil").atom({"default":null,key:"RoomsChatDataProviderPluginState_chatUnreadCount"});c=d("Recoil").atom({"default":!1,key:"RoomsChatDataProviderPluginState_isOnlineLearningAtom"});e=d("Recoil").atom({"default":!1,key:"RoomsChatDataProviderPluginState_hasLearningSpaceThread"});f=d("Recoil").atom({"default":!1,key:"RoomsChatDataProviderPluginState_canViewerSeeLearningSpaceThread"});var h=d("Recoil").atom({"default":!1,key:"RoomsChatDataProviderPluginState_isViewerSubscribedToLearningThread"}),i=d("Recoil").atom({"default":null,key:"RoomsChatDataProviderPluginState_ownerEventID"}),j=d("Recoil").atom({"default":!1,key:"RoomsChatDataProviderPluginState_isViewerUserAdminOfOwnerPage"}),k=d("Recoil").atom({"default":!1,key:"RoomsChatDataProviderPluginState_isViewerGoingToEvent"});d=d("Recoil").atom({"default":{name:"",photoUri:null},key:"RoomsChatDataProviderPluginState_accountUser"});g.RoomsChatSideChatAtom=a;g.RoomsChatUnreadCountAtom=b;g.RoomsChatIsOnlineLearningAtom=c;g.RoomsChatHasLearningSpaceThreadAtom=e;g.RoomsChatCanViewerSeeLearningSpaceThreadAtom=f;g.RoomsChatIsViewerSubscribedToLearningThreadAtom=h;g.RoomsChatOwnerEventAtom=i;g.RoomsChatIsViewerUserAdminOfOwnerPageAtom=j;g.RoomsChatIsViewerGoingToEventAtom=k;g.RoomsChatAccountUserAtom=d}),98);
__d("RaiseHandHooks",["EmojiReactionsHooks","QE2Logger","RaiseHandUtils","RaiseHandZenonLowerOtherHandNotification.react","RaisedHandsQueueState","Recoil","RoomsChatDataProviderPluginState","ZenonActorHooks","ZenonCallsContext","ZenonDominantSpeakerHooks","ZenonNotificationHooks","gkx","justknobx","qex","react","usePrevious","useZenonSyncState","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");var i=a.useCallback,j=a.useContext,k=a.useEffect,l={useCanViewerLowerOtherHands:function(){var a=l.useRaisedHandsQueueParticipant();return c("gkx")("1106")&&((a=a==null?void 0:(a=a.participant_action_permissions)==null?void 0:a.can_lower_other_raised_hand)!=null?a:!1)},useIsHandRaised:function(a){a===void 0&&(a="");var b=d("ZenonActorHooks").useZenonActor();b=b[0];b=a===""?b:a;a=m(b);switch(a){case d("RaisedHandsQueueState").RaisedHandsQueuerStates.VISIBLE:return!0;case d("RaisedHandsQueueState").RaisedHandsQueuerStates.UNKNOWN:case d("RaisedHandsQueueState").RaisedHandsQueuerStates.HIDDEN:return!1}return!1},useIsParticipantFirstInQueue:function(a){var b=l.useRaisedHandsQueueParticipant().queue;return b.length>0&&b[0].uid===a},useIsRaiseHandEmojiReactionMergeEnabled:function(a){a===void 0&&(a={disableExposureLogging:!1});var b=c("EmojiReactionsHooks").useIsEmojiReactionsEnabled(),e=l.useIsRaiseHandsFeatureEnabled(),f=d("Recoil").useRecoilValue(d("RoomsChatDataProviderPluginState").RoomsChatIsOnlineLearningAtom);if(!b||!e)return!1;if(f){a.disableExposureLogging||d("QE2Logger").logExposureForUser("rp_classes_raise_hand_emoji_merge_qe");return(b=c("qex")._("565"))!=null?b:!1}a.disableExposureLogging||d("QE2Logger").logExposureForUser("rp_genpop_raise_hand_emoji_merge_qe");return(e=c("qex")._("566"))!=null?e:!1},useIsRaiseHandsFeatureEnabled:function(){var a=l.useRaisedHandsQueueParticipant(),b=c("gkx")("1443572"),d=c("justknobx")._("481");return b?!0:a.is_raise_hand_feature_enabled&&d},useLowerHandParticipantByModerator:function(a){var b=c("useZenonSyncState")("raised_hands_queue"),e=b.canUpdate,f=b.update;b=l.useCanViewerLowerOtherHands();var g=i(function(){d("RaiseHandUtils").logStartLowerOtherHandEvent("grid_view_dropdown_menu"),f({action_uuid:c("uuid")(),lowered_other_raised_hand_participants_uids:[a],request_type:d("RaisedHandsQueueState").RaisedHandsQueueParticipantRequestTypes.LOWER_OTHER_RAISED_HAND})},[a,f]);return{canLowerOtherHand:e&&b,lowerParticipantHand:g}},useLowerOthersHandsActionInfos:function(){var a=l.useRaisedHandsQueueParticipant().action_infos;return a==null?void 0:a.filter(function(a){return a.request_type===d("RaisedHandsQueueState").RaisedHandsQueueParticipantRequestTypes.LOWER_EVERYONE_HANDS||a.request_type===d("RaisedHandsQueueState").RaisedHandsQueueParticipantRequestTypes.LOWER_OTHER_RAISED_HAND})},useLowerOthersHandsNotification:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0];a=l.useLowerOthersHandsActionInfos();var e=a==null?void 0:(a=a.filter(function(a){return a.actor_uuid!==b}))==null?void 0:a[0],f=d("ZenonNotificationHooks").usePushZenonNotification();k(function(){e!=null&&f(function(a){return h.jsx(c("RaiseHandZenonLowerOtherHandNotification.react"),{actor_ID:e.actor_uuid,onDismiss:a,userID:b})})},[b,e,f])},useRaisedHandsQueueParticipant:function(){var a=n();a=a==null?void 0:(a=a.stateSyncOutputStates.get("raised_hands_queue"))==null?void 0:a.data;return{action_infos:(a==null?void 0:a.action_infos)||[],is_raise_hand_feature_enabled:(a==null?void 0:a.is_raise_hand_feature_enabled)||!1,participant_action_permissions:(a==null?void 0:a.participant_action_permissions)||null,processed_action_uuids:(a==null?void 0:a.processed_action_uuids)||new Set(),queue:(a==null?void 0:a.queue)||[]}},useShowLowerHandReminder:function(){var a=d("ZenonActorHooks").useZenonActor();a=a[0];var b=l.useIsParticipantFirstInQueue(a),e=d("ZenonDominantSpeakerHooks").useDominantSpeakerID(),f=c("usePrevious")(e);return b&&f===a&&e!==f}};function m(a){a===void 0&&(a="");var b=d("ZenonActorHooks").useZenonActor();b=b[0];var c=a===""?b:a;b=l.useRaisedHandsQueueParticipant();a=b.queue.find(function(a){a=a.uid;return a===c});return a&&a.state_info_history.length>0?(b=a.state_info_history[0])==null?void 0:b.state:null}function n(){var a=j(c("ZenonCallsContext")),b=a.calls;a=a.currentClientCallId;return(b=b.get(a))!=null?b:null}b=l;g["default"]=b}),98);
__d("RaiseHandIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("svg",{className:a.className,viewBox:"0 0 36 36",children:h.jsx("path",{d:"M11 26a1 1 0 010 2c-3.309 0-6-2.692-6-6a1 1 0 012 0c0 2.206 1.794 4 4 4m15-15a1 1 0 01-1-1c0-2.205-1.794-4-4-4a1 1 0 010-2c3.308 0 6 2.692 6 6a1 1 0 01-1 1m2.503 6.848c.218 6.175-.528 8.928-4.206 11.046-3.679 2.118-8.133 1.293-10.881-3.454-.748-1.293-4.822-6.409-6.171-8.018-.784-.934.413-1.954 1.252-1.102l3.618 3.503c.474.48 1.124-.05.766-.601l-4.665-6.984c-.862-1.326.86-2.442 1.77-1.204l4.966 6.197c.454.619 1.29.1.931-.579l-4.724-7.886c-.764-1.44 1.082-2.51 1.955-1.128l5.367 7.555c.41.648 1.281.159.932-.528l-3.272-6.909c-.743-1.462 1.18-2.484 1.992-1.082l6.047 10.569a.486.486 0 00.665.189c.61-.351.83-4.318 2.384-5.213.786-.454 1.418-.163 1.607.218.476.959-.447 2.195-.333 5.41"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RaiseHandZenonLowerOtherHandNotification.react",["fbt","GenderConst","RaiseHandHooks","RaiseHandIcon.react","RaiseHandUtils","RaisedHandsQueueState","ZenonPersistentDismissableNotification.react","ZenonUsersHooks","react","useZenonSyncState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a){var b=a.actor_ID,e=a.onDismiss;a=a.userID;var f=c("RaiseHandHooks").useIsHandRaised(a);a=d("ZenonUsersHooks").useZenonUser(b);b=c("useZenonSyncState")("raised_hands_queue");var g=b.update,l=j(function(){d("RaiseHandUtils").logStartRaiseHandEvent("lower_hand_notification"),g({request_type:d("RaisedHandsQueueState").RaisedHandsQueueParticipantRequestTypes.JOIN})},[g]);k(function(){f&&e()},[f,e]);return a===null?null:i.jsx(c("ZenonPersistentDismissableNotification.react"),{icon:i.jsx("div",{className:"qz21m0gv hs7kmpfx cor3inqe po1qarxi hesqgkqy ncbu5rxr mvebt5lq j3nhmgis nhzvvchu pmev1sgw cla9wren p5tf0ajo",children:i.jsx(c("RaiseHandIcon.react"),{})}),onDismiss:function(){e()},secondaryButton:{onClick:function(){l(),e()},text:h._(/*FBT_CALL*/"Gi\u01a1 tay"/*FBT_CALL*/)},testid:void 0,text:h._(/*FBT_CALL*/"B\u1ea1n c\u00f3 th\u1ec3 gi\u01a1 tay l\u1ea1i."/*FBT_CALL*/),titleText:a.gender!==c("GenderConst").NOT_A_PERSON?h._(/*FBT_CALL*/{"*":"{User name} \u0111\u00e3 h\u1ea1 tay b\u1ea1n xu\u1ed1ng"}/*FBT_CALL*/,[h._name("User name",a.shortName,a.gender)]):h._(/*FBT_CALL*/"{User name} \u0111\u00e3 h\u1ea1 tay b\u1ea1n xu\u1ed1ng"/*FBT_CALL*/,[h._param("User name",a.shortName)])})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EmojiReactionOverlay.react",["EmojiReactionAnimatedEmojis.react","EmojiReactionsAll","EmojiReactionsHooks","QPLUserFlow","RaiseHandAnimatedEmoji.react","RaiseHandHooks","ZenonCallsHooks","ZenonCallsModelTypes","clearTimeout","qpl","react","setTimeout","stylex","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=1e4;function a(a){var b=a.emojiSize,e=a.testViewID;e=a.type;var f=a.userID,g=j(null);a=k(null);var m=a[0],n=a[1];a=j();var o=c("EmojiReactionsHooks").useGetNewSelectedEmoji(f),p=c("usePrevious")(o==null?void 0:o.emoji_click_id),q=c("RaiseHandHooks").useIsHandRaised(f),r=k(!1),s=r[0],t=r[1];r=c("RaiseHandHooks").useIsRaiseHandEmojiReactionMergeEnabled({disableExposureLogging:!0});var u=c("ZenonCallsHooks").useCallState();i(function(){q?(t(!0),c("setTimeout")(function(){t(!1)},l)):t(!1)},[q]);i(function(){o!=null&&p!==(o==null?void 0:o.emoji_click_id)&&(n(o),c("clearTimeout")(g.current),c("QPLUserFlow").endSuccess(c("qpl")._(412821821,"2634"),{annotations:{string:{emojiID:o.emoji_id,reactorID:f}}}),g.current=c("setTimeout")(function(){n(null),t(!1),g.current=null},l))},[o,p,f]);var v=c("EmojiReactionsAll").cast(m==null?void 0:m.emoji_id);u=u===d("ZenonCallsModelTypes").ZenonCallState.Terminated;m=m!=null&&v!=null;r=q&&r;return u||!(m||r)?null:h.jsx("div",{className:"m0q0jmkx alrytcbg ehi1kzmu hnte7a8w","data-testid":void 0,children:h.jsxs("div",{className:c("stylex").dedupe({"display-1":"foed1vyy","flex-direction-1":"f87u49d9","height-1":"p3f4w9ai","justify-content-1":"gdwkc3y8","pointer-events-1":"ehi1kzmu","width-1":"f5zavhip"},e==="screen-view"?{"margin-start-1":"f8me4s6v","margin-top-1":"mwznmd9q"}:null,e==="chiclet"?{"margin-start-1":"ap0mmgme","margin-top-1":"bxmfil6k"}:null),children:[m&&v!=null&&h.jsx("div",{ref:a,children:h.jsx(d("EmojiReactionAnimatedEmojis.react").EmojiReactionAnimatedEmojis,{emoji:v,emojiSize:b,isOverlay:!0})}),r&&h.jsx("div",{className:c("stylex").dedupe({"margin-start-1":"hk61dz59"},e==="chiclet"?{"margin-start-1":"skgury3w"}:null),ref:a,children:h.jsx(c("RaiseHandAnimatedEmoji.react"),{emojiSize:b,initialProgress:s?0:1,isOverlay:!0,playing:s})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonVideoEscalationStatusAtom",["Recoil","ZenonCallsModelTypes"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":d("ZenonCallsModelTypes").ZenonVideoEscalationStatus.None,key:"ZenonCallsRecoil_ZenonVideoEscalationStatusAtom"});g["default"]=a}),98);
__d("ZenonVideoEscalationStatusSelector",["Recoil","ZenonVideoEscalationStatusAtom"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({get:function(a){a=a.get;return a(c("ZenonVideoEscalationStatusAtom"))},key:"ZenonVideoEscalationRecoil_ZenonVideoEscalationStatusSelector"});g["default"]=a}),98);
__d("useZenonFloorControlActionsLogger",["ZenonCallsContext","ZenonCallsHooks","ZenonLayoutHooks","ZenonLoggingContext","ZenonScreenSharingHooks","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=b.useMemo,k=c("requireDeferred")("RtcFloorControlFalcoEvent").__setRef("useZenonFloorControlActionsLogger");function a(){var a=i(c("ZenonLoggingContext")),b=a.peerID,e=a.roomID,f=c("ZenonCallsHooks").useCallParticipantsIDs();a=i(c("ZenonCallsContext"));var g=a.calls,l=a.currentClientCallId,m=j(function(){var a;return(a=g.get(l))==null?void 0:a.collisionContext.serverInfoData},[g,l]);a=d("ZenonScreenSharingHooks").useRemoteScreenSharingUserIDs();var n=!a.isEmpty();a=d("ZenonLayoutHooks").usePinnedSpeakerID();var o=a[0];a=h(function(a){c("promiseDone")(k.load().then(function(c){c.log(function(){return babelHelpers["extends"]({conference_name:e,is_screensharing_active:n,is_someone_pinned:o!==null,participant_ids:f,participants_count:String(f.length),peer_id:b,server_info_data:m},a)})}))},[e,f,b,m,n,o]);return a}g["default"]=a}),98);
__d("LsRtcTslogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743886");c=b("FalcoLoggerInternal").create("ls_rtc_tslog",a);e.exports=c}),null);
__d("RtcTslogBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1514");c=b("FalcoLoggerInternal").create("rtc_tslog_batch",a);e.exports=c}),null);
__d("ZenonChildCallSummaryLogProcessor",["ChannelClientID","DateConsts","LsRtcTslogFalcoEvent","PersistedQueue","ResumableUploadService","RtcTslogBatchFalcoEvent","URI","ZenonCallSummary","ZenonCallSummaryStore","ZenonCallSummaryUploader","ZenonDismissReason","ZenonInfraActionsLogger","ZenonPeerID","ZenonSignalingProtocolUtils","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC,i="tslog_upload_backend",j=500*1024*.6;a=function(){function a(a,b){var e;this.$4=null;this.$5=!1;this.$9=!1;this.$6=a.callID;this.$7=a.conferenceName;this.$2=(e=a.disableTsData)!=null?e:!1;this.$8=a.serverInfoData;this.$3=a.protocol;c("ZenonSignalingProtocolUtils").isMwSupportedProtocol(this.$3)&&(a.peerID=d("ZenonPeerID").ZenonMWPeerID);e=d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.retrieveCallSummary(a.peerID,a.callID);e?(this.$1=e,this.$1.unsetEndCallFields(),this.$1.setDeviceID(d("ChannelClientID").getID())):this.$1=new(c("ZenonCallSummary"))(a);a.conferenceName!=null&&this.$1.setConferenceName(a.conferenceName);a.serverInfoData!=null?(this.$1.setServerInfoData(a.serverInfoData),this.$1.setJoinWithSID(!0)):this.$1.setJoinWithSID(!1);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);b&&b({localCallID:this.$1.localCallID})}var e=a.prototype;e.$10=function(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:a})};e.$11=function(a){var b,d=a.format,e=a.timeSeries;if(e==null||e.length===0){this.$10("Not sending empty TSLog data");return}this.$10("Sending TSLog data of length "+e.length);b=(b=a.sequenceNumber)==null?void 0:b.toString();var f=babelHelpers["extends"]({},this.$1.getLoggingArgs(),{format:d,is_terminal:a.isTerminal,sequence_number:b,time_series:e});if(c("gkx")("4663")&&e.length>j){this.$10("Sending TSLog data through Upload Service");var g=new(c("URI"))(window.location.href).getDomain().split(".").slice(-2).join(".");g=c("ResumableUploadService").create({consumer:i,serviceDomain:g});var h=new File([JSON.stringify(f)],"tslog");g.resume(h)}else{c("PersistedQueue").eventEmitter.emit("active",null);if(b!=null){var k={call_id:f.call_id,conf_name:f.conf_name,is_terminal:a.isTerminal,peer_id:f.peer_id,sequence_number:(g=b)!=null?g:"-1",serv_info:f.serv_info,time_series:e};c("RtcTslogBatchFalcoEvent").logImmediately(function(){return k});d!=="EXPERIMENTAL"&&c("LsRtcTslogFalcoEvent").logImmediately(function(){return f})}else c("LsRtcTslogFalcoEvent").logImmediately(function(){return f})}return};e.processEvent=function(a){var e=this;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=a.name;b.next=b.t0==="callRated"?3:b.t0==="callFeedbackSubmitted"?6:b.t0==="callSurveyChoiceSubmitted"?9:b.t0==="logTSData"?12:b.t0==="mqttConnectionState"?18:20;break;case 3:this.$1.setRating(a.rating);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("return");case 6:this.$1.setFeedback(a.feedback);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("return");case 9:this.$1.setSurveyChoice(a.surveyChoice);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("return");case 12:if(!this.$2){b.next=14;break}return b.abrupt("return");case 14:this.$10("Preparing TSLog data for sending");this.$11(a.serializedTSLog);this.$10("Sent TSLog data");return b.abrupt("return");case 18:this.$9=a.pending;return b.abrupt("return");case 20:if(!this.$5){b.next=22;break}return b.abrupt("return");case 22:b.t1=a.name;b.next=b.t1==="atLeastOneParticipantAlerted"?25:b.t1==="atLeastOneParticipantAnswered"?28:b.t1==="callJoinRequest"?31:b.t1==="callConnected"?34:b.t1==="callEscalated"?37:b.t1==="peerConnectionStateChanged"?40:b.t1==="callEnded"?43:b.t1==="iceConnectionStateChangedConnected"?51:b.t1==="iceConnectionStateChangedDisconnected"?54:b.t1==="inviteSent"?57:b.t1==="inviteResponseReceived"?60:b.t1==="inviteResponseProcessed"?63:b.t1==="mediaConnected"?66:b.t1==="negotiationComplete"?69:b.t1==="renegotiationSmuReqWithAnswerReceived"?72:b.t1==="renegotiationSmuReqWithOfferReceived"?75:b.t1==="setMediaStats"?78:b.t1==="setLinkSurface"?81:b.t1==="setMaxConnectedParticipants"?84:b.t1==="setHasAnswerInJoinResponse"?87:b.t1==="setRemoteSignalingID"?90:b.t1==="smuWithAnswerProcessed"?94:b.t1==="smuWithAnswerReceived"?97:b.t1==="updateIceInfo"?100:b.t1==="updateE2EEStats"?103:b.t1==="startHeartbeat"?106:b.t1==="peerConnectionCreated"?108:110;break;case 25:this.$1.onAtLeastOneParticipantAlerted();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 28:this.$1.onAtLeastOneParticipantAnswered();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 31:this.$1.onCallJoinRequest(a.hasOfferInRingRequest);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 34:this.$1.onCallConnected();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 37:this.$1.onCallEscalated();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 40:this.$1.setPCIsConnected(a.connected);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 43:this.$4!==null&&window.clearInterval(this.$4);this.$1.onCallEnded(a.endCallReason,a.isRemoteEnded,!1,a.endCallSubreason);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);c("gkx")("1369511")&&d("ZenonCallSummaryUploader").logCallSummary(this.$1);this.$5=!0;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] ZenonLoggingEvent_callEnded: "+JSON.stringify({dismissReason:a.endCallReason,endCallReason:d("ZenonDismissReason").dismissToEndCallReason(a.endCallReason),endCallSubreason:a.endCallSubreason,mqttPending:this.$9})});this.$9&&c("ZenonInfraActionsLogger").logCounter("call_ended_before_mqtt_connected");return b.abrupt("break",110);case 51:this.$1.onIceConnectionStateChangeToConnected();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 54:this.$1.onIceConnectionStateChangeToDisconnected();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 57:this.$1.onInviteSent();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 60:this.$1.onInviteResponseReceived();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 63:this.$1.onInviteResponseProcessed();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 66:this.$1.onMediaConnected();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 69:this.$1.onNegotiationComplete();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 72:this.$1.onRenegotiationSmuReqWithAnswerReceived();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 75:this.$1.onRenegotiationSmuReqWithOfferReceived();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 78:this.$1.setMediaStats(a.mediaStats);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 81:this.$1.setLinkSurface(a.linkSurface);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 84:this.$1.setMaxConnectedParticipants(a.connectedParticipantsCount);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 87:this.$1.setHasAnswerInJoinResponse(a.hasAnswerInJoinResponse);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 90:this.$1.setServerInfoData(a.remoteSignalingID);a.conferenceName!==null&&a.conferenceName!==""&&this.$1.setConferenceName(a.conferenceName);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 94:this.$1.onSmuWithAnswerProcessed();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 97:this.$1.onSmuWithAnswerReceived();d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 100:this.$1.updateIceInfo(a.sdpString,a.direction);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 103:this.$1.updateE2EEStats(a.e2eeStats);d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(this.$1);return b.abrupt("break",110);case 106:this.$4===null&&(this.$4=window.setInterval(function(){d("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.storeCallSummary(e.$1)},h));return b.abrupt("break",110);case 108:this.$1.setSdpFormat(a.sdpFormat);return b.abrupt("break",110);case 110:case"end":return b.stop()}},null,this)};return a}();g["default"]=a}),98);
__d("ZenonChildQPLLogProcessor",["QPLUserFlow","qpl","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var d=a.prototype;d.processEvent=function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=a.name;b.next=b.t0==="callConnected"?3:b.t0==="callEnded"?5:b.t0==="inviteSent"?7:b.t0==="inviteResponseReceived"?9:b.t0==="inviteResponseProcessed"?11:b.t0==="mediaConnected"?13:b.t0==="setRemoteSdpAnswer"?15:b.t0==="setRemoteSdpOffer"?17:b.t0==="setRemoteSignalingID"?19:b.t0==="callJoinRequest"?21:23;break;case 3:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"call_connected");return b.abrupt("break",23);case 5:c("QPLUserFlow").endSuccess(c("qpl")._(64232269,"6493"));return b.abrupt("break",23);case 7:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"invite_sent");return b.abrupt("break",23);case 9:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"invite_response_received");return b.abrupt("break",23);case 11:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"invite_response_processed");return b.abrupt("break",23);case 13:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"media_connected");return b.abrupt("break",23);case 15:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"set_remote_sdp_answer");return b.abrupt("break",23);case 17:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"set_remote_sdp_offer");return b.abrupt("break",23);case 19:c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"set_remote_signaling_id");return b.abrupt("break",23);case 21:c("QPLUserFlow").start(c("qpl")._(64232269,"6493"),{annotations:{bool:{isCaller:a.isCaller}}});return b.abrupt("break",23);case 23:case"end":return b.stop()}},null,this)};return a}();g["default"]=a}),98);
__d("ZenonTSLogDataUtil",["ZenonInfraActionsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=["recv","inbound"],d=["send","outbound"];if(b.some(function(b){return a.toLowerCase().includes(b)}))return"inbound";if(d.some(function(b){return a.toLowerCase().includes(b)}))return"outbound";c("ZenonInfraActionsLogger").logError({checkpoint:"TsLogHolder Stream Name: "+a,error:"CANNOT_DETERMINE_STREAM_DIRECTION",errorDomain:"ZenonTSLogDataHelper"});return"inbound"}g.getMediaTrackDirection=a}),98);
__d("ZenonTSLogDataJSONHolder",["FBLogger","ZenonInfraActionsLogger","ZenonMediaStatsConfig","ZenonMediaStatsParser","ZenonTSLogDataUtil","ZenonVideoQpConversion","pako"],(function(a,b,c,d,e,f,g){"use strict";var h={"new":1,checking:2,connected:3,completed:4,failed:5,disconnected:6,closed:7},i=1073741824;a=function(){function a(a){var b;this.$1={iceConnectionState:0,sendParametersState:null};this.$2=(b=a==null?void 0:a.end_time_ms)!=null?b:null;this.$3=(b=a==null?void 0:a.shared_idx)!=null?b:0;this.$4=(b=a==null?void 0:a.source)!=null?b:"rtc_www";this.$5=(b=a==null?void 0:a.start_time_ms)!=null?b:null;this.$6=(b=a==null?void 0:a.streams)!=null?b:{}}var b=a.prototype;b.getInternalState=function(){return{end_time_ms:this.$2,shared_idx:this.$3,source:this.$4,start_time_ms:this.$5,streams:this.$6}};b.$7=function(a,b,c){if(c.includes("qp")&&a.counters.qpSum!=null&&(a.counters.framesDecoded!=null||a.counters.framesEncoded!=null)){a.counters.qp==null&&(a.counters.qp=Array(this.$3-a.bucket_start).fill(0));c=0;var e=0,f=this.$3-a.bucket_start;f>0?(a.counters.framesEncoded!=null?c=a.counters.framesEncoded[f]-a.counters.framesEncoded[f-1]:a.counters.framesDecoded!=null&&(c=a.counters.framesDecoded[f]-a.counters.framesDecoded[f-1]),e=a.counters.qpSum[f]-a.counters.qpSum[f-1]):(a.counters.framesEncoded!=null?c=a.counters.framesEncoded[f]:a.counters.framesDecoded!=null&&(c=a.counters.framesDecoded[f]),e=a.counters.qpSum[f]);a.counters.qp[f]=(a=d("ZenonVideoQpConversion").convertQp(c,e,b))!=null?a:0}};b.$8=function(a,b,c,e){var f=this,g=function(c,g){for(var h=0;h<c.length;h++){var i=c[h];if(b.includes(i))for(var j=a.values(),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}m=m;if(m.type===g&&m[i]!==void 0){var n;e.counters[i]==null&&(e.counters[i]=Array(f.$3-e.bucket_start).fill(0));n=(n=d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[i])!=null?n:1;e.counters[i][f.$3-e.bucket_start]=Math.round(Number(m[i])*n)}}}};g(d("ZenonMediaStatsConfig").getTrackStats(),"track");g(d("ZenonMediaStatsConfig").getMediaSourceStats(),"media-source");if(c==="video"&&b.includes("qp")){g=!1;for(var c=a.values(),h=Array.isArray(c),i=0,c=h?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=c.length)break;j=c[i++]}else{i=c.next();if(i.done)break;j=i.value}j=j;j.encoderImplementation!==void 0&&(g=String(j.encoderImplementation).includes("264"))}this.$7(e,g,b)}};b.$9=function(a){return a.map(function(b,c){return c===0?0:b-a[c-1]})};b.$10=function(a){if(a.type==="candidate-pair")return a.id;var b="unknown",c=["recv","inbound"],d=["send","outbound"];c.some(function(b){return a.id.toLowerCase().includes(b)})&&(b="inbound");d.some(function(b){return a.id.toLowerCase().includes(b)})&&(b="outbound");c=a.mediaType===void 0?"unknown":a.mediaType.toString();d=a.ssrc===void 0?"unknown":a.ssrc.toString();return b+"_"+c+"_"+d};b.$11=function(a){return a};b.$12=function(a,b){return a+"_rtp_"+b};b.$13=function(a,b,c){if(c&&Object.prototype.hasOwnProperty.call(c.counters,"estimatedPlayoutTimestamp")&&Object.prototype.hasOwnProperty.call(a.counters,"estimatedPlayoutTimestamp")){var d=c.counters.estimatedPlayoutTimestamp.length,e=a.counters.estimatedPlayoutTimestamp.length,f=Math.min(e,d),g=new Array(f).fill(0),h=new Array(f).fill(0);for(var j=0;j<f;j++){var k=c.counters.estimatedPlayoutTimestamp[j],l=a.counters.estimatedPlayoutTimestamp[j];k>0&&l>0?k>=l?(h[j]=2,g[j]=Math.min(k-l,i)):(h[j]=1,g[j]=Math.min(l-k,i)):(h[j]=0,g[j]=0)}b.push({data:g,name:"avSync"});b.push({data:h,name:"avSyncSign"});l=22089888e5+1598738e6;k=Math.max(e,d);j=new Array(d).fill(0);f=new Array(e).fill(0);g=null;for(var h=0;h<k;h++){d=c.counters.estimatedPlayoutTimestamp[h];e=a.counters.estimatedPlayoutTimestamp[h];g==null&&(d>l&&e>l?g=Math.min(d,e):d>l?g=d:e>l&&(g=e));g!=null&&(d>l&&(j[h]=Math.max(Math.min(d-g,i),-i)),e>l&&(f[h]=Math.max(Math.min(e-g,i),-i)))}b.push({data:j,name:"audioTs"});b.push({data:f,name:"videoTs"})}};b.$14=function(a,b,c){var e=[];for(var f in a.counters)b.includes(f)||e.push({data:a.counters[f],name:f}),d("ZenonMediaStatsParser").isCumulativeStat(f)&&!b.includes(f+"_delta")&&e.push({data:this.$9(a.counters[f]),name:f+"_delta"});f=a.counters;b=f.fecPacketsDiscarded;f=f.fecPacketsReceived;if(b!=null&&f!=null){var g=Math.min(b.length,f.length),h=[];for(var i=0;i<g;i++)h.push(f[i]-b[i]);e.push({data:this.$9(h),name:"fecPacketsUsed_delta"})}this.$15(a,e);this.$13(a,e,c);return e};b.$15=function(a,b){if(Object.prototype.hasOwnProperty.call(a.counters,"jitterBufferDelay")&&Object.prototype.hasOwnProperty.call(a.counters,"jitterBufferEmittedCount")){var c=Math.min(a.counters.jitterBufferDelay.length,a.counters.jitterBufferEmittedCount.length),d=new Array(c).fill(0);for(var e=1;e<c;e++){var f=a.counters.jitterBufferDelay[e]-a.counters.jitterBufferDelay[e-1],g=a.counters.jitterBufferEmittedCount[e]-a.counters.jitterBufferEmittedCount[e-1];g===0?d[e]=0:d[e]=Math.round(f*1e3/g)}b.push({data:d,name:"neteqMeanWaitTime"})}};b.addSenderVideoStallData=function(a){var b=this;[[d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID,"screen"],[d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID,"video"]].forEach(function(c){var d=c[0];c=c[1];var e=a.get(d);if(e!=null){d=b.generateTslogStreamName(c,d);var f=b.$6[d];f==null&&(f={bucket_end:b.$3,bucket_start:b.$3,contentType:c,counters:{},owner:""},b.$6[d]=f);b.updateVideoStallStats(e,f,b.$3,c)}})};b.addRenderedFrameData=function(a,b){var c=this;if(b.size===0)return;b.forEach(function(d){if(d.mediaType!=="video"||d.kind!=="video")return;var e=c.$10(d);e=c.$6[e];if(e==null)return;d=d.trackId!=null?b.get(d.trackId.toString()):null;if(d==null||d.trackIdentifier==null||d.remoteSource===!1||d.ended)return;d=d.trackIdentifier?d.trackIdentifier.toString():"";if(!d)return;d=a.get(d);if(d){var f;e.counters.renderedWidth==null&&(e.counters.renderedWidth=Array(c.$3-e.bucket_start).fill(0));e.counters.renderedHeight==null&&(e.counters.renderedHeight=Array(c.$3-e.bucket_start).fill(0));var g=c.$3-e.bucket_start;e.counters.renderedWidth[g]=(f=d.renderedWidth)!=null?f:0;e.counters.renderedWidth[g]=Math.round(e.counters.renderedWidth[g]);e.counters.renderedHeight[g]=(f=d.renderedHeight)!=null?f:0;e.counters.renderedHeight[g]=Math.round(e.counters.renderedHeight[g])}})};b.addCallCpuData=function(a,b){var c=this;a=this.$11(a);var d=this.$6[a];d==null&&(d={bucket_end:this.$3,bucket_start:this.$3,contentType:"client-metrics",counters:{},owner:""},this.$6[a]=d);d.bucket_end=this.$3;Object.keys(b).forEach(function(a){c.addCounterValue(d,a,b[a])})};b.addCandidatePairStats=function(a){var b=this;if(a.size===0)return;a.forEach(function(a){if(a.type==="candidate-pair"){var c=b.$10(a),e=b.$6[c];e==null&&(e={bucket_end:b.$3,bucket_start:b.$3,contentType:"candidate-pair",counters:{},owner:""},b.$6[c]=e);(b.$5==null||a.timestamp<b.$5)&&(b.$5=Math.round(a.timestamp));for(var c in a)d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED_FROM_CANDIDATE_PAIR.includes(c)&&b.addCounterValue(e,c,a[c],d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[c]);e.bucket_end=b.$3;(b.$2==null||a.timestamp>b.$2)&&(b.$2=Math.round(a.timestamp))}})};b.addData=function(a,b,c,e,f){var g=this;if(b.size===0)return;b.forEach(function(h){if(h.type==="track"||h.type==="media-source"||h.type==="candidate-pair"||h.type==="VideoBwe"||h.type==="googCandidatePair")return;var i=g.$10(h),j=g.$6[i];if(h.type==="ssrc"){if(j==null)return;for(var k in h)c.includes(k)&&d("ZenonMediaStatsConfig").getSsrcStats().includes(k)&&g.addCounterValue(j,k,h[k],d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[k])}else{j==null&&(j={bucket_end:g.$3,bucket_start:g.$3,contentType:e,counters:{},owner:f?f.id:""},g.$6[i]=j);(g.$5==null||h.timestamp<g.$5)&&(g.$5=Math.round(h.timestamp));h.ssrc!=null&&(j.ssrc=h.ssrc.toString());g.addCounterValue(j,"trackEnabled",a);for(var k in h){c.includes(k)&&g.addCounterValue(j,k,h[k],d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[k]);if(k==="estimatedPlayoutTimestamp"&&c.includes(d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY)){i=new Date(Date.UTC(0,0));i=Date.now()-i-Number(h[k]);j.counters[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY]==null&&(j.counters[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY]=Array(g.$3-j.bucket_start).fill(0));j.counters[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY][g.$3-j.bucket_start]=i}}g.$8(b,c,e,j)}j.bucket_end=g.$3;(g.$2==null||h.timestamp>g.$2)&&(g.$2=Math.round(h.timestamp))})};b.addNonMediaStates=function(){var a=this;this.$6.nonMediaState==null&&(this.$6.nonMediaState={bucket_end:this.$3,bucket_start:this.$3,contentType:"non-media-state",counters:{},owner:""});var b=this.$6.nonMediaState;Object.keys(this.$1).forEach(function(c){if(c==="sendParametersState"){var d=a.$1[c];if(d!=null)for(var e=0;e<d.encodings.length;e++){var f=d.encodings[e],g="l"+e,h=0;f.active!=null&&(h=f.active?2:1);a.addCounterValue(b,g+"a",h);h=0;f.maxBitrate!=null&&(h=f.maxBitrate);a.addCounterValue(b,g+"mb",h);h=0;f.scaleResolutionDownBy!=null&&(h=f.scaleResolutionDownBy);a.addCounterValue(b,g+"sr",h,100)}}else a.addCounterValue(b,c,a.$1[c])});b.bucket_end=this.$3};b.advance=function(){var a;this.$6["."]==null&&(this.$6["."]={bucket_end:this.$3,bucket_start:this.$3,contentType:"time",counters:{btime:[],ctime:[]}});a=(a=this.$2)!=null?a:0;var b=this.$6["."].counters,c=b.btime;b=b.ctime;b.push(Math.round(a-((a=this.$5)!=null?a:0)));c.push(Math.round(b[this.$3]-((a=b[this.$3-1])!=null?a:0)));this.$6["."].bucket_end=this.$3;this.$3++};b.onIceConnectionStateChange=function(a){this.$1.iceConnectionState=(a=h[a])!=null?a:0};b.onRtpSendParametersStateChange=function(a){this.$1.sendParametersState=a};b.serialize=function(a){if(Object.keys(this.$6).length===0)return{format:"JSON",timeSeries:null};a=(a=a)!=null?a:d("ZenonMediaStatsConfig").TSLOG_STATS_TO_SUPPRESS;var b={source:this.$4,start_time_ms:Math.round(Number(this.$5)),streams:[]},c=new Map(),e=0,f=new Map(),g=["audio","video","screen"];for(var h in this.$6){var i=this.$6[h];if(g.includes(i.contentType)){var j=d("ZenonTSLogDataUtil").getMediaTrackDirection(h);j==="inbound"&&i.owner!=null&&!c.has(i.owner)&&(c.set(i.owner,e.toString()),e++);j=i.owner+i.contentType;f.set(j,h)}}i={};for(var j in this.$6){e=this.$6[j];h=void 0;var k=j;if(g.includes(e.contentType)){var l=d("ZenonTSLogDataUtil").getMediaTrackDirection(j);i[l+e.contentType]=i[l+e.contentType]+1||0;k=this.$12(l,e.contentType)}else e.contentType==="candidate-pair"?k="cp":e.contentType==="client-metrics"&&(k="cm");l=f.get(e.owner+"audio");e.contentType==="video"&&l!=null&&(h=this.$6[l]);l={bucket_end:e.bucket_end,bucket_start:e.bucket_start,counters:this.$14(this.$6[j],a,h),name:k,props:{}};c.has(this.$6[j].owner)&&(l.props.seq=c.get(this.$6[j].owner));this.$6[j].ssrc!=null&&(l.props.ssrc=this.$6[j].ssrc);b.streams.push(l)}return this.$16(JSON.stringify(b))};b.updateVideoStallStats=function(a,b,c,e){[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_IS_STALLED].forEach(function(d){var f=e+"_"+d,g=c-b.bucket_start;b.counters[f]==null&&(b.counters[f]=Array(g).fill(0));b.counters[f][g]=(g=(f=a.deltaStat[d])==null?void 0:f.getLastAddedValue())!=null?g:0;b.bucket_end=c})};b.generateTslogStreamName=function(a,b){return"outbound_"+a+"_"+b};b.addCounterValue=function(a,b,c,d){var e=Math.max(this.$3-a.bucket_start,0);a.counters[b]==null&&(a.counters[b]=Array(e).fill(0));d=Math.round(Number(c)*((c=d)!=null?c:1));a.counters[b][e]=d};b.$16=function(a){try{var b=btoa(c("pako").deflate(a,{to:"string"}));c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Compressed TSLog data of length "+a.length+" to "+b.length});return{format:"B64_DEFLATE",timeSeries:b}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Caught exception while compressing TSLog")}c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Not compressing TSLog data of length "+a.length});return{format:"JSON",timeSeries:a}};return a}();g["default"]=a}),98);
__d("ZenonAppContextImpl",["Recoil","ZenonAppContextImplQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("ZenonAppContextImplQuery.graphql");a=d("Recoil").atom({"default":{joining_context:{},is_e2ee_mandated:!1},key:"ZenonAppContextImpl"});g["default"]=a}),98);
__d("ZenonDualStreamSwapHooks",["Recoil","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=d("Recoil").atom({"default":new Set(),key:"ZenonDualStreamSwapHooks_ParticipantsDualStreamSwapAtom"});function a(){var a=d("Recoil").useSetRecoilState(i),b=d("Recoil").useRecoilValue(i);return h(function(c){var d=new Set(Array.from(b));d.has(c)?d["delete"](c):d.add(c);a(d)},[b,a])}function b(a){var b=d("Recoil").useRecoilValue(i);return b.has(a)}g.useZenonParticipantDualStreamSwapToggle=a;g.useZenonShouldSwapParticipantDualStream=b}),98);
__d("ZenonIntegrationMatchContainer.react",["CometRelay","ZenonIntegrationBoundary.react","ZenonIntegrationMatchContainer_match.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.match;a=a.props;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("ZenonIntegrationMatchContainer_match.graphql"),e);return i.jsx(c("ZenonIntegrationBoundary.react"),{errorBoundaryProject:f.integration_boundary_name,name:f.__typename,children:i.jsx(d("CometRelay").MatchContainer,{match:e,props:a})})}g["default"]=a}),98);
__d("getGenderConst",["GenderConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"FEMALE":return c("GenderConst").FEMALE_SINGULAR;case"MALE":return c("GenderConst").MALE_SINGULAR;case"NEUTER":return c("GenderConst").NEUTER_SINGULAR;case"UNKNOWN":default:return c("GenderConst").UNKNOWN_SINGULAR}}g["default"]=a}),98);